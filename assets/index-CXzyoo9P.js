(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function Gy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sh={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function $0(){if(xp)return wl;xp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var Up;function J0(){return Up||(Up=1,sh.exports=$0()),sh.exports}var W=J0(),lh={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function W0(){if(Lp)return Et;Lp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function U(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,at={};function tt(D,K,nt){this.props=D,this.context=K,this.refs=at,this.updater=nt||k}tt.prototype.isReactComponent={},tt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},tt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Dt(){}Dt.prototype=tt.prototype;function At(D,K,nt){this.props=D,this.context=K,this.refs=at,this.updater=nt||k}var _t=At.prototype=new Dt;_t.constructor=At,J(_t,tt.prototype),_t.isPureReactComponent=!0;var Bt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function I(D,K,nt,Z,ct,St){return nt=St.ref,{$$typeof:r,type:D,key:K,ref:nt!==void 0?nt:null,props:St}}function S(D,K){return I(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return K[nt]})}var N=/\/+/g;function x(D,K){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):K.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,K,nt,Z,ct){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(St){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case r:case e:mt=!0;break;case A:return mt=D._init,ie(mt(D._payload),K,nt,Z,ct)}}if(mt)return ct=ct(D),mt=Z===""?"."+x(D,0):Z,Bt(ct)?(nt="",mt!=null&&(nt=mt.replace(N,"$&/")+"/"),ie(ct,K,nt,"",function(xn){return xn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(N,"$&/")+"/")+mt)),K.push(ct)),1;mt=0;var be=Z===""?".":Z+":";if(Bt(D))for(var Zt=0;Zt<D.length;Zt++)Z=D[Zt],St=be+x(Z,Zt),mt+=ie(Z,K,nt,St,ct);else if(Zt=U(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(Z=D.next()).done;)Z=Z.value,St=be+x(Z,Zt++),mt+=ie(Z,K,nt,St,ct);else if(St==="object"){if(typeof D.then=="function")return ie(Ne(D),K,nt,Z,ct);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,K,nt){if(D==null)return D;var Z=[],ct=0;return ie(D,Z,"","",function(St){return K.call(nt,St,ct++)}),Z}function et(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pt(){}return Et.Children={map:H,forEach:function(D,K,nt){H(D,function(){K.apply(this,arguments)},nt)},count:function(D){var K=0;return H(D,function(){K++}),K},toArray:function(D){return H(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=tt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=At,Et.StrictMode=s,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,K,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=J({},D.props),ct=D.key,St=void 0;if(K!=null)for(mt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(ct=""+K.key),K)!Lt.call(K,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&K.ref===void 0||(Z[mt]=K[mt]);var mt=arguments.length-2;if(mt===1)Z.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];Z.children=be}return I(D.type,ct,void 0,void 0,St,Z)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},Et.createElement=function(D,K,nt){var Z,ct={},St=null;if(K!=null)for(Z in K.key!==void 0&&(St=""+K.key),K)Lt.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ct[Z]=K[Z]);var mt=arguments.length-2;if(mt===1)ct.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];ct.children=be}if(D&&D.defaultProps)for(Z in mt=D.defaultProps,mt)ct[Z]===void 0&&(ct[Z]=mt[Z]);return I(D,St,void 0,void 0,null,ct)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=w,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Et.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},Et.startTransition=function(D){var K=vt.T,nt={};vt.T=nt;try{var Z=D(),ct=vt.S;ct!==null&&ct(nt,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Pt,ot)}catch(St){ot(St)}finally{vt.T=K}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(D){return vt.H.use(D)},Et.useActionState=function(D,K,nt){return vt.H.useActionState(D,K,nt)},Et.useCallback=function(D,K){return vt.H.useCallback(D,K)},Et.useContext=function(D){return vt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,K){return vt.H.useDeferredValue(D,K)},Et.useEffect=function(D,K,nt){var Z=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,K)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(D,K,nt){return vt.H.useImperativeHandle(D,K,nt)},Et.useInsertionEffect=function(D,K){return vt.H.useInsertionEffect(D,K)},Et.useLayoutEffect=function(D,K){return vt.H.useLayoutEffect(D,K)},Et.useMemo=function(D,K){return vt.H.useMemo(D,K)},Et.useOptimistic=function(D,K){return vt.H.useOptimistic(D,K)},Et.useReducer=function(D,K,nt){return vt.H.useReducer(D,K,nt)},Et.useRef=function(D){return vt.H.useRef(D)},Et.useState=function(D){return vt.H.useState(D)},Et.useSyncExternalStore=function(D,K,nt){return vt.H.useSyncExternalStore(D,K,nt)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.1",Et}var Pp;function Hh(){return Pp||(Pp=1,lh.exports=W0()),lh.exports}var fe=Hh();const tE=Gy(fe);var oh={exports:{}},Dl={},uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function eE(){return zp||(zp=1,(function(r){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Pt=ot-1>>>1,D=H[Pt];if(0<o(D,et))H[Pt]=et,H[ot]=D,ot=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Pt=0,D=H.length,K=D>>>1;Pt<K;){var nt=2*(Pt+1)-1,Z=H[nt],ct=nt+1,St=H[ct];if(0>o(Z,ot))ct<D&&0>o(St,Z)?(H[Pt]=St,H[ct]=ot,Pt=ct):(H[Pt]=Z,H[nt]=ot,Pt=nt);else if(ct<D&&0>o(St,ot))H[Pt]=St,H[ct]=ot,Pt=ct;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,O=null,U=3,k=!1,J=!1,at=!1,tt=!1,Dt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function vt(H){if(at=!1,Bt(H),!J)if(i(_)!==null)J=!0,Lt||(Lt=!0,x());else{var et=i(v);et!==null&&ie(vt,et.startTime-H)}}var Lt=!1,I=-1,S=5,w=-1;function V(){return tt?!0:!(r.unstable_now()-w<S)}function N(){if(tt=!1,Lt){var H=r.unstable_now();w=H;var et=!0;try{t:{J=!1,at&&(at=!1,At(I),I=-1),k=!0;var ot=U;try{e:{for(Bt(H),O=i(_);O!==null&&!(O.expirationTime>H&&V());){var Pt=O.callback;if(typeof Pt=="function"){O.callback=null,U=O.priorityLevel;var D=Pt(O.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){O.callback=D,Bt(H),et=!0;break e}O===i(_)&&s(_),Bt(H)}else s(_);O=i(_)}if(O!==null)et=!0;else{var K=i(v);K!==null&&ie(vt,K.startTime-H),et=!1}}break t}finally{O=null,U=ot,k=!1}et=void 0}}finally{et?x():Lt=!1}}}var x;if(typeof _t=="function")x=function(){_t(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=N,x=function(){Ne.postMessage(null)}}else x=function(){Dt(N,0)};function ie(H,et){I=Dt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(H){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var ot=U;U=et;try{return H()}finally{U=ot}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=U;U=H;try{return et()}finally{U=ot}},r.unstable_scheduleCallback=function(H,et,ot){var Pt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Pt+ot:Pt):ot=Pt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>Pt?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(at?(At(I),I=-1):at=!0,ie(vt,ot-Pt))):(H.sortIndex=D,e(_,H),J||k||(J=!0,Lt||(Lt=!0,x()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var et=U;return function(){var ot=U;U=et;try{return H.apply(this,arguments)}finally{U=ot}}}})(ch)),ch}var Bp;function nE(){return Bp||(Bp=1,uh.exports=eE()),uh.exports}var fh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function iE(){if(qp)return He;qp=1;var r=Hh();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,O=g(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:k}):A==="script"&&s.d.X(_,{crossOrigin:O,integrity:U,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,O=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var jp;function aE(){if(jp)return fh.exports;jp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fh.exports=iE(),fh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function rE(){if(kp)return Dl;kp=1;var r=nE(),e=Hh(),i=aE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return g(c),t;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=h;break}if(E===l){y=!0,l=c,a=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===a){y=!0,a=h,l=c;break}if(E===l){y=!0,l=h,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Dt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case tt:return"Profiler";case at:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Pt=[],D=-1;function K(t){return{current:t}}function nt(t){0>D||(t.current=Pt[D],Pt[D]=null,D--)}function Z(t,n){D++,Pt[D]=t.current,t.current=n}var ct=K(null),St=K(null),mt=K(null),be=K(null);function Zt(t,n){switch(Z(mt,n),Z(St,t),Z(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?op(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=op(n),t=up(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),Z(ct,t)}function xn(){nt(ct),nt(St),nt(mt)}function Ni(t){t.memoizedState!==null&&Z(be,t);var n=ct.current,a=up(n,t.type);n!==a&&(Z(St,t),Z(ct,a))}function ti(t){St.current===t&&(nt(ct),nt(St)),be.current===t&&(nt(be),Tl._currentValue=ot)}var ma=Object.prototype.hasOwnProperty,ga=r.unstable_scheduleCallback,pa=r.unstable_cancelCallback,_s=r.unstable_shouldYield,Jl=r.unstable_requestPaint,fn=r.unstable_now,rc=r.unstable_getCurrentPriorityLevel,vs=r.unstable_ImmediatePriority,rr=r.unstable_UserBlockingPriority,ya=r.unstable_NormalPriority,sc=r.unstable_LowPriority,sr=r.unstable_IdlePriority,Es=r.log,Wl=r.unstable_setDisableYieldValue,ae=null,jt=null;function tn(t){if(typeof Es=="function"&&Wl(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:_a,to=Math.log,lc=Math.LN2;function _a(t){return t>>>=0,t===0?32:31-(to(t)/lc|0)|0}var va=256,Ea=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function lr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):a||(a=E&~t,a!==0&&(c=Rn(a))))):(E=l&~h,E!==0?c=Rn(E):y!==0?c=Rn(y):a||(a=l&~t,a!==0&&(c=Rn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Ta(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ts(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var t=va;return va<<=1,(va&4194048)===0&&(va=256),t}function Ss(){var t=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),t}function ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bs(t,n,a,l,c,h){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-je(a),F=1<<G;E[G]=0,b[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&Un(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Un(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Rs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-je(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function or(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function eo(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,hn="__reactContainer$"+Wt,ws="__reactEvents$"+Wt,oc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,no="__reactResources$"+Wt,Aa="__reactMarker$"+Wt;function Ui(t){delete t[_e],delete t[he],delete t[ws],delete t[oc],delete t[xi]}function ii(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=dp(t);t!==null;){if(a=t[_e])return a;t=dp(t)}return n}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[no];return n||(n=t[no]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Aa]=!0}var Ds=new Set,ur={};function wn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(ur[t]=n,t=0;t<n.length;t++)Ds.add(n[t])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ao={},Sa={};function ro(t){return ma.call(Sa,t)?!0:ma.call(ao,t)?!1:io.test(t)?Sa[t]=!0:(ao[t]=!0,!1)}function Li(t,n,a){if(ro(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ba,so;function ri(t){if(ba===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ba=n&&n[1]||"",so=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+t+so}var cr=!1;function fr(t,n){if(!t||cr)return"";cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{cr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Cs(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return fr(t.type,!1);case 11:return fr(t.type.render,!1);case 1:return fr(t.type,!0);case 31:return ri("Activity");default:return""}}function hr(t){try{var n="";do n+=Cs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uc(t){var n=Vs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function dr(t){t._valueTracker||(t._valueTracker=uc(t))}function Is(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Vs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cc=/[\n"\\]/g;function de(t){return t.replace(cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,a,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Pi(t,y,Ke(n)):a!=null?Pi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function wa(t,n,a,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Pi(t,n,a){n==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function si(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Da(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ca.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ns(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&lo(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&lo(t,h,n[h])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(t){return hc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ui=null;function Ms(t){var n=Ln(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Is(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&si(t,!!a.multiple,n,!1)}}}var Bn=!1;function oo(t,n,a){if(Bn)return t(n,a);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(oi!==null||ui!==null)&&(nu(),oi&&(n=oi,t=ui,ui=oi=null,Ms(n),t)))for(n=0;n<t.length;n++)Ms(t[n])}}function Va(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{gn=!1}var qn=null,zi=null,ci=null;function xs(){if(ci)return ci;var t,n=zi,a=n.length,l,c="value"in qn?qn.value:qn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[h-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Us(){return!1}function Re(t){function n(a,l,c,h,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kn:Us,this.isPropagationStopped=Us,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=Re(qt),Na=A({},qt,{view:0,detail:0}),uo=Re(Na),pr,yr,Hn,Oa=A({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(pr=t.screenX-Hn.screenX,yr=t.screenY-Hn.screenY):yr=pr=0,Hn=t),pr)},movementY:function(t){return"movementY"in t?t.movementY:yr}}),pn=Re(Oa),co=A({},Oa,{dataTransfer:0}),dc=Re(co),Ma=A({},Na,{relatedTarget:0}),_r=Re(Ma),Ls=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),vr=Re(Ls),fo=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Er=Re(fo),mc=A({},qt,{data:0}),Ps=Re(mc),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mo[t])?!!n[t]:!1}function Ua(){return zs}var go=A({},Na,{key:function(t){if(t.key){var n=xa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tr=Re(go),po=A({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Re(po),fi=A({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),yo=Re(fi),_o=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=Re(_o),Eo=A({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=Re(Eo),Xe=A({},qt,{newState:0,oldState:0}),To=Re(Xe),Ao=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,p=Dn&&(!Gn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Ao.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Gn&&j(t,n)?(t=xs(),ci=zi=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function hi(t,n,a,l){oi?ui?ui.push(l):ui=[l]:oi=l,n=ou(n,"onChange"),0<n.length&&(a=new gr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Qn=null;function qs(t){ip(t,0)}function So(t){var n=Pn(t);if(Is(n))return t}function bd(t,n){if(t==="change")return n}var Rd=!1;if(Dn){var gc;if(Dn){var pc="oninput"in document;if(!pc){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),pc=typeof wd.oninput=="function"}gc=pc}else gc=!1;Rd=gc&&(!document.documentMode||9<document.documentMode)}function Dd(){Me&&(Me.detachEvent("onpropertychange",Cd),Qn=Me=null)}function Cd(t){if(t.propertyName==="value"&&So(Qn)){var n=[];hi(n,Qn,t,mn(t)),oo(qs,n)}}function Dv(t,n,a){t==="focusin"?(Dd(),Me=n,Qn=a,Me.attachEvent("onpropertychange",Cd)):t==="focusout"&&Dd()}function Cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(Qn)}function Vv(t,n){if(t==="click")return So(n)}function Iv(t,n){if(t==="input"||t==="change")return So(n)}function Nv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Nv;function js(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ma.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Id(t,n){var a=Vd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vd(a)}}function Nd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Nd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Od(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ra(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ra(t.document)}return n}function yc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ov=Dn&&"documentMode"in document&&11>=document.documentMode,Sr=null,_c=null,ks=null,vc=!1;function Md(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vc||Sr==null||Sr!==Ra(l)||(l=Sr,"selectionStart"in l&&yc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ks&&js(ks,l)||(ks=l,l=ou(_c,"onSelect"),0<l.length&&(n=new gr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Sr)))}function La(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var br={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Ec={},xd={};Dn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Pa(t){if(Ec[t])return Ec[t];if(!br[t])return t;var n=br[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in xd)return Ec[t]=n[a];return t}var Ud=Pa("animationend"),Ld=Pa("animationiteration"),Pd=Pa("animationstart"),Mv=Pa("transitionrun"),xv=Pa("transitionstart"),Uv=Pa("transitioncancel"),zd=Pa("transitionend"),Bd=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function Cn(t,n){Bd.set(t,n),wn(n,[t])}var qd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var a=qd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:hr(n)},qd.set(t,n),n)}return{value:t,source:n,stack:hr(n)}}var _n=[],Rr=0,Ac=0;function bo(){for(var t=Rr,n=Ac=Rr=0;n<t;){var a=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var h=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&jd(a,c,h)}}function Ro(t,n,a,l){_n[Rr++]=t,_n[Rr++]=n,_n[Rr++]=a,_n[Rr++]=l,Ac|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sc(t,n,a,l){return Ro(t,n,a,l),wo(t)}function wr(t,n){return Ro(t,null,null,n),wo(t)}function jd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-je(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function wo(t){if(50<dl)throw dl=0,If=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Dr={};function Lv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,a,l){return new Lv(t,n,a,l)}function bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var a=t.alternate;return a===null?(a=an(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kd(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Do(t,n,a,l,c,h){var y=0;if(l=t,typeof t=="function")bc(t)&&(y=1);else if(typeof t=="string")y=z0(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,a,n,c),t.elementType=w,t.lanes=h,t;case J:return za(a.children,c,h,n);case at:y=8,c|=24;break;case tt:return t=an(12,a,n,c|2),t.elementType=tt,t.lanes=h,t;case vt:return t=an(13,a,n,c),t.elementType=vt,t.lanes=h,t;case Lt:return t=an(19,a,n,c),t.elementType=Lt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dt:case _t:y=10;break t;case At:y=9;break t;case Bt:y=11;break t;case I:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=an(y,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function za(t,n,a,l){return t=an(7,t,l,n),t.lanes=a,t}function Rc(t,n,a){return t=an(6,t,null,n),t.lanes=a,t}function wc(t,n,a){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Cr=[],Vr=0,Co=null,Vo=0,vn=[],En=0,Ba=null,mi=1,gi="";function qa(t,n){Cr[Vr++]=Vo,Cr[Vr++]=Co,Co=t,Vo=n}function Hd(t,n,a){vn[En++]=mi,vn[En++]=gi,vn[En++]=Ba,Ba=t;var l=mi;t=gi;var c=32-je(l)-1;l&=~(1<<c),a+=1;var h=32-je(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-je(n)+c|a<<c|l,gi=h+t}else mi=1<<h|a<<c|l,gi=t}function Dc(t){t.return!==null&&(qa(t,1),Hd(t,1,0))}function Cc(t){for(;t===Co;)Co=Cr[--Vr],Cr[Vr]=null,Vo=Cr[--Vr],Cr[Vr]=null;for(;t===Ba;)Ba=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null,mi=vn[--En],vn[En]=null}var Ze=null,re=null,zt=!1,ja=null,Fn=!1,Vc=Error(s(519));function ka(t){var n=Error(s(418,""));throw Qs(yn(n,t)),Vc}function Gd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)wt(gl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),wa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),dr(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Da(n,l.value,l.defaultValue,l.children),dr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||lp(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=uu),n=!0):n=!1,n||ka(t)}function Qd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function Hs(t){if(t!==Ze)return!1;if(!zt)return Qd(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ff(t.type,t.memoizedProps)),a=!a),a&&re&&ka(t),Qd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=In(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ta(t.type)?(t=Zf,Zf=null,re=t):re=n):re=Ze?In(t.stateNode.nextSibling):null;return!0}function Gs(){re=Ze=null,zt=!1}function Fd(){var t=ja;return t!==null&&(We===null?We=t:We.push.apply(We,t),ja=null),t}function Qs(t){ja===null?ja=[t]:ja.push(t)}var Ic=K(null),Ha=null,pi=null;function Bi(t,n,a){Z(Ic,n._currentValue),n._currentValue=a}function yi(t){t._currentValue=Ic.current,nt(Ic)}function Nc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Oc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Nc(h.return,a,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,h=y.alternate,h!==null&&(h.lanes|=a),Nc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Fs(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}c=c.return}t!==null&&Oc(n,t,a,l),n.flags|=262144}function Io(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Ha=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Yd(Ha,t)}function No(t,n){return Ha===null&&Ga(t),Yd(t,n)}function Yd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pi===null){if(t===null)throw Error(s(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return a}var Pv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},zv=r.unstable_scheduleCallback,Bv=r.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Pv,data:new Map,refCount:0}}function Ys(t){t.refCount--,t.refCount===0&&zv(Bv,function(){t.controller.abort()})}var Ks=null,xc=0,Ir=0,Nr=null;function qv(t,n){if(Ks===null){var a=Ks=[];xc=0,Ir=Pf(),Nr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xc++,n.then(Kd,Kd),n}function Kd(){if(--xc===0&&Ks!==null){Nr!==null&&(Nr.status="fulfilled");var t=Ks;Ks=null,Ir=0,Nr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jv(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Xd=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qv(t,n),Xd!==null&&Xd(t,n)};var Qa=K(null);function Uc(){var t=Qa.current;return t!==null?t:$t.pooledCache}function Oo(t,n){n===null?Z(Qa,Qa.current):Z(Qa,n.pool)}function Zd(){var t=Uc();return t===null?null:{parent:Te._currentValue,pool:t}}var Xs=Error(s(460)),$d=Error(s(474)),Mo=Error(s(542)),Lc={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xo(){}function Wd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(xo,xo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,em(t),t;default:if(typeof n.status=="string")n.then(xo,xo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,em(t),t}throw Zs=n,Xs}}var Zs=null;function tm(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function em(t){if(t===Xs||t===Mo)throw Error(s(483))}var qi=!1;function Pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wo(t),jd(t,null,a),n}return Ro(t,l,n,a),wo(t)}function $s(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rs(t,a)}}function Bc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var qc=!1;function Js(){if(qc){var t=Nr;if(t!==null)throw t}}function Ws(t,n,a,l){qc=!1;var c=t.updateQueue;qi=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?h=z:y.next=z,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=b))}if(h!==null){var F=c.baseState;y=0,G=z=b=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===Ir&&(qc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,ft=E;B=n;var Kt=a;switch(ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){F=dt.call(Kt,F,B);break t}F=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,B=typeof dt=="function"?dt.call(Kt,F,B):dt,B==null)break t;F=A({},F,B);break t;case 2:qi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,b=F):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=F}}function nm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function im(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)nm(a[t],n)}var Or=K(null),Uo=K(0);function am(t,n){t=bi,Z(Uo,t),Z(Or,n),bi=t|n.baseLanes}function jc(){Z(Uo,bi),Z(Or,Or.current)}function kc(){bi=Uo.current,nt(Or),nt(Uo)}var Hi=0,Tt=null,Ft=null,me=null,Lo=!1,Mr=!1,Fa=!1,Po=0,tl=0,xr=null,kv=0;function oe(){throw Error(s(321))}function Hc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!nn(t[a],n[a]))return!1;return!0}function Gc(t,n,a,l,c,h){return Hi=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?jm:km,Fa=!1,h=a(l,c),Fa=!1,Mr&&(h=sm(n,a,l,c)),rm(t),h}function rm(t){H.H=Ho;var n=Ft!==null&&Ft.next!==null;if(Hi=0,me=Ft=Tt=null,Lo=!1,tl=0,xr=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Io(t)&&(De=!0))}function sm(t,n,a,l){Tt=t;var c=0;do{if(Mr&&(xr=null),tl=0,Mr=!1,25<=c)throw Error(s(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=Xv,h=n(a,l)}while(Mr);return h}function Hv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Tt.flags|=1024),n}function Qc(){var t=Po!==0;return Po=0,t}function Fc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Yc(t){if(Lo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lo=!1}Hi=0,me=Ft=Tt=null,Mr=!1,tl=Po=0,xr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Tt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?Tt.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?Tt.memoizedState=me=t:me=me.next=t}return me}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=tl;return tl+=1,xr===null&&(xr=[]),t=Wd(xr,t,n),n=Tt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?jm:km),t}function zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===_t)return ke(t)}throw Error(s(438,String(t)))}function Xc(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Kc(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function _i(t,n){return typeof n=="function"?n(t):n}function Bo(t){var n=ge();return Zc(n,Ft,t)}function Zc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,z=n,G=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(Nt&F)===F:(Hi&F)===F){var B=z.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===Ir&&(G=!0);else if((Hi&B)===B){z=z.next,B===Ir&&(G=!0);continue}else F={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=F,y=h):b=b.next=F,Tt.lanes|=B,Zi|=B;F=z.action,Fa&&a(h,F),h=z.hasEagerState?z.eagerState:a(h,F)}else B={lane:F,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=B,y=h):b=b.next=B,Tt.lanes|=F,Zi|=F;z=z.next}while(z!==null&&z!==n);if(b===null?y=h:b.next=E,!nn(h,t.memoizedState)&&(De=!0,G&&(a=Nr,a!==null)))throw a;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $c(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);nn(h,n.memoizedState)||(De=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function lm(t,n,a){var l=Tt,c=ge(),h=zt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!nn((Ft||c).memoizedState,a);y&&(c.memoizedState=a,De=!0),c=c.queue;var E=cm.bind(null,l,c,t);if(nl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Ur(9,qo(),um.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));h||(Hi&124)!==0||om(l,n,a)}return a}function om(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=Kc(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function um(t,n,a,l){n.value=a,n.getSnapshot=l,fm(n)&&hm(t)}function cm(t,n,a){return a(function(){fm(n)&&hm(t)})}function fm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!nn(t,a)}catch{return!0}}function hm(t){var n=wr(t,2);n!==null&&un(n,t,2)}function Jc(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),Fa){tn(!0);try{a()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function dm(t,n,a,l){return t.baseState=a,Zc(t,Ft,typeof l=="function"?l:_i)}function Gv(t,n,a,l,c){if(ko(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,mm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function mm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),gm(t,n,E)}catch(z){Wc(t,n,z)}finally{H.T=h}}else try{h=a(c,l),gm(t,n,h)}catch(z){Wc(t,n,z)}}function gm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pm(t,n,l)},function(l){return Wc(t,n,l)}):pm(t,n,a)}function pm(t,n,a){n.status="fulfilled",n.value=a,ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,mm(t,a)))}function Wc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ym(n),n=n.next;while(n!==l)}t.action=null}function ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _m(t,n){return n}function vm(t,n){if(zt){var a=$t.formState;if(a!==null){t:{var l=Tt;if(zt){if(re){e:{for(var c=re,h=Fn;c.nodeType!==8;){if(!h){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){re=In(c.nextSibling),l=c.data==="F!";break t}}ka(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},a.queue=l,a=zm.bind(null,Tt,l),l.dispatch=a,l=Jc(!1),h=rf.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=Gv.bind(null,Tt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Em(t){var n=ge();return Tm(n,Ft,t)}function Tm(t,n,a){if(n=Zc(t,n,_m)[0],t=Bo(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=el(n)}catch(y){throw y===Xs?Mo:y}else l=n;n=ge();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Ur(9,qo(),Qv.bind(null,c,a),null)),[l,h,t]}function Qv(t,n){t.action=n}function Am(t){var n=ge(),a=Ft;if(a!==null)return Tm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ur(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Kc(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function qo(){return{destroy:void 0,resource:void 0}}function Sm(){return ge().memoizedState}function jo(t,n,a,l){var c=$e();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=Ur(1|n,qo(),a,l)}function nl(t,n,a,l){var c=ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Ft!==null&&l!==null&&Hc(l,Ft.memoizedState.deps)?c.memoizedState=Ur(n,h,a,l):(Tt.flags|=t,c.memoizedState=Ur(1|n,h,a,l))}function bm(t,n){jo(8390656,8,t,n)}function Rm(t,n){nl(2048,8,t,n)}function wm(t,n){return nl(4,2,t,n)}function Dm(t,n){return nl(4,4,t,n)}function Cm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vm(t,n,a){a=a!=null?a.concat([t]):null,nl(4,4,Cm.bind(null,n,t),a)}function tf(){}function Im(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Hc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Nm(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Hc(n,l[1]))return l[0];if(l=t(),Fa){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l}function ef(t,n,a){return a===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=xg(),Tt.lanes|=t,Zi|=t,a)}function Om(t,n,a,l){return nn(a,n)?a:Or.current!==null?(t=ef(t,a,l),nn(t,n)||(De=!0),t):(Hi&42)===0?(De=!0,t.memoizedState=a):(t=xg(),Tt.lanes|=t,Zi|=t,n)}function Mm(t,n,a,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=H.T,E={};H.T=E,rf(t,!1,n,a);try{var b=c(),z=H.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=jv(b,l);il(t,n,G,on(t))}else il(t,n,l,on(t))}catch(F){il(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{et.p=h,H.T=y}}function Fv(){}function nf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=xm(t).queue;Mm(t,c,n,ot,a===null?Fv:function(){return Um(t),a(l)})}function xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Um(t){var n=xm(t).next.queue;il(t,n,{},on())}function af(){return ke(Tl)}function Lm(){return ge().memoizedState}function Pm(){return ge().memoizedState}function Yv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=on();t=ji(a);var l=ki(n,t,a);l!==null&&(un(l,n,a),$s(l,n,a)),n={cache:Mc()},t.payload=n;return}n=n.return}}function Kv(t,n,a){var l=on();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ko(t)?Bm(n,a):(a=Sc(t,n,a,l),a!==null&&(un(a,t,l),qm(a,n,l)))}function zm(t,n,a){var l=on();il(t,n,a,l)}function il(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ko(t))Bm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,a);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return Ro(t,n,c,0),$t===null&&bo(),!1}catch{}finally{}if(a=Sc(t,n,c,l),a!==null)return un(a,t,l),qm(a,n,l),!0}return!1}function rf(t,n,a,l){if(l={lane:2,revertLane:Pf(),action:l,hasEagerState:!1,eagerState:null,next:null},ko(t)){if(n)throw Error(s(479))}else n=Sc(t,a,l,2),n!==null&&un(n,t,2)}function ko(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Bm(t,n){Mr=Lo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rs(t,a)}}var Ho={readContext:ke,use:zo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},jm={readContext:ke,use:zo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:bm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,jo(4194308,4,Cm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return jo(4194308,4,t,n)},useInsertionEffect:function(t,n){jo(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(Fa){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(Fa){tn(!0);try{a(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Kv.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Jc(t);var n=t.queue,a=zm.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(t,n){var a=$e();return ef(a,t,n)},useTransition:function(){var t=Jc(!1);return t=Mm.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=$e();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Nt&124)!==0||om(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,bm(cm.bind(null,l,h,t),[t]),l.flags|=2048,Ur(9,qo(),um.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=$t.identifierPrefix;if(zt){var a=gi,l=mi;a=(l&~(1<<32-je(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Po++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=kv++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:af,useFormState:vm,useActionState:vm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=rf.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Xc,useCacheRefresh:function(){return $e().memoizedState=Yv.bind(null,Tt)}},km={readContext:ke,use:zo,useCallback:Im,useContext:ke,useEffect:Rm,useImperativeHandle:Vm,useInsertionEffect:wm,useLayoutEffect:Dm,useMemo:Nm,useReducer:Bo,useRef:Sm,useState:function(){return Bo(_i)},useDebugValue:tf,useDeferredValue:function(t,n){var a=ge();return Om(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Bo(_i)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:lm,useId:Lm,useHostTransitionStatus:af,useFormState:Em,useActionState:Em,useOptimistic:function(t,n){var a=ge();return dm(a,Ft,t,n)},useMemoCache:Xc,useCacheRefresh:Pm},Xv={readContext:ke,use:zo,useCallback:Im,useContext:ke,useEffect:Rm,useImperativeHandle:Vm,useInsertionEffect:wm,useLayoutEffect:Dm,useMemo:Nm,useReducer:$c,useRef:Sm,useState:function(){return $c(_i)},useDebugValue:tf,useDeferredValue:function(t,n){var a=ge();return Ft===null?ef(a,t,n):Om(a,Ft.memoizedState,t,n)},useTransition:function(){var t=$c(_i)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:lm,useId:Lm,useHostTransitionStatus:af,useFormState:Am,useActionState:Am,useOptimistic:function(t,n){var a=ge();return Ft!==null?dm(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Pm},Lr=null,al=0;function Go(t){var n=al;return al+=1,Lr===null&&(Lr=[]),Wd(Lr,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qo(t,n){throw n.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hm(t){var n=t._init;return n(t._payload)}function Gm(t){function n(M,C){if(t){var P=M.deletions;P===null?(M.deletions=[C],M.flags|=16):P.push(C)}}function a(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function h(M,C,P){return M.index=P,t?(P=M.alternate,P!==null?(P=P.index,P<C?(M.flags|=67108866,C):P):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,P,Q){return C===null||C.tag!==6?(C=Rc(P,M.mode,Q),C.return=M,C):(C=c(C,P),C.return=M,C)}function b(M,C,P,Q){var rt=P.type;return rt===J?G(M,C,P.props.children,Q,P.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Hm(rt)===C.type)?(C=c(C,P.props),rl(C,P),C.return=M,C):(C=Do(P.type,P.key,P.props,null,M.mode,Q),rl(C,P),C.return=M,C)}function z(M,C,P,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==P.containerInfo||C.stateNode.implementation!==P.implementation?(C=wc(P,M.mode,Q),C.return=M,C):(C=c(C,P.children||[]),C.return=M,C)}function G(M,C,P,Q,rt){return C===null||C.tag!==7?(C=za(P,M.mode,Q,rt),C.return=M,C):(C=c(C,P),C.return=M,C)}function F(M,C,P){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Rc(""+C,M.mode,P),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case U:return P=Do(C.type,C.key,C.props,null,M.mode,P),rl(P,C),P.return=M,P;case k:return C=wc(C,M.mode,P),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),F(M,C,P)}if(ie(C)||x(C))return C=za(C,M.mode,P,null),C.return=M,C;if(typeof C.then=="function")return F(M,Go(C),P);if(C.$$typeof===_t)return F(M,No(M,C),P);Qo(M,C)}return null}function B(M,C,P,Q){var rt=C!==null?C.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return rt!==null?null:E(M,C,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return P.key===rt?b(M,C,P,Q):null;case k:return P.key===rt?z(M,C,P,Q):null;case S:return rt=P._init,P=rt(P._payload),B(M,C,P,Q)}if(ie(P)||x(P))return rt!==null?null:G(M,C,P,Q,null);if(typeof P.then=="function")return B(M,C,Go(P),Q);if(P.$$typeof===_t)return B(M,C,No(M,P),Q);Qo(M,P)}return null}function q(M,C,P,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(P)||null,E(C,M,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return M=M.get(Q.key===null?P:Q.key)||null,b(C,M,Q,rt);case k:return M=M.get(Q.key===null?P:Q.key)||null,z(C,M,Q,rt);case S:var bt=Q._init;return Q=bt(Q._payload),q(M,C,P,Q,rt)}if(ie(Q)||x(Q))return M=M.get(P)||null,G(C,M,Q,rt,null);if(typeof Q.then=="function")return q(M,C,P,Go(Q),rt);if(Q.$$typeof===_t)return q(M,C,P,No(C,Q),rt);Qo(C,Q)}return null}function dt(M,C,P,Q){for(var rt=null,bt=null,lt=C,ht=C=0,Ve=null;lt!==null&&ht<P.length;ht++){lt.index>ht?(Ve=lt,lt=null):Ve=lt.sibling;var xt=B(M,lt,P[ht],Q);if(xt===null){lt===null&&(lt=Ve);break}t&&lt&&xt.alternate===null&&n(M,lt),C=h(xt,C,ht),bt===null?rt=xt:bt.sibling=xt,bt=xt,lt=Ve}if(ht===P.length)return a(M,lt),zt&&qa(M,ht),rt;if(lt===null){for(;ht<P.length;ht++)lt=F(M,P[ht],Q),lt!==null&&(C=h(lt,C,ht),bt===null?rt=lt:bt.sibling=lt,bt=lt);return zt&&qa(M,ht),rt}for(lt=l(lt);ht<P.length;ht++)Ve=q(lt,M,ht,P[ht],Q),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?ht:Ve.key),C=h(Ve,C,ht),bt===null?rt=Ve:bt.sibling=Ve,bt=Ve);return t&&lt.forEach(function(ra){return n(M,ra)}),zt&&qa(M,ht),rt}function ft(M,C,P,Q){if(P==null)throw Error(s(151));for(var rt=null,bt=null,lt=C,ht=C=0,Ve=null,xt=P.next();lt!==null&&!xt.done;ht++,xt=P.next()){lt.index>ht?(Ve=lt,lt=null):Ve=lt.sibling;var ra=B(M,lt,xt.value,Q);if(ra===null){lt===null&&(lt=Ve);break}t&&lt&&ra.alternate===null&&n(M,lt),C=h(ra,C,ht),bt===null?rt=ra:bt.sibling=ra,bt=ra,lt=Ve}if(xt.done)return a(M,lt),zt&&qa(M,ht),rt;if(lt===null){for(;!xt.done;ht++,xt=P.next())xt=F(M,xt.value,Q),xt!==null&&(C=h(xt,C,ht),bt===null?rt=xt:bt.sibling=xt,bt=xt);return zt&&qa(M,ht),rt}for(lt=l(lt);!xt.done;ht++,xt=P.next())xt=q(lt,M,ht,xt.value,Q),xt!==null&&(t&&xt.alternate!==null&&lt.delete(xt.key===null?ht:xt.key),C=h(xt,C,ht),bt===null?rt=xt:bt.sibling=xt,bt=xt);return t&&lt.forEach(function(Z0){return n(M,Z0)}),zt&&qa(M,ht),rt}function Kt(M,C,P,Q){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case U:t:{for(var rt=P.key;C!==null;){if(C.key===rt){if(rt=P.type,rt===J){if(C.tag===7){a(M,C.sibling),Q=c(C,P.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Hm(rt)===C.type){a(M,C.sibling),Q=c(C,P.props),rl(Q,P),Q.return=M,M=Q;break t}a(M,C);break}else n(M,C);C=C.sibling}P.type===J?(Q=za(P.props.children,M.mode,Q,P.key),Q.return=M,M=Q):(Q=Do(P.type,P.key,P.props,null,M.mode,Q),rl(Q,P),Q.return=M,M=Q)}return y(M);case k:t:{for(rt=P.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===P.containerInfo&&C.stateNode.implementation===P.implementation){a(M,C.sibling),Q=c(C,P.children||[]),Q.return=M,M=Q;break t}else{a(M,C);break}else n(M,C);C=C.sibling}Q=wc(P,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return rt=P._init,P=rt(P._payload),Kt(M,C,P,Q)}if(ie(P))return dt(M,C,P,Q);if(x(P)){if(rt=x(P),typeof rt!="function")throw Error(s(150));return P=rt.call(P),ft(M,C,P,Q)}if(typeof P.then=="function")return Kt(M,C,Go(P),Q);if(P.$$typeof===_t)return Kt(M,C,No(M,P),Q);Qo(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,C!==null&&C.tag===6?(a(M,C.sibling),Q=c(C,P),Q.return=M,M=Q):(a(M,C),Q=Rc(P,M.mode,Q),Q.return=M,M=Q),y(M)):a(M,C)}return function(M,C,P,Q){try{al=0;var rt=Kt(M,C,P,Q);return Lr=null,rt}catch(lt){if(lt===Xs||lt===Mo)throw lt;var bt=an(29,lt,null,M.mode);return bt.lanes=Q,bt.return=M,bt}finally{}}}var Pr=Gm(!0),Qm=Gm(!1),Tn=K(null),Yn=null;function Gi(t){var n=t.alternate;Z(Ae,Ae.current&1),Z(Tn,t),Yn===null&&(n===null||Or.current!==null||n.memoizedState!==null)&&(Yn=t)}function Fm(t){if(t.tag===22){if(Z(Ae,Ae.current),Z(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Qi()}function Qi(){Z(Ae,Ae.current),Z(Tn,Tn.current)}function vi(t){nt(Tn),Yn===t&&(Yn=null),nt(Ae)}var Ae=K(0);function Fo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=on(),c=ji(l);c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(un(n,t,l),$s(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=on(),c=ji(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(un(n,t,l),$s(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=on(),l=ji(a);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,a),n!==null&&(un(n,t,a),$s(n,t,a))}};function Ym(t,n,a,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!js(a,l)||!js(c,h):!0}function Km(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&lf.enqueueReplaceState(n,n.state,null)}function Ya(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xm(t){Yo(t)}function Zm(t){console.error(t)}function $m(t){Yo(t)}function Ko(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function of(t,n,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Ko(t,n)},a}function Wm(t){return t=ji(t),t.tag=3,t}function tg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Jm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Jm(n,a,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Zv(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fs(n,a,c,!0),a=Tn.current,a!==null){switch(a.tag){case 13:return Yn===null?Of():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Lc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),xf(t,l,c)),!1;case 22:return a.flags|=65536,l===Lc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),xf(t,l,c)),!1}throw Error(s(435,a.tag))}return xf(t,l,c),Of(),!1}if(zt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Vc&&(t=Error(s(422),{cause:l}),Qs(yn(t,a)))):(l!==Vc&&(n=Error(s(423),{cause:l}),Qs(yn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,a),c=of(t.stateNode,l,c),Bc(t,c),se!==4&&(se=2)),!1;var h=Error(s(520),{cause:l});if(h=yn(h,a),hl===null?hl=[h]:hl.push(h),se!==4&&(se=2),n===null)return!0;l=yn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=of(a.stateNode,l,t),Bc(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&($i===null||!$i.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Wm(c),tg(c,t,a,l),Bc(a,c),!1}a=a.return}while(a!==null);return!1}var eg=Error(s(461)),De=!1;function xe(t,n,a,l){n.child=t===null?Qm(n,null,a,l):Pr(n,t.child,a,l)}function ng(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Ga(n),l=Gc(t,n,a,y,h,c),E=Qc(),t!==null&&!De?(Fc(t,n,c),Ei(t,n,c)):(zt&&E&&Dc(n),n.flags|=1,xe(t,n,l,c),n.child)}function ig(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!bc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,ag(t,n,h,l,c)):(t=Do(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!pf(t,c)){var y=h.memoizedProps;if(a=a.compare,a=a!==null?a:js,a(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(h,l),t.ref=n.ref,t.return=n,n.child=t}function ag(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(js(h,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=h,pf(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return uf(t,n,a,l,c)}function rg(t,n,a){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return sg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oo(n,h!==null?h.cachePool:null),h!==null?am(n,h):jc(),Fm(n);else return n.lanes=n.childLanes=536870912,sg(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(Oo(n,h.cachePool),am(n,h),Qi(),n.memoizedState=null):(t!==null&&Oo(n,null),jc(),Qi());return xe(t,n,c,a),n.child}function sg(t,n,a,l){var c=Uc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Oo(n,null),jc(),Fm(n),t!==null&&Fs(t,n,l,!0),null}function Xo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function uf(t,n,a,l,c){return Ga(n),a=Gc(t,n,a,l,void 0,c),l=Qc(),t!==null&&!De?(Fc(t,n,c),Ei(t,n,c)):(zt&&l&&Dc(n),n.flags|=1,xe(t,n,a,c),n.child)}function lg(t,n,a,l,c,h){return Ga(n),n.updateQueue=null,a=sm(n,l,a,c),rm(t),l=Qc(),t!==null&&!De?(Fc(t,n,h),Ei(t,n,h)):(zt&&l&&Dc(n),n.flags|=1,xe(t,n,a,h),n.child)}function og(t,n,a,l,c){if(Ga(n),n.stateNode===null){var h=Dr,y=a.contextType;typeof y=="object"&&y!==null&&(h=ke(y)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=lf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Pc(n),y=a.contextType,h.context=typeof y=="object"&&y!==null?ke(y):Dr,h.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(sf(n,a,y,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&lf.enqueueReplaceState(h,h.state,null),Ws(n,l,h,c),Js(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=Ya(a,E);h.props=b;var z=h.context,G=a.contextType;y=Dr,typeof G=="object"&&G!==null&&(y=ke(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||z!==y)&&Km(n,h,l,y),qi=!1;var B=n.memoizedState;h.state=B,Ws(n,l,h,c),Js(),z=n.memoizedState,E||B!==z||qi?(typeof F=="function"&&(sf(n,a,F,l),z=n.memoizedState),(b=qi||Ym(n,a,b,l,B,z,y))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),h.props=l,h.state=z,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,zc(t,n),y=n.memoizedProps,G=Ya(a,y),h.props=G,F=n.pendingProps,B=h.context,z=a.contextType,b=Dr,typeof z=="object"&&z!==null&&(b=ke(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==F||B!==b)&&Km(n,h,l,b),qi=!1,B=n.memoizedState,h.state=B,Ws(n,l,h,c),Js();var q=n.memoizedState;y!==F||B!==q||qi||t!==null&&t.dependencies!==null&&Io(t.dependencies)?(typeof E=="function"&&(sf(n,a,E,l),q=n.memoizedState),(G=qi||Ym(n,a,G,l,B,q,b)||t!==null&&t.dependencies!==null&&Io(t.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=b,l=G):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Xo(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Pr(n,t.child,null,c),n.child=Pr(n,null,a,c)):xe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ei(t,n,c),t}function ug(t,n,a,l){return Gs(),n.flags|=256,xe(t,n,a,l),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(t){return{baseLanes:t,cachePool:Zd()}}function hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=An),t}function cg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Gi(n):Qi(),zt){var E=re,b;if(b=E){t:{for(b=E,E=Fn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ba!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,re=null,b=!0):b=!1}b||ka(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Xf(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Zo({mode:"hidden",children:E},c),l=za(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=ff(a),c.childLanes=hf(t,y,a),n.memoizedState=cf,l):(Gi(n),df(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Gi(n),n.flags&=-257,n=mf(t,n,a)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Zo({mode:"visible",children:l.children},E),c=za(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Pr(n,t.child,null,a),l=n.child,l.memoizedState=ff(a),l.childLanes=hf(t,y,a),n.memoizedState=cf,n=c);else if(Gi(n),Xf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,Qs({value:l,source:null,stack:null}),n=mf(t,n,a)}else if(De||Fs(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,wr(t,l),un(y,t,l),eg;E.data==="$?"||Of(),n=mf(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=In(E.nextSibling),Ze=n,zt=!0,ja=null,Fn=!1,t!==null&&(vn[En++]=mi,vn[En++]=gi,vn[En++]=Ba,mi=t.id,gi=t.overflow,Ba=n),n=df(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=di(z,c):(c=za(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=ff(a):(b=E.cachePool,b!==null?(z=Te._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Zd(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=hf(t,y,a),n.memoizedState=cf,l):(Gi(n),a=t.child,t=a.sibling,a=di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function df(t,n){return n=Zo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zo(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function mf(t,n,a){return Pr(n,t.child,null,a),t=df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Nc(t.return,n,a)}function gf(t,n,a,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(xe(t,n,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,a,n);else if(t.tag===19)fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Ae,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Fo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),gf(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Fo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}gf(n,!0,a,null,h);break;case"together":gf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Io(t)))}function $v(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Bi(n,Te,t.memoizedState.cache),Gs();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cg(t,n,a):(Gi(n),t=Ei(t,n,a),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,rg(t,n,a);case 24:Bi(n,Te,t.memoizedState.cache)}return Ei(t,n,a)}function dg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!pf(t,a)&&(n.flags&128)===0)return De=!1,$v(t,n,a);De=(t.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&Hd(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")bc(l)?(t=Ya(l,t),n.tag=1,n=og(null,n,l,t,a)):(n.tag=0,n=uf(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Bt){n.tag=11,n=ng(null,n,l,t,a);break t}else if(c===I){n.tag=14,n=ig(null,n,l,t,a);break t}}throw n=Ne(l)||l,Error(s(306,n,""))}}return n;case 0:return uf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ya(l,n.pendingProps),og(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,zc(t,n),Ws(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Bi(n,Te,l),l!==h.cache&&Oc(n,[Te],a,!0),Js(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ug(t,n,l,a);break t}else if(l!==c){c=yn(Error(s(424)),n),Qs(c),n=ug(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=In(t.firstChild),Ze=n,zt=!0,ja=null,Fn=!0,a=Qm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===c){n=Ei(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Xo(t,n),t===null?(a=yp(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=cu(mt.current).createElement(a),l[_e]=n,l[he]=t,Le(l,a,t),le(l),n.stateNode=l):n.memoizedState=yp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&zt&&(l=n.stateNode=mp(n.type,n.pendingProps,mt.current),Ze=n,Fn=!0,c=re,ta(n.type)?(Zf=c,re=In(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,a),Xo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=re)&&(l=R0(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ze=n,re=In(l.firstChild),Fn=!1,c=!0):c=!1),c||ka(n)),Ni(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,Ff(c,h)?l=null:y!==null&&Ff(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Gc(t,n,Hv,null,null,a),Tl._currentValue=c),Xo(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=re)&&(a=w0(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,Ze=n,re=null,t=!0):t=!1),t||ka(n)),null;case 13:return cg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Pr(n,null,l,a):xe(t,n,l,a),n.child;case 11:return ng(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Bi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ga(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return ig(t,n,n.type,n.pendingProps,a);case 15:return ag(t,n,n.type,n.pendingProps,a);case 19:return hg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Zo(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=di(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return rg(t,n,a);case 24:return Ga(n),l=ke(Te),t===null?(c=Uc(),c===null&&(c=$t,h=Mc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},Pc(n),Bi(n,Te,c)):((t.lanes&a)!==0&&(zc(t,n),Ws(n,null,null,a),Js()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Bi(n,Te,l)):(l=h.cache,Bi(n,Te,l),l!==c.cache&&Oc(n,[Te],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ti(t){t.flags|=4}function mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ap(n)){if(n=Tn.current,n!==null&&((Nt&4194048)===Nt?Yn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Yn))throw Zs=Lc,$d;t.flags|=8192}}function $o(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ss():536870912,t.lanes|=n,jr|=n)}function sl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Jv(t,n,a){var l=n.pendingProps;switch(Cc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(Te),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Hs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fd())),ee(n),null;case 26:return a=n.memoizedState,t===null?(Ti(n),a!==null?(ee(n),mg(n,a)):(ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ti(n),ee(n),mg(n,a)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),ee(n),n.flags&=-16777217),null;case 27:ti(n),a=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ct.current,Hs(n)?Gd(n):(t=mp(c,l,a),n.stateNode=t,Ti(n))}return ee(n),null;case 5:if(ti(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ct.current,Hs(n))Gd(n);else{switch(c=cu(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mt.current,Hs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lp(t.nodeValue,a)),t||ka(n)}else t=cu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Fd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),$o(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&jf(n.stateNode.containerInfo),ee(n),null;case 10:return yi(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)sl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Fo(t),h!==null){for(n.flags|=128,sl(c,!1),t=h.updateQueue,n.updateQueue=t,$o(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)kd(a,t),a=a.sibling;return Z(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>tu&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Fo(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$o(n,t),sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!zt)return ee(n),null}else 2*fn()-c.renderingStartTime>tu&&a!==536870912&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,Z(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return vi(n),kc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&$o(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(Qa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),yi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Wv(t,n){switch(Cc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Gs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return xn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),kc(),t!==null&&nt(Qa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(Te),null;case 25:return null;default:return null}}function gg(t,n){switch(Cc(n),n.tag){case 3:yi(Te),xn();break;case 26:case 27:case 5:ti(n);break;case 4:xn();break;case 13:vi(n);break;case 19:nt(Ae);break;case 10:yi(n.type);break;case 22:case 23:vi(n),kc(),t!==null&&nt(Qa);break;case 24:yi(Te)}}function ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,y=a.inst;l=h(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Fi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,z=E;try{z()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==h)}}catch(G){Xt(n,n.return,G)}}function pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{im(n,a)}catch(l){Xt(t,t.return,l)}}}function yg(t,n,a){a.props=Ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function _g(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function yf(t,n,a){try{var l=t.stateNode;E0(l,t.type,a,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function _f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=uu));else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function Jo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Jo(t,n,a),t=t.sibling;t!==null;)Jo(t,n,a),t=t.sibling}function Eg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[_e]=t,n[he]=a}catch(h){Xt(t,t.return,h)}}var Ai=!1,ue=!1,Ef=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function t0(t,n){if(t=t.containerInfo,Gf=pu,t=Od(t),yc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,z=0,G=0,F=t,B=null;e:for(;;){for(var q;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==h||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===a&&++z===c&&(E=y),B===h&&++G===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qf={focusedElem:t,selectionRange:a},pu=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var dt=Ya(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(dt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Ag(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&ll(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=Ya(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&pg(a),l&512&&ol(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{im(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&Eg(a);case 26:case 5:Yi(t,a),n===null&&l&4&&_g(a),l&512&&ol(a,a.return);break;case 12:Yi(t,a);break;case 13:Yi(t,a),l&4&&Rg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u0.bind(null,a),D0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ai;var h=ue;Ai=l,(ue=n)&&!h?Ki(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Ai=c,ue=h}break;case 30:break;default:Yi(t,a)}}function Sg(t){var n=t.alternate;n!==null&&(t.alternate=null,Sg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Si(t,n,a){for(a=a.child;a!==null;)bg(t,n,a),a=a.sibling}function bg(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:ue||Kn(a,n),Si(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||Kn(a,n);var l=te,c=Je;ta(a.type)&&(te=a.stateNode,Je=!1),Si(t,n,a),yl(a.stateNode),te=l,Je=c;break;case 5:ue||Kn(a,n);case 6:if(l=te,c=Je,te=null,Si(t,n,a),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(h){Xt(a,n,h)}else try{te.removeChild(a.stateNode)}catch(h){Xt(a,n,h)}break;case 18:te!==null&&(Je?(t=te,hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):hp(te,a.stateNode));break;case 4:l=te,c=Je,te=a.stateNode.containerInfo,Je=!0,Si(t,n,a),te=l,Je=c;break;case 0:case 11:case 14:case 15:ue||Fi(2,a,n),ue||Fi(4,a,n),Si(t,n,a);break;case 1:ue||(Kn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yg(a,n,l)),Si(t,n,a);break;case 21:Si(t,n,a);break;case 22:ue=(l=ue)||a.memoizedState!==null,Si(t,n,a),ue=l;break;default:Si(t,n,a)}}function Rg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){Xt(n,n.return,a)}}function e0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Tg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Tg),n;default:throw Error(s(435,t.tag))}}function Tf(t,n){var a=e0(t);n.forEach(function(l){var c=c0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ta(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));bg(h,y,c),te=null,Je=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)wg(n,t),n=n.sibling}var Vn=null;function wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(Fi(3,t,t.return),ll(3,t),Fi(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Vn;if(rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Aa]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,a),h[_e]=t,le(h),l=h;break t;case"link":var y=Ep("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,a),c.head.appendChild(h);break;case"meta":if(y=Ep("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,le(h),l=h}t.stateNode=l}else Tp(c,t.type,t.stateNode);else t.stateNode=vp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Tp(c,t.type,t.stateNode):vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),a!==null&&l&4&&yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,yf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ef=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(du=null,c=Vn,Vn=fu(n.containerInfo),rn(n,t),Vn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Ef&&(Ef=!1,Dg(t));break;case 4:l=Vn,Vn=fu(t.stateNode.containerInfo),rn(n,t),sn(t),Vn=l;break;case 12:rn(n,t),sn(t);break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Df=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tf(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,z=Ai,G=ue;if(Ai=z||c,ue=G||b,rn(n,t),ue=G,Ai=z,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Ai||ue||Ka(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(h=b.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tf(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tf(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(vg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=_f(t);Jo(t,h,c);break;case 5:var y=a.stateNode;a.flags&32&&(dn(y,""),a.flags&=-33);var E=_f(t);Jo(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,z=_f(t);vf(t,z,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Dg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Dg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ag(t,n.alternate,n),n=n.sibling}function Ka(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),Ka(n);break;case 1:Kn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yg(n,n.return,a),Ka(n);break;case 27:yl(n.stateNode);case 26:case 5:Kn(n,n.return),Ka(n);break;case 22:n.memoizedState===null&&Ka(n);break;case 30:Ka(n);break;default:Ka(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Ki(c,h,a),ll(4,h);break;case 1:if(Ki(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)nm(b[c],E)}catch(z){Xt(l,l.return,z)}}a&&y&64&&pg(h),ol(h,h.return);break;case 27:Eg(h);case 26:case 5:Ki(c,h,a),a&&l===null&&y&4&&_g(h),ol(h,h.return);break;case 12:Ki(c,h,a);break;case 13:Ki(c,h,a),a&&y&4&&Rg(c,h);break;case 22:h.memoizedState===null&&Ki(c,h,a),ol(h,h.return);break;case 30:break;default:Ki(c,h,a)}n=n.sibling}}function Af(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ys(a))}function Sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ys(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cg(t,n,a,l),n=n.sibling}function Cg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),c&2048&&ll(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ys(t)));break;case 12:if(c&2048){Xn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?Xn(t,n,a,l):ul(t,n):h._visibility&2?Xn(t,n,a,l):(h._visibility|=2,zr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Af(y,n);break;case 24:Xn(t,n,a,l),c&2048&&Sf(n.alternate,n);break;default:Xn(t,n,a,l)}}function zr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=a,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:zr(h,y,E,b,c),ll(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?zr(h,y,E,b,c):ul(h,y):(G._visibility|=2,zr(h,y,E,b,c)),c&&z&2048&&Af(y.alternate,y);break;case 24:zr(h,y,E,b,c),c&&z&2048&&Sf(y.alternate,y);break;default:zr(h,y,E,b,c)}n=n.sibling}}function ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:ul(a,l),c&2048&&Af(l.alternate,l);break;case 24:ul(a,l),c&2048&&Sf(l.alternate,l);break;default:ul(a,l)}n=n.sibling}}var cl=8192;function Br(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:Br(t),t.flags&cl&&t.memoizedState!==null&&q0(Vn,t.memoizedState,t.memoizedProps);break;case 5:Br(t);break;case 3:case 4:var n=Vn;Vn=fu(t.stateNode.containerInfo),Br(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=cl,cl=16777216,Br(t),cl=n):Br(t));break;default:Br(t)}}function Ig(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Og(l,t)}Ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wo(t)):fl(t);break;default:fl(t)}}function Wo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Og(l,t)}Ig(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),Wo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wo(n));break;default:Wo(n)}t=t.sibling}}function Og(t,n){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:Fi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ys(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ce=l;else t:for(a=t;Ce!==null;){l=Ce;var c=l.sibling,h=l.return;if(Sg(l),l===a){Ce=null;break t}if(c!==null){c.return=h,Ce=c;break t}Ce=h}}}var n0={getCacheForType:function(t){var n=ke(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},i0=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,Rt=null,Nt=0,Ht=0,ln=null,Xi=!1,qr=!1,bf=!1,bi=0,se=0,Zi=0,Xa=0,Rf=0,An=0,jr=0,hl=null,We=null,wf=!1,Df=0,tu=1/0,eu=null,$i=null,Ue=0,Ji=null,kr=null,Hr=0,Cf=0,Vf=null,Mg=null,dl=0,If=null;function on(){if((kt&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=Ir;return t!==0?t:Pf()}return Mi()}function xg(){An===0&&(An=(Nt&536870912)===0||zt?As():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function un(t,n,a){(t===$t&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(Gr(t,0),Wi(t,Nt,An,!1)),ni(t,a),((kt&2)===0||t!==$t)&&(t===$t&&((kt&2)===0&&(Xa|=a),se===4&&Wi(t,Nt,An,!1)),Zn(t))}function Ug(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ta(t,n),c=l?s0(t,n):Mf(t,n,!0),h=l;do{if(c===0){qr&&!l&&Wi(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!a0(a)){c=Mf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=hl;var b=E.current.memoizedState.isDehydrated;if(b&&(Gr(E,y).flags|=256),y=Mf(E,y,!1),y!==2){if(bf&&!b){E.errorRecoveryDisabledLanes|=h,Xa|=h,c=4;break t}h=We,We=c,h!==null&&(We===null?We=h:We.push.apply(We,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){Gr(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,An,!Xi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Df+300-fn(),10<c)){if(Wi(l,n,An,!Xi),lr(l,0,!0)!==0)break t;l.timeoutHandle=cp(Lg.bind(null,l,a,We,eu,wf,n,An,Xa,jr,Xi,h,2,-0,0),c);break t}Lg(l,a,We,eu,wf,n,An,Xa,jr,Xi,h,0,-0,0)}}break}while(!0);Zn(t)}function Lg(t,n,a,l,c,h,y,E,b,z,G,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:B0},Vg(n),F=j0(),F!==null)){t.cancelPendingCommit=F(Hg.bind(null,t,n,h,a,l,c,y,E,b,G,1,B,q)),Wi(t,h,y,!z);return}Hg(t,n,h,a,l,c,y,E,b)}function a0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!nn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,a,l){n&=~Rf,n&=~Xa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-je(c),y=1<<h;l[h]=-1,c&=~y}a!==0&&Un(t,a,n)}function nu(){return(kt&6)===0?(ml(0),!1):!0}function Nf(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,pi=Ha=null,Yc(t),Lr=null,al=0,t=Rt;for(;t!==null;)gg(t.alternate,t),t=t.return;Rt=null}}function Gr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,A0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nf(),$t=t,Rt=a=di(t.current,null),Nt=n,Ht=0,ln=null,Xi=!1,qr=Ta(t,n),bf=!1,jr=An=Rf=Xa=Zi=se=0,We=hl=null,wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),h=1<<c;n|=t[c],l&=~h}return bi=n,bo(),a}function Pg(t,n){Tt=null,H.H=Ho,n===Xs||n===Mo?(n=tm(),Ht=3):n===$d?(n=tm(),Ht=4):Ht=n===eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Rt===null&&(se=1,Ko(t,yn(n,t.current)))}function zg(){var t=H.H;return H.H=Ho,t===null?Ho:t}function Bg(){var t=H.A;return H.A=n0,t}function Of(){se=4,Xi||(Nt&4194048)!==Nt&&Tn.current!==null||(qr=!0),(Zi&134217727)===0&&(Xa&134217727)===0||$t===null||Wi($t,Nt,An,!1)}function Mf(t,n,a){var l=kt;kt|=2;var c=zg(),h=Bg();($t!==t||Nt!==n)&&(eu=null,Gr(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=ln;switch(Ht){case 8:Nf(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var z=Ht;if(Ht=0,ln=null,Qr(t,E,b,z),a&&qr){y=0;break t}break;default:z=Ht,Ht=0,ln=null,Qr(t,E,b,z)}}r0(),y=se;break}catch(G){Pg(t,G)}while(!0);return n&&t.shellSuspendCounter++,pi=Ha=null,kt=l,H.H=c,H.A=h,Rt===null&&($t=null,Nt=0,bo()),y}function r0(){for(;Rt!==null;)qg(Rt)}function s0(t,n){var a=kt;kt|=2;var l=zg(),c=Bg();$t!==t||Nt!==n?(eu=null,tu=fn()+500,Gr(t,n)):qr=Ta(t,n);t:do try{if(Ht!==0&&Rt!==null){n=Rt;var h=ln;e:switch(Ht){case 1:Ht=0,ln=null,Qr(t,n,h,1);break;case 2:case 9:if(Jd(h)){Ht=0,ln=null,jg(n);break}n=function(){Ht!==2&&Ht!==9||$t!==t||(Ht=7),Zn(t)},h.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Jd(h)?(Ht=0,ln=null,jg(n)):(Ht=0,ln=null,Qr(t,n,h,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Ap(y)){Ht=0,ln=null;var b=E.sibling;if(b!==null)Rt=b;else{var z=E.return;z!==null?(Rt=z,iu(z)):Rt=null}break e}}Ht=0,ln=null,Qr(t,n,h,5);break;case 6:Ht=0,ln=null,Qr(t,n,h,6);break;case 8:Nf(),se=6;break t;default:throw Error(s(462))}}l0();break}catch(G){Pg(t,G)}while(!0);return pi=Ha=null,H.H=l,H.A=c,kt=a,Rt!==null?0:($t=null,Nt=0,bo(),se)}function l0(){for(;Rt!==null&&!_s();)qg(Rt)}function qg(t){var n=dg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?iu(t):Rt=n}function jg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=lg(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=lg(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Yc(n);default:gg(a,n),n=Rt=kd(n,bi),n=dg(a,n,bi)}t.memoizedProps=t.pendingProps,n===null?iu(t):Rt=n}function Qr(t,n,a,l){pi=Ha=null,Yc(n),Lr=null,al=0;var c=n.return;try{if(Zv(t,c,n,a,Nt)){se=1,Ko(t,yn(a,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;se=1,Ko(t,yn(a,t.current)),Rt=null;return}n.flags&32768?(zt||l===1?t=!0:qr||(Nt&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kg(n,t)):iu(n)}function iu(t){var n=t;do{if((n.flags&32768)!==0){kg(n,Xi);return}t=n.return;var a=Jv(n.alternate,n,bi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);se===0&&(se=5)}function kg(t,n){do{var a=Wv(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);se=6,Rt=null}function Hg(t,n,a,l,c,h,y,E,b){t.cancelPendingCommit=null;do au();while(Ue!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Ac,bs(t,a,h,y,E,b),t===$t&&(Rt=$t=null,Nt=0),kr=n,Ji=t,Hr=a,Cf=h,Vf=c,Mg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f0(ya,function(){return Kg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=kt,kt|=4;try{t0(t,n,a)}finally{kt=y,et.p=c,H.T=l}}Ue=1,Gg(),Qg(),Fg()}}function Gg(){if(Ue===1){Ue=0;var t=Ji,n=kr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{wg(n,t);var h=Qf,y=Od(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&Nd(E.ownerDocument.documentElement,E)){if(b!==null&&yc(E)){var z=b.start,G=b.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),dt=E.textContent.length,ft=Math.min(b.start,dt),Kt=b.end===void 0?ft:Math.min(b.end,dt);!q.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var M=Id(E,ft),C=Id(E,Kt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var P=F.createRange();P.setStart(M.node,M.offset),q.removeAllRanges(),ft>Kt?(q.addRange(P),q.extend(C.node,C.offset)):(P.setEnd(C.node,C.offset),q.addRange(P))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}pu=!!Gf,Qf=Gf=null}finally{kt=c,et.p=l,H.T=a}}t.current=n,Ue=2}}function Qg(){if(Ue===2){Ue=0;var t=Ji,n=kr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Ag(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=a}}Ue=3}}function Fg(){if(Ue===4||Ue===3){Ue=0,Jl();var t=Ji,n=kr,a=Hr,l=Mg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,kr=Ji=null,Yg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),or(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Hr&3)!==0&&au(),Zn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===If?dl++:(dl=0,If=t):dl=0,ml(0)}}function Yg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ys(n)))}function au(t){return Gg(),Qg(),Fg(),Kg()}function Kg(){if(Ue!==5)return!1;var t=Ji,n=Cf;Cf=0;var a=or(Hr),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Vf,Vf=null;var h=Ji,y=Hr;if(Ue=0,kr=Ji=null,Hr=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,Ng(h.current),Cg(h,h.current,y,a),kt=E,ml(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,h)}catch{}return!0}finally{et.p=c,H.T=l,Yg(t,n)}}function Xg(t,n,a){n=yn(a,n),n=of(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Zn(t))}function Xt(t,n,a){if(t.tag===3)Xg(t,t,a);else for(;n!==null;){if(n.tag===3){Xg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=yn(a,t),a=Wm(2),l=ki(n,a,2),l!==null&&(tg(a,l,n,t),ni(l,2),Zn(l));break}}n=n.return}}function xf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new i0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(bf=!0,c.add(a),t=o0.bind(null,t,n,a),n.then(t,t))}function o0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Nt&a)===a&&(se===4||se===3&&(Nt&62914560)===Nt&&300>fn()-Df?(kt&2)===0&&Gr(t,0):Rf|=a,jr===Nt&&(jr=0)),Zn(t)}function Zg(t,n){n===0&&(n=Ss()),t=wr(t,n),t!==null&&(ni(t,n),Zn(t))}function u0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zg(t,a)}function c0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Zg(t,a)}function f0(t,n){return ga(t,n)}var ru=null,Fr=null,Uf=!1,su=!1,Lf=!1,Za=0;function Zn(t){t!==Fr&&t.next===null&&(Fr===null?ru=Fr=t:Fr=Fr.next=t),su=!0,Uf||(Uf=!0,d0())}function ml(t,n){if(!Lf&&su){Lf=!0;do for(var a=!1,l=ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-je(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,tp(l,h))}else h=Nt,h=lr(l,l===$t?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ta(l,h)||(a=!0,tp(l,h));l=l.next}while(a);Lf=!1}}function h0(){$g()}function $g(){su=Uf=!1;var t=0;Za!==0&&(T0()&&(t=Za),Za=0);for(var n=fn(),a=null,l=ru;l!==null;){var c=l.next,h=Jg(l,n);h===0?(l.next=null,a===null?ru=c:a.next=c,c===null&&(Fr=a)):(a=l,(t!==0||(h&3)!==0)&&(su=!0)),l=c}ml(t)}function Jg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-je(h),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Ts(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=$t,a=Nt,a=lr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ta(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&pa(l),or(a)){case 2:case 8:a=rr;break;case 32:a=ya;break;case 268435456:a=sr;break;default:a=ya}return l=Wg.bind(null,t),a=ga(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&pa(l),t.callbackPriority=2,t.callbackNode=null,2}function Wg(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(au()&&t.callbackNode!==a)return null;var l=Nt;return l=lr(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ug(t,l,n),Jg(t,fn()),t.callbackNode!=null&&t.callbackNode===a?Wg.bind(null,t):null)}function tp(t,n){if(au())return null;Ug(t,n,!0)}function d0(){S0(function(){(kt&6)!==0?ga(vs,h0):$g()})}function Pf(){return Za===0&&(Za=As()),Za}function ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mr(""+t)}function np(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function m0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=ep((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?ep(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new gr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Za!==0){var b=y?np(c,y):new FormData(c);nf(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?np(c,y):new FormData(c),nf(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var zf=0;zf<Tc.length;zf++){var Bf=Tc[zf],g0=Bf.toLowerCase(),p0=Bf[0].toUpperCase()+Bf.slice(1);Cn(g0,"on"+p0)}Cn(Ud,"onAnimationEnd"),Cn(Ld,"onAnimationIteration"),Cn(Pd,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Mv,"onTransitionRun"),Cn(xv,"onTransitionStart"),Cn(Uv,"onTransitionCancel"),Cn(zd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function ip(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=z;try{h(c)}catch(G){Yo(G)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=z;try{h(c)}catch(G){Yo(G)}c.currentTarget=null,h=b}}}}function wt(t,n){var a=n[ws];a===void 0&&(a=n[ws]=new Set);var l=t+"__bubble";a.has(l)||(ap(n,t,2,!1),a.add(l))}function qf(t,n,a){var l=0;n&&(l|=4),ap(a,t,l,n)}var lu="_reactListening"+Math.random().toString(36).slice(2);function jf(t){if(!t[lu]){t[lu]=!0,Ds.forEach(function(a){a!=="selectionchange"&&(y0.has(a)||qf(a,!1,t),qf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lu]||(n[lu]=!0,qf("selectionchange",!1,n))}}function ap(t,n,a,l){switch(Cp(n)){case 2:var c=G0;break;case 8:c=Q0;break;default:c=eh}a=c.bind(null,n,a,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function kf(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}oo(function(){var z=h,G=mn(a),F=[];t:{var B=Bd.get(t);if(B!==void 0){var q=gr,dt=t;switch(t){case"keypress":if(jn(a)===0)break t;case"keydown":case"keyup":q=Tr;break;case"focusin":dt="focus",q=_r;break;case"focusout":dt="blur",q=_r;break;case"beforeblur":case"afterblur":q=_r;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yo;break;case Ud:case Ld:case Pd:q=vr;break;case zd:q=vo;break;case"scroll":case"scrollend":q=uo;break;case"wheel":q=Ar;break;case"copy":case"cut":case"paste":q=Er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bs;break;case"toggle":case"beforetoggle":q=To}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?B!==null?B+"Capture":null:B;ft=[];for(var C=z,P;C!==null;){var Q=C;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||M===null||(Q=Va(C,M),Q!=null&&ft.push(pl(C,Q,P))),Kt)break;C=C.return}0<ft.length&&(B=new q(B,dt,null,a,G),F.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==li&&(dt=a.relatedTarget||a.fromElement)&&(ii(dt)||dt[hn]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(dt=a.relatedTarget||a.toElement,q=z,dt=dt?ii(dt):null,dt!==null&&(Kt=f(dt),ft=dt.tag,dt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(dt=null)):(q=null,dt=z),q!==dt)){if(ft=pn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Bs,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=q==null?B:Pn(q),P=dt==null?B:Pn(dt),B=new ft(Q,C+"leave",q,a,G),B.target=Kt,B.relatedTarget=P,Q=null,ii(G)===z&&(ft=new ft(M,C+"enter",dt,a,G),ft.target=P,ft.relatedTarget=Kt,Q=ft),Kt=Q,q&&dt)e:{for(ft=q,M=dt,C=0,P=ft;P;P=Yr(P))C++;for(P=0,Q=M;Q;Q=Yr(Q))P++;for(;0<C-P;)ft=Yr(ft),C--;for(;0<P-C;)M=Yr(M),P--;for(;C--;){if(ft===M||M!==null&&ft===M.alternate)break e;ft=Yr(ft),M=Yr(M)}ft=null}else ft=null;q!==null&&rp(F,B,q,ft,!1),dt!==null&&Kt!==null&&rp(F,Kt,dt,ft,!0)}}t:{if(B=z?Pn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var rt=bd;else if(Ee(B))if(Rd)rt=Iv;else{rt=Cv;var bt=Dv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Os(z.elementType)&&(rt=bd):rt=Vv;if(rt&&(rt=rt(t,z))){hi(F,rt,a,G);break t}bt&&bt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Pi(B,"number",B.value)}switch(bt=z?Pn(z):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(Sr=bt,_c=z,ks=null);break;case"focusout":ks=_c=Sr=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,Md(F,a,G);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Md(F,a,G)}var lt;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?j(t,a)&&(ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(p&&a.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(lt=xs()):(qn=G,zi="value"in qn?qn.value:qn.textContent,Vt=!0)),bt=ou(z,ht),0<bt.length&&(ht=new Ps(ht,t,null,a,G),F.push({event:ht,listeners:bt}),lt?ht.data=lt:(lt=$(a),lt!==null&&(ht.data=lt)))),(lt=m?ve(t,a):It(t,a))&&(ht=ou(z,"onBeforeInput"),0<ht.length&&(bt=new Ps("onBeforeInput","beforeinput",null,a,G),F.push({event:bt,listeners:ht}),bt.data=lt)),m0(F,t,z,a,G)}ip(F,n)})}function pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ou(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Va(t,a),c!=null&&l.unshift(pl(t,c,h)),c=Va(t,n),c!=null&&l.push(pl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rp(t,n,a,l,c){for(var h=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=Va(a,h),z!=null&&y.unshift(pl(a,z,b))):c||(z=Va(a,h),z!=null&&y.push(pl(a,z,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var _0=/\r\n?/g,v0=/\u0000|\uFFFD/g;function sp(t){return(typeof t=="string"?t:""+t).replace(_0,`
`).replace(v0,"")}function lp(t,n){return n=sp(n),sp(t)===n}function uu(){}function Yt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,a,l);break;case"style":Ns(t,l,h);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=mr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=mr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=uu);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=mr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fc.get(a)||a,Li(t,a,l))}}function Hf(t,n,a,l,c,h){switch(a){case"style":Ns(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[he]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Li(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var y=a[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,h,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=h=y=c=null,b=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":z=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,a,null)}}wa(t,h,E,b,z,y,c,!1),dr(t);return;case"select":wt("invalid",t),l=y=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=h,a=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):a!=null&&si(t,!!l,a,!0);return;case"textarea":wt("invalid",t),h=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,a,null)}Da(t,l,c,h),dr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,a,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)wt(gl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,z,l,a,null)}return;default:if(Os(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Hf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function E0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,z=null,G=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=a[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":h=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Yt(t,n,B,q,l,F)}}en(t,y,E,b,z,G,h,c);return;case"select":q=y=E=B=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(h)||Yt(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=a[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&Yt(t,n,c,h,l,b)}n=E,a=y,l=q,B!=null?si(t,!!a,B,!1):!!l!=!!a&&(n!=null?si(t,!!a,n,!0):si(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=a[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Yt(t,n,y,c,l,h)}Qt(t,B,q);return;case"option":for(var dt in a)if(B=a[dt],a.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Yt(t,n,dt,null,l,B)}for(b in l)if(B=l[b],q=a[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,z,B,l,q)}return;default:if(Os(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&Hf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Hf(t,n,G,B,l,q);return}}for(var M in a)B=a[M],a.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Yt(t,n,F,B,l,q)}var Gf=null,Qf=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function up(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function T0(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var cp=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,fp=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof fp<"u"?function(t){return fp.resolve(null).then(t).catch(b0)}:cp;function b0(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function hp(t,n){var a=n,l=0,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&yl(y.documentElement),a&2&&yl(y.body),a&4)for(a=y.head,yl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Aa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(h),Rl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);Rl(n)}function Kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),Ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function R0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Aa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function w0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function Xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function D0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Zf=null;function dp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function mp(t,n,a){switch(n=cu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Sn=new Map,gp=new Set;function fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=et.d;et.d={f:C0,r:V0,D:I0,C:N0,L:O0,m:M0,X:U0,S:x0,M:L0};function C0(){var t=Ri.f(),n=nu();return t||n}function V0(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Um(n):Ri.r(t)}var Kr=typeof document>"u"?null:document;function pp(t,n,a){var l=Kr;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),gp.has(c)||(gp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function I0(t){Ri.D(t),pp("dns-prefetch",t,null)}function N0(t,n){Ri.C(t,n),pp("preconnect",t,n)}function O0(t,n,a){Ri.L(t,n,a);var l=Kr;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var h=c;switch(n){case"style":h=Xr(t);break;case"script":h=Zr(t)}Sn.has(h)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Sn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(_l(h))||n==="script"&&l.querySelector(vl(h))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function M0(t,n){Ri.m(t,n);var a=Kr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Zr(t)}if(!Sn.has(h)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(h)))return}l=a.createElement("link"),Le(l,"link",t),le(l),a.head.appendChild(l)}}}function x0(t,n,a){Ri.S(t,n,a);var l=Kr;if(l&&t){var c=Ye(l).hoistableStyles,h=Xr(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(_l(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Sn.get(h))&&$f(t,a);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(z,G){b.onload=z,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function U0(t,n){Ri.X(t,n);var a=Kr;if(a&&t){var l=Ye(a).hoistableScripts,c=Zr(t),h=l.get(c);h||(h=a.querySelector(vl(c)),h||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&Jf(t,n),h=a.createElement("script"),le(h),Le(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function L0(t,n){Ri.M(t,n);var a=Kr;if(a&&t){var l=Ye(a).hoistableScripts,c=Zr(t),h=l.get(c);h||(h=a.querySelector(vl(c)),h||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&Jf(t,n),h=a.createElement("script"),le(h),Le(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function yp(t,n,a,l){var c=(c=mt.current)?fu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xr(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xr(a.href);var h=Ye(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(_l(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Sn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sn.set(t,a),h||P0(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zr(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xr(t){return'href="'+de(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function _p(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function P0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),le(n),t.head.appendChild(n))}function Zr(t){return'[src="'+de(t)+'"]'}function vl(t){return"script[async]"+t}function vp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),hu(l,a.precedence,t),n.instance=l;case"stylesheet":c=Xr(a.href);var h=t.querySelector(_l(c));if(h)return n.state.loading|=4,n.instance=h,le(h),h;l=_p(a),(c=Sn.get(c))&&$f(l,c),h=(t.ownerDocument||t).createElement("link"),le(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",l),n.state.loading|=4,hu(h,a.precedence,t),n.instance=h;case"script":return h=Zr(a.src),(c=t.querySelector(vl(h)))?(n.instance=c,le(c),c):(l=a,(c=Sn.get(h))&&(l=A({},a),Jf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hu(l,a.precedence,t));return n.instance}function hu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var du=null;function Ep(t,n,a){if(du===null){var l=new Map,c=du=new Map;c.set(a,l)}else c=du,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Aa]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Tp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function z0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ap(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function B0(){}function q0(t,n,a){if(El===null)throw Error(s(475));var l=El;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Xr(a.href),h=t.querySelector(_l(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,le(h);return}h=t.ownerDocument||t,a=_p(a),(c=Sn.get(c))&&$f(a,c),h=h.createElement("link"),le(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function j0(){if(El===null)throw Error(s(475));var t=El;return t.stylesheets&&t.count===0&&Wf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gu=null;function Wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gu=new Map,n.forEach(k0,t),gu=null,mu.call(t))}function k0(t,n){if(!(n.state.loading&4)){var a=gu.get(t);if(a)var l=a.get(null);else{a=new Map,gu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=a.get(y)||l,h===l&&a.set(null,c),a.set(y,c),this.count++,l=mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function H0(t,n,a,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Sp(t,n,a,l,c,h,y,E,b,z,G,F){return t=new H0(t,n,a,y,E,b,z,F),n=1,h===!0&&(n|=24),h=an(3,null,null,n),t.current=h,h.stateNode=t,n=Mc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},Pc(h),t}function bp(t){return t?(t=Dr,t):Dr}function Rp(t,n,a,l,c,h){c=bp(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ki(t,l,n),a!==null&&(un(a,t,n),$s(a,t,n))}function wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function th(t,n){wp(t,n),(t=t.alternate)&&wp(t,n)}function Dp(t){if(t.tag===13){var n=wr(t,67108864);n!==null&&un(n,t,67108864),th(t,67108864)}}var pu=!0;function G0(t,n,a,l){var c=H.T;H.T=null;var h=et.p;try{et.p=2,eh(t,n,a,l)}finally{et.p=h,H.T=c}}function Q0(t,n,a,l){var c=H.T;H.T=null;var h=et.p;try{et.p=8,eh(t,n,a,l)}finally{et.p=h,H.T=c}}function eh(t,n,a,l){if(pu){var c=nh(l);if(c===null)kf(t,n,l,yu,a),Vp(t,l);else if(Y0(c,t,n,a,l))l.stopPropagation();else if(Vp(t,l),n&4&&-1<F0.indexOf(t)){for(;c!==null;){var h=Ln(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Rn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Zn(h),(kt&6)===0&&(tu=fn()+500,ml(0))}}break;case 13:E=wr(h,2),E!==null&&un(E,h,2),nu(),th(h,2)}if(h=nh(l),h===null&&kf(t,n,l,yu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else kf(t,n,l,null,a)}}function nh(t){return t=mn(t),ih(t)}var yu=null;function ih(t){if(yu=null,t=ii(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yu=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case vs:return 2;case rr:return 8;case ya:case sc:return 32;case sr:return 268435456;default:return 32}default:return 32}}var ah=!1,ea=null,na=null,ia=null,Al=new Map,Sl=new Map,aa=[],F0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function bl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Dp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Y0(t,n,a,l,c){switch(n){case"focusin":return ea=bl(ea,t,n,a,l,c),!0;case"dragenter":return na=bl(na,t,n,a,l,c),!0;case"mouseover":return ia=bl(ia,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Al.set(h,bl(Al.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Sl.set(h,bl(Sl.get(h)||null,t,n,a,l,c)),!0}return!1}function Ip(t){var n=ii(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,eo(t.priority,function(){if(a.tag===13){var l=on();l=Oi(l);var c=wr(a,l);c!==null&&un(c,a,l),th(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=nh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);li=l,a.target.dispatchEvent(l),li=null}else return n=Ln(a),n!==null&&Dp(n),t.blockedOn=a,!1;n.shift()}return!0}function Np(t,n,a){_u(t)&&a.delete(n)}function K0(){ah=!1,ea!==null&&_u(ea)&&(ea=null),na!==null&&_u(na)&&(na=null),ia!==null&&_u(ia)&&(ia=null),Al.forEach(Np),Sl.forEach(Np)}function vu(t,n){t.blockedOn===n&&(t.blockedOn=null,ah||(ah=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K0)))}var Eu=null;function Op(t){Eu!==t&&(Eu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eu===t&&(Eu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ih(l||a)===null)continue;break}var h=Ln(a);h!==null&&(t.splice(n,3),n-=3,nf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Rl(t){function n(b){return vu(b,t)}ea!==null&&vu(ea,t),na!==null&&vu(na,t),ia!==null&&vu(ia,t),Al.forEach(n),Sl.forEach(n);for(var a=0;a<aa.length;a++){var l=aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<aa.length&&(a=aa[0],a.blockedOn===null);)Ip(a),a.blockedOn===null&&aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],y=c[he]||null;if(typeof h=="function")y||Op(a);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[he]||null)E=y.formAction;else if(ih(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Op(a)}}}function rh(t){this._internalRoot=t}Tu.prototype.render=rh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=on();Rp(a,l,t,n,null,null)},Tu.prototype.unmount=rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Rp(t.current,2,null,t,null,null),nu(),n[hn]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<aa.length&&n!==0&&n<aa[a].priority;a++);aa.splice(a,0,t),a===0&&Ip(t)}};var Mp=e.version;if(Mp!=="19.1.1")throw Error(s(527,Mp,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var X0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{ae=Au.inject(X0),jt=Au}catch{}}return Dl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Xm,h=Zm,y=$m,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Sp(t,1,!1,null,null,a,l,c,h,y,E,null),t[hn]=n.current,jf(t),new rh(n)},Dl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=Xm,y=Zm,E=$m,b=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=Sp(t,1,!0,n,a??null,l,c,h,y,E,b,z),n.context=bp(null),a=n.current,l=on(),l=Oi(l),c=ji(l),c.callback=null,ki(a,c,l),a=l,n.current.lanes=a,ni(n,a),Zn(n),t[hn]=n.current,jf(t),new Tu(n)},Dl.version="19.1.1",Dl}var Hp;function sE(){if(Hp)return oh.exports;Hp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),oh.exports=rE(),oh.exports}var lE=sE();const oE=Gy(lE),uE="modulepreload",cE=function(r){return"/yo-nunca-app-web/"+r},Gp={},Qu=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let d=function(v){return Promise.all(v.map(A=>Promise.resolve(A).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));o=d(i.map(v=>{if(v=cE(v),v in Gp)return;Gp[v]=!0;const A=v.endsWith(".css"),O=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${O}`))return;const U=document.createElement("link");if(U.rel=A?"stylesheet":uE,A||(U.as="script"),U.crossOrigin="",U.href=v,_&&U.setAttribute("nonce",_),document.head.appendChild(U),A)return new Promise((k,J)=>{U.addEventListener("load",k),U.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${v}`)))})}))}function f(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&f(g.reason);return e().catch(f)})},fE=async()=>{var r,e;(e=(r=window.Capacitor)==null?void 0:r.isNativePlatform)!=null&&e.call(r)&&await(await Qu(()=>import("./admobNative-C1hePrcS.js"),[])).initMobApp()},hE=async r=>{var e,i;(i=(e=window.Capacitor)==null?void 0:e.isNativePlatform)!=null&&i.call(e)&&await(await Qu(()=>import("./admobNative-C1hePrcS.js"),[])).showBannerAd()},dE=async()=>{var r,e;(e=(r=window.Capacitor)==null?void 0:r.isNativePlatform)!=null&&e.call(r)&&await(await Qu(()=>import("./admobNative-C1hePrcS.js"),[])).hideBannerAd()};var Nn=(r=>(r.Home="HOME",r.Game="GAME",r.Store="STORE",r))(Nn||{});const sa=({children:r,variant:e="primary",size:i="normal",fullWidth:s=!1,className:o="",...f})=>{const d="font-bold rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 flex items-center justify-center",g={primary:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white hover:opacity-90 shadow-lg shadow-cyan-500/20 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-cyan-400",secondary:"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-slate-500"},_={normal:"py-2 px-4 text-base",large:"py-3 px-6 text-lg"},v=s?"w-full":"w-auto",A=`${d} ${g[e]} ${_[i]} ${v} ${o}`;return W.jsx("button",{className:A,...f,children:r})},mE=({navigate:r,onSuggestClick:e})=>{const[i,s]=fe.useState(!1),o=async()=>{const f="https://play.google.com/store/apps/details?id=com.yonunca.app";if(navigator.share)try{await navigator.share({title:"Yo Nunca",text:"Descarga Yo Nunca y juega con tus amigos!",url:f})}catch(d){console.error("Error compartiendo la app:",d)}else try{await navigator.clipboard.writeText(f),s(!0),setTimeout(()=>s(!1),2e3)}catch(d){console.error("No se pudo copiar al portapapeles",d)}};return W.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 animate-fadeIn",children:[W.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500 mb-4 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Yo Nunca"}),W.jsx("p",{className:"text-slate-300 mb-12 text-lg",children:"El juego para revelar secretos."}),W.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[W.jsxs(sa,{onClick:()=>r(Nn.Game),fullWidth:!0,size:"large",children:[W.jsx("i",{className:"fas fa-play mr-2"}),"Iniciar Partida"]}),W.jsxs(sa,{onClick:e,variant:"secondary",fullWidth:!0,children:[W.jsx("i",{className:"fas fa-lightbulb mr-2"}),"Sugerir Frase"]}),W.jsxs(sa,{onClick:()=>r(Nn.Store),variant:"secondary",fullWidth:!0,children:[W.jsx("i",{className:"fas fa-store mr-2"}),"Tienda"]}),W.jsxs(sa,{onClick:o,variant:"secondary",fullWidth:!0,children:[W.jsx("i",{className:"fas fa-share-alt mr-2"}),i?"Enlace copiado!":"Compartir App"]})]})]})};var Qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},gE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},Fy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=f>>2,O=(f&3)<<4|g>>4;let U=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(U=64)),s.push(i[A],i[O],i[U],i[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Qy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const O=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||g==null||v==null||O==null)throw new pE;const U=f<<2|g>>4;if(s.push(U),v!==64){const k=g<<4&240|v>>2;if(s.push(k),O!==64){const J=v<<6&192|O;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yE=function(r){const e=Qy(r);return Fy.encodeByteArray(e,!0)},Ou=function(r){return yE(r).replace(/\./g,"")},_E=function(r){try{return Fy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=()=>vE().__FIREBASE_DEFAULTS__,TE=()=>{if(typeof process>"u"||typeof Qp>"u")return;const r=Qp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_E(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return EE()||TE()||AE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},SE=r=>{var e,i;return(i=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},bE=r=>{const e=SE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Yy=()=>{var r;return(r=Gh())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ou(JSON.stringify(i)),Ou(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CE(){var r;const e=(r=Gh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VE(){return!CE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="FirebaseError";class hs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=OE,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ky.prototype.create)}}class Ky{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?ME(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new hs(o,g,s)}}function ME(r,e){return r.replace(xE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const xE=/\{\$([^}]+)}/g;function Th(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if(Fp(f)&&Fp(d)){if(!Th(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Fp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r){return r&&r._delegate?r._delegate:r}class Pl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new RE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PE(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&e(d,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LE(r){return r===$a?void 0:r}function PE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new UE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const BE={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},qE=Mt.INFO,jE={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},kE=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=jE[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=qE,this._logHandler=kE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const HE=(r,e)=>e.some(i=>r instanceof i);let Yp,Kp;function GE(){return Yp||(Yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QE(){return Kp||(Kp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zy=new WeakMap,Ah=new WeakMap,$y=new WeakMap,hh=new WeakMap,Qh=new WeakMap;function FE(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(oa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zy.set(i,r)}).catch(()=>{}),Qh.set(e,r),e}function YE(r){if(Ah.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Ah.set(r,e)}let Sh={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ah.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$y.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return oa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KE(r){Sh=r(Sh)}function XE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(dh(this),e,...i);return $y.set(s,e.sort?e.sort():[e]),oa(s)}:QE().includes(r)?function(...e){return r.apply(dh(this),e),oa(Zy.get(this))}:function(...e){return oa(r.apply(dh(this),e))}}function ZE(r){return typeof r=="function"?XE(r):(r instanceof IDBTransaction&&YE(r),HE(r,GE())?new Proxy(r,Sh):r)}function oa(r){if(r instanceof IDBRequest)return FE(r);if(hh.has(r))return hh.get(r);const e=ZE(r);return e!==r&&(hh.set(r,e),Qh.set(e,r)),e}const dh=r=>Qh.get(r);function $E(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),g=oa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(oa(d.result),_.oldVersion,_.newVersion,oa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const JE=["get","getKey","getAll","getAllKeys","count"],WE=["put","add","delete","clear"],mh=new Map;function Xp(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mh.get(e))return mh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=WE.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JE.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return mh.set(e,f),f}KE(r=>({...r,get:(e,i,s)=>Xp(e,i)||r.get(e,i,s),has:(e,i)=>!!Xp(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function eT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bh="@firebase/app",Zp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Xy("@firebase/app"),nT="@firebase/app-compat",iT="@firebase/analytics-compat",aT="@firebase/analytics",rT="@firebase/app-check-compat",sT="@firebase/app-check",lT="@firebase/auth",oT="@firebase/auth-compat",uT="@firebase/database",cT="@firebase/data-connect",fT="@firebase/database-compat",hT="@firebase/functions",dT="@firebase/functions-compat",mT="@firebase/installations",gT="@firebase/installations-compat",pT="@firebase/messaging",yT="@firebase/messaging-compat",_T="@firebase/performance",vT="@firebase/performance-compat",ET="@firebase/remote-config",TT="@firebase/remote-config-compat",AT="@firebase/storage",ST="@firebase/storage-compat",bT="@firebase/firestore",RT="@firebase/vertexai-preview",wT="@firebase/firestore-compat",DT="firebase",CT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="[DEFAULT]",VT={[bh]:"fire-core",[nT]:"fire-core-compat",[aT]:"fire-analytics",[iT]:"fire-analytics-compat",[sT]:"fire-app-check",[rT]:"fire-app-check-compat",[lT]:"fire-auth",[oT]:"fire-auth-compat",[uT]:"fire-rtdb",[cT]:"fire-data-connect",[fT]:"fire-rtdb-compat",[hT]:"fire-fn",[dT]:"fire-fn-compat",[mT]:"fire-iid",[gT]:"fire-iid-compat",[pT]:"fire-fcm",[yT]:"fire-fcm-compat",[_T]:"fire-perf",[vT]:"fire-perf-compat",[ET]:"fire-rc",[TT]:"fire-rc-compat",[AT]:"fire-gcs",[ST]:"fire-gcs-compat",[bT]:"fire-fst",[wT]:"fire-fst-compat",[RT]:"fire-vertex","fire-js":"fire-js",[DT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Map,IT=new Map,wh=new Map;function $p(r,e){try{r.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function xu(r){const e=r.name;if(wh.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;wh.set(e,r);for(const i of Mu.values())$p(i,r);for(const i of IT.values())$p(i,r);return!0}function NT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Ky("app","Firebase",OT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=CT;function Jy(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Rh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(i||(i=Yy()),!i)throw ua.create("no-options");const f=Mu.get(o);if(f){if(Th(i,f.options)&&Th(s,f.config))return f;throw ua.create("duplicate-app",{appName:o})}const d=new zE(o);for(const _ of wh.values())d.addComponent(_);const g=new MT(i,s,d);return Mu.set(o,g),g}function UT(r=Rh){const e=Mu.get(r);if(!e&&r===Rh&&Yy())return Jy();if(!e)throw ua.create("no-app",{appName:r});return e}function es(r,e,i){var s;let o=(s=VT[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const f=o.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${o}" with version "${e}":`];f&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(g.join(" "));return}xu(new Pl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebase-heartbeat-database",PT=1,zl="firebase-heartbeat-store";let gh=null;function Wy(){return gh||(gh=$E(LT,PT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ua.create("idb-open",{originalErrorMessage:r.message})})),gh}async function zT(r){try{const i=(await Wy()).transaction(zl),s=await i.objectStore(zl).get(t_(r));return await i.done,s}catch(e){if(e instanceof hs)Ci.warn(e.message);else{const i=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function Jp(r,e){try{const s=(await Wy()).transaction(zl,"readwrite");await s.objectStore(zl).put(e,t_(r)),await s.done}catch(i){if(i instanceof hs)Ci.warn(i.message);else{const s=ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(s.message)}}}function t_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=1024,qT=720*60*60*1e3;class jT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Wp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=qT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Wp(),{heartbeatsToSend:s,unsentEntries:o}=kT(this._heartbeatsCache.heartbeats),f=Ou(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Ci.warn(i),""}}}function Wp(){return new Date().toISOString().substring(0,10)}function kT(r,e=BT){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),ty(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ty(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class HT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ty(r){return Ou(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){xu(new Pl("platform-logger",e=>new tT(e),"PRIVATE")),xu(new Pl("heartbeat",e=>new jT(e),"PRIVATE")),es(bh,Zp,r),es(bh,Zp,"esm2017"),es("fire-js","")}GT("");var ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,e_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function w(){}w.prototype=S.prototype,I.D=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(V,N,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],N=I.g[2];var x=I.g[3],R=S+(x^w&(N^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^x&(w^N))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+x&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var w=S-this.blockSize,V=this.B,N=this.h,x=0;x<S;){if(N==0)for(;x<=w;)o(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<S;)if(V[N++]=I.charCodeAt(x++),N==this.blockSize){o(this,V),N=0;break}}else for(;x<S;)if(V[N++]=I[x++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var w=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=w&255,w/=256;for(this.u(I),I=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)I[w++]=this.g[S]>>>V&255;return I};function f(I,S){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function d(I,S){this.h=S;for(var w=[],V=!0,N=I.length-1;0<=N;N--){var x=I[N]|0;V&&x==S||(w[N]=x,V=!1)}this.g=w}var g={};function _(I){return-128<=I&&128>I?f(I,function(S){return new d([S|0],0>S?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return O;if(0>I)return tt(v(-I));for(var S=[],w=1,V=0;I>=w;V++)S[V]=I/w|0,w*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=O,N=0;N<I.length;N+=8){var x=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+x),S);8>x?(x=v(Math.pow(S,x)),V=V.j(x).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var O=_(0),U=_(1),k=_(16777216);r=d.prototype,r.m=function(){if(at(this))return-tt(this).m();for(var I=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);I+=(0<=V?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(at(this))return"-"+tt(this).toString(I);for(var S=v(Math.pow(I,6)),w=this,V="";;){var N=Bt(w,S).g;w=Dt(w,N.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=N,J(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function at(I){return I.h==-1}r.l=function(I){return I=Dt(this,I),at(I)?-1:J(I)?0:1};function tt(I){for(var S=I.g.length,w=[],V=0;V<S;V++)w[V]=~I.g[V];return new d(w,~I.h).add(U)}r.abs=function(){return at(this)?tt(this):this},r.add=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0,N=0;N<=S;N++){var x=V+(this.i(N)&65535)+(I.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,x&=65535,R&=65535,w[N]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Dt(I,S){return I.add(tt(S))}r.j=function(I){if(J(this)||J(I))return O;if(at(this))return at(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(at(I))return tt(this.j(tt(I)));if(0>this.l(k)&&0>I.l(k))return v(this.m()*I.m());for(var S=this.g.length+I.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<I.g.length;N++){var x=this.i(V)>>>16,R=this.i(V)&65535,Ne=I.i(N)>>>16,ie=I.i(N)&65535;w[2*V+2*N]+=R*ie,At(w,2*V+2*N),w[2*V+2*N+1]+=x*ie,At(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Ne,At(w,2*V+2*N+1),w[2*V+2*N+2]+=x*Ne,At(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function At(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function _t(I,S){this.g=I,this.h=S}function Bt(I,S){if(J(S))throw Error("division by zero");if(J(I))return new _t(O,O);if(at(I))return S=Bt(tt(I),S),new _t(tt(S.g),tt(S.h));if(at(S))return S=Bt(I,tt(S)),new _t(tt(S.g),S.h);if(30<I.g.length){if(at(I)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,V=S;0>=V.l(I);)w=vt(w),V=vt(V);var N=Lt(w,1),x=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!J(V);){var R=x.add(V);0>=R.l(I)&&(N=N.add(w),x=R),V=Lt(V,1),w=Lt(w,1)}return S=Dt(I,N.j(S)),new _t(N,S)}for(N=O;0<=I.l(S);){for(w=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=v(w),R=x.j(S);at(R)||0<R.l(I);)w-=V,x=v(w),R=x.j(S);J(x)&&(x=U),N=N.add(x),I=Dt(I,R)}return new _t(N,I)}r.A=function(I){return Bt(this,I).h},r.and=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&I.i(V);return new d(w,this.h&I.h)},r.or=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|I.i(V);return new d(w,this.h|I.h)},r.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^I.i(V);return new d(w,this.h^I.h)};function vt(I){for(var S=I.g.length+1,w=[],V=0;V<S;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(w,I.h)}function Lt(I,S){var w=S>>5;S%=32;for(var V=I.g.length-w,N=[],x=0;x<V;x++)N[x]=0<S?I.i(x+w)>>>S|I.i(x+w+1)<<32-S:I.i(x+w);return new d(N,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,e_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Wa=d}).apply(typeof ey<"u"?ey:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n_,Vl,i_,Du,Dh,a_,r_,s_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function O(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function U(u,m,p){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,U.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var $=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)$[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,$)}}function at(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let $=0;$<j;$++)u[L+$]=T[$]}else u.push(T)}}class Dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Bt(u){return Bt[" "](u),u}Bt[" "]=function(){};var vt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Dt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Pt=new Ne,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function St(u,m){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Bt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}J(St,Z);var mt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ni(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,m,p,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var $=ga(u,m,T,L);return-1<$?(m=u[$],p||(m.fa=!1)):(m=new xn(m,this.src,j,!!T,L),m.fa=p,u.push(m)),m};function ma(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Ni(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ga(u,m,p,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return L}return-1}var pa="closure_lm_"+(1e6*Math.random()|0),_s={};function Jl(u,m,p,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Jl(u,m[j],p,T,L);return null}return p=Wl(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,L):fn(u,m,p,!1,T,L)}function fn(u,m,p,T,L,j){if(!m)throw Error("Invalid event type");var $=v(L)?!!L.capture:!!L,Vt=sr(u);if(Vt||(u[pa]=Vt=new ti(u)),p=Vt.add(m,p,T,$,j),p.proxy)return p;if(T=rc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ya(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function rc(){function u(p){return m.call(u.src,u.listener,p)}const m=sc;return u}function vs(u,m,p,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)vs(u,m[j],p,T,L);else T=v(T)?!!T.capture:!!T,p=Wl(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=ga(j,p,T,L),-1<p&&(Ni(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ga(m,p,T,L)),(p=-1<u?m[u]:null)&&rr(p))}function rr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])ma(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(ya(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=sr(m))?(ma(p,u),p.h==0&&(p.src=null,m[pa]=null)):Ni(u)}}}function ya(u){return u in _s?_s[u]:_s[u]="on"+u}function sc(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&rr(u),u=p.call(T,m)}return u}function sr(u){return u=u[pa],u instanceof ti?u:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(m){return u.handleEvent(m)}),u[Es])}function ae(){nt.call(this),this.i=new ti(this),this.M=this,this.F=null}J(ae,nt),ae.prototype[be]=!0,ae.prototype.removeEventListener=function(u,m,p,T){vs(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Z(m,u);else if(m instanceof Z)m.target=m.target||u;else{var L=m;m=new Z(T,u),V(m,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var $=m.g=p[j];L=tn($,T,!0,m)&&L}if($=m.g=u,L=tn($,T,!0,m)&&L,L=tn($,T,!1,m)&&L,p)for(j=0;j<p.length;j++)$=m.g=p[j],L=tn($,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ni(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function tn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var $=m[j];if($&&!$.da&&$.capture==p){var Vt=$.listener,ve=$.ha||$.src;$.fa&&ma(u.i,$),L=Vt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(u,m,p){if(typeof u=="function")p&&(u=U(u,p));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function to(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,to(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class lc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(u){nt.call(this),this.h=u,this.g={}}J(_a,nt);var va=[];function Ea(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&rr(m)},u),u.g={}}_a.prototype.N=function(){_a.aa.N.call(this),Ea(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,lr=g.JSON.parse,Ta=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ts(){}Ts.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Ss(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){Z.call(this,"d")}J(ni,Z);function bs(){Z.call(this,"c")}J(bs,Z);var Un={},Rs=null;function Oi(){return Rs=Rs||new ae}Un.La="serverreachability";function or(u){Z.call(this,Un.La,u)}J(or,Z);function Mi(u){const m=Oi();jt(m,new or(m))}Un.STAT_EVENT="statevent";function eo(u,m){Z.call(this,Un.STAT_EVENT,u),this.stat=m}J(eo,Z);function Wt(u){const m=Oi();jt(m,new eo(m,u))}Un.Ma="timingevent";function _e(u,m){Z.call(this,Un.Ma,u),this.size=m}J(_e,Z);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function ws(u,m,p,T,L,j){u.info(function(){if(u.g)if(j)for(var $="",Vt=j.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var we=It[0];It=It[1];var Ee=we.split("_");$=2<=Ee.length&&Ee[1]=="type"?$+(we+"="+It+"&"):$+(we+"=redacted&")}}else $=null;else $=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+$})}function oc(u,m,p,T,L,j,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+j+" "+$})}function xi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Aa(u,p)+(T?" "+T:"")})}function no(u,m){u.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Aa(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return Rn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Pn(){}J(Pn,Ts),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},Ln=new Pn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new _a(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ds={},ur={};function wn(u,m,p){u.L=1,u.v=Da(en(m)),u.m=p,u.P=!0,ai(u,null)}function ai(u,m){u.F=Date.now(),Sa(u),u.A=en(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ms(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=vo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new lc(U(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(va[0]=L.toString()),L=va);for(var j=0;j<L.length;j++){var $=Jl(p,L[j],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Mi(),ws(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&pn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=pn(this.g);var m=this.g.Ba();const hi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||co(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=hi?Mi(3):Mi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(io(this)){var T=co(this.g);u="";var L=T.length,j=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),zn(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,oc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Vt)){var It=Vt;break e}}It=null}if(p=It)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),zn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=ao(this,$),Me==ur){Ee==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ds){this.s=4,Wt(15),xi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Me,null),ba(this,Me);if(io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||$.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,$,"[Invalid Chunked Response]"),Oe(this),zn(this);else if(0<$.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ua(we),we.M=!0,Wt(11))}}else xi(this.i,this.l,$,null),ba(this,$);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?po(this.j,this):(this.o=!1,Sa(this)))}else dc(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),zn(this)}}}catch{}finally{}};function io(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ao(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ur:(p=Number(m.substring(p,T)),isNaN(p)?Ds:(T+=1,T+p>m.length?ur:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Sa(u){u.S=Date.now()+u.I,ro(u,u.I)}function ro(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(U(u.ba,u),m)}function Li(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(no(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Oe(this),this.s=2,zn(this)):ro(this,this.S-u)};function zn(u){u.j.G==0||u.J||po(u.j,u)}function Oe(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ea(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ba(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Cs(p.h,u))){if(!u.K&&Cs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Tr(p),vr(p);else break t;zs(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(U(p.Za,p),6e3));if(1>=fr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((u.K||p.g==u)&&Tr(p),!At(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const we=It[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const Ee=It[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const hi=It[5];hi!=null&&typeof hi=="number"&&0<hi&&(T=1.5*hi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var j=T.h;j.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(hr(j,j.h),j.h=null))}if(T.D){const qs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(T.ya=qs,Qt(T.I,T.D,qs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=u;if(T.qa=_o(T,T.J?T.ia:null,T.W),$.K){Ke(T.h,$);var Vt=$,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Li(Vt),Sa(Vt)),T.g=$}else mo(T);0<p.i.length&&Er(p)}else It[0]!="stop"&&It[0]!="close"||fi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?fi(p,7):Ls(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Mi(4)}catch{}}var so=class{constructor(u,m){this.g=u,this.map=m}};function ri(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fr(u){return u.h?1:u.g?u.g.size:0}function Cs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function hr(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ri.prototype.cancel=function(){if(this.i=Vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return at(u.i)}function uc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function dr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Is(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=dr(u),T=uc(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],p&&p[j],u)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var j=u[p].substring(0,T);L=u[p].substring(T+1)}else j=u[p];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,wa(this,u.j),this.o=u.o,this.g=u.g,Pi(this,u.s),this.l=u.l;var m=u.i,p=new li;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),si(this,p),this.m=u.m}else u&&(m=String(u).match(Ra))?(this.h=!1,wa(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),Pi(this,m[4]),this.l=dn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ca(m,Ns,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ca(m,Ns,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ca(p,p.charAt(0)=="/"?fc:Os,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ca(p,mr)),u.join("")};function en(u){return new de(u)}function wa(u,m,p){u.j=p?dn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Pi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function si(u,m,p){m instanceof li?(u.i=m,oo(u.i,u.h)):(p||(m=Ca(m,hc)),u.i=new li(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Da(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ca(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,lo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ns=/[#\/\?@]/g,Os=/[#\?:]/g,fc=/[#\?]/g,hc=/[#\?@]/g,mr=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&cc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=li.prototype,r.add=function(u,m){mn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function oi(u,m){mn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ui(u,m){return mn(u),m=Bn(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)p.push(m[T])}return p},r.V=function(u){mn(this);let m=[];if(typeof u=="string")ui(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return mn(this),this.i=null,u=Bn(this,u),ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ms(u,m,p){oi(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),at(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var L=j;$[T]!==""&&(L+="="+encodeURIComponent(String($[T]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oo(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(oi(this,T),Ms(this,L,p))},u)),u.j=m}function Va(u,m){const p=new hn;if(g.Image){const T=new Image;T.onload=k(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dn(u,m){const p=new hn,T=new AbortController,L=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),gn(p,"TestPingServer: error",!1,m)})}function gn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ia(){this.g=new Ta}function qn(u,m,p){const T=p||"";try{Is(u,function(L,j){let $=L;v(L)&&($=Rn(L)),m.push(T+j+"="+encodeURIComponent($))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function zi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(zi,Ts),zi.prototype.g=function(){return new ci(this.l,this.j)},zi.prototype.i=(function(u){return function(){return u}})({});function ci(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ci,ae),r=ci.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):kn(this),this.readyState==3&&xs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},r.Qa=function(u){this.g&&(this.response=u,jn(this))},r.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Us(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Us(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function qt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,ae);var gr=/^https?$/i,Na=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?As(this.o):As(Ln),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){uo(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Na,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of p)this.g.setRequestHeader(j,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){uo(this,j)}};function uo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,pr(u),Hn(u)}function pr(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?yr(this):this.bb())},r.bb=function(){yr(this)};function yr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)je(u.Ea,0,u);else if(jt(u,"readystatechange"),pn(u)==4){u.h=!1;try{const $=u.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var L=String(u.D).match(Ra)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!gr.test(L?L.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var j=2<pn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",pr(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){Oa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Oa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),lr(m)}};function co(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(u){const m={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var p=N(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[L]||[];m[L]=j,j.push(p)}I(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function _r(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,u),this.cb=Ma("retryDelaySeedMs",1e4,u),this.Wa=Ma("forwardChannelMaxRetries",2,u),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new Ia,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_r.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_o(this,null,this.W),Er(this)};function Ls(u){if(fo(u),u.G==3){var m=u.U++,p=en(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),xa(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Da(en(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Sa(m)}yo(u)}function vr(u){u.g&&(Ua(u),u.g.cancel(),u.g=null)}function fo(u){vr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Tr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Er(u){if(!cr(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),Pt.add(m,u),u.B=0}}function mc(u,m){return fr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(U(u.Ga,u,m),Bs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),V(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=ho(this,L,m),p=en(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),xa(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Us(j)))+"&"+m:this.m&&Re(p,this.m,j)),hr(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,wn(L,p,null)):wn(L,p,m),this.G=2}}else this.G==3&&(u?Ps(this,u):this.i.length==0||cr(this.h)||Ps(this))};function Ps(u,m){var p;m?p=m.l:p=u.U++;const T=en(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),xa(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ho(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),hr(u.h,p),wn(p,T,m)}function xa(u,m){u.H&&Lt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Is({},function(p,T){Qt(m,T,p)})}function ho(u,m,p){p=Math.min(u.i.length,p);var T=u.l?U(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const $=["count="+p];j==-1?0<p?(j=L[0].g,$.push("ofs="+j)):j=0:$.push("ofs="+j);let Vt=!0;for(let ve=0;ve<p;ve++){let It=L[ve].g;const we=L[ve].map;if(It-=j,0>It)j=Math.max(0,L[ve].g-100),Vt=!1;else try{qn(we,$,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=$.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),Pt.add(m,u),u.v=0}}function zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(U(u.Fa,u),Bs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(U(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),vr(this),go(this))};function Ua(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function go(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=en(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),xa(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Da(en(m)),p.m=null,p.P=!0,ai(p,u)}r.Za=function(){this.C!=null&&(this.C=null,vr(this),zs(this),Wt(19))};function Tr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function po(u,m){var p=null;if(u.g==m){Tr(u),Ua(u),u.g=null;var T=2}else if(Cs(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Oi(),jt(T,new _e(T,p)),Er(u)}else mo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&mc(u,m)||T==2&&zs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function Bs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var p=U(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wa(T,"https"),Da(T),L?Va(T.toString(),p):Dn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),yo(u),fo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function yo(u){if(u.G=0,u.ka=[],u.l){const m=Vs(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,at(u.i),u.i.length=0),u.l.ra()}}function _o(u,m,p){var T=p instanceof de?en(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new de(null);T&&wa(j,T),m&&(j.g=m),L&&Pi(j,L),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),xa(u,T),T}function vo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new zi({eb:p})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eo(){}r=Eo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ar(){}Ar.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ae.call(this),this.g=new _r(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}J(Xe,ae),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Ls(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new so(m.Ya++,u)),m.G==3&&Er(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Ls(this.g),delete this.g,Xe.aa.N.call(this)};function To(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(To,ni);function Ao(){bs.call(this),this.status=1}J(Ao,bs);function Gn(u){this.g=u}J(Gn,Eo),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new To(u))},Gn.prototype.sa=function(u){jt(this.g,new Ao)},Gn.prototype.ra=function(){jt(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,s_=function(){return new Ar},r_=function(){return Oi()},a_=Un,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Du=Ui,ii.COMPLETE="complete",i_=ii,Ss.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Vl=Ss,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,n_=qt}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const ny="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Xy("@firebase/firestore");function Cl(){return tr.logLevel}function st(r,...e){if(tr.logLevel<=Mt.DEBUG){const i=e.map(Fh);tr.debug(`Firestore (${ds}): ${r}`,...i)}}function Vi(r,...e){if(tr.logLevel<=Mt.ERROR){const i=e.map(Fh);tr.error(`Firestore (${ds}): ${r}`,...i)}}function as(r,...e){if(tr.logLevel<=Mt.WARN){const i=e.map(Fh);tr.warn(`Firestore (${ds}): ${r}`,...i)}}function Fh(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+r;throw Vi(e),new Error(e)}function Gt(r,e){r||gt()}function yt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class FT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class YT{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new wi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new wi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new l_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class KT{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XT{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new KT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $T{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Gt(this.o===void 0);const s=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new ZT(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=JT(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%e.length))}return s}}function Ut(r,e){return r<e?-1:r>e?1:0}function rs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new Se(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Se(0,0))}static max(){return new pt(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(),s===void 0?s=e.length-i:s>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=e.get(o),d=i.get(o);if(f<d)return-1;if(f>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Jt extends Bl{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const WT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Bl{construct(e,i,s){return new ze(e,i,s)}static isValidIdentifier(e){return WT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ze(["__name__"])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}function tA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new fa(o,ut.empty(),e)}function eA(r){return new fa(r.readTime,r.key,-1)}class fa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new fa(pt.min(),ut.empty(),-1)}static max(){return new fa(pt.max(),ut.empty(),-1)}}function nA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:Ut(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==iA)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let o=0,f=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++f,d&&f===o&&i()}),(_=>s(_)))})),d=!0,f===o&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((o=>o?X.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++g,g===f&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function rA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yh.oe=-1;function Fu(r){return r==null}function Uu(r){return r===0&&1/r==-1/0}function sA(r){return typeof r=="number"&&Number.isInteger(r)&&!Uu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ms(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function u_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=f??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,s,o,f){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new On([])}unionWith(e){let i=new Be(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new c_("Invalid base64 string: "+f):f}})(e);return new qe(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const lA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(r){if(Gt(!!r),typeof r=="string"){let e=0;const i=lA.exec(r);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function er(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Xh(r){const e=r.mapValue.fields.__previous_value__;return Kh(e)?Xh(e):e}function ql(r){const e=ha(r.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i,s,o,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class jl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru={mapValue:{}};function nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kh(r)?4:cA(r)?9007199254740991:uA(r)?10:11:gt()}function Wn(r,e){if(r===e)return!0;const i=nr(r);if(i!==nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ql(r).isEqual(ql(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=ha(o.timestampValue),g=ha(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return er(o.bytesValue).isEqual(er(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ce(o.geoPointValue.latitude)===ce(f.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ce(o.integerValue)===ce(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ce(o.doubleValue),g=ce(f.doubleValue);return d===g?Uu(d)===Uu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return rs(r.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(iy(d)!==iy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Wn(d[_],g[_])))return!1;return!0})(r,e);default:return gt()}}function kl(r,e){return(r.values||[]).find((i=>Wn(i,e)))!==void 0}function ss(r,e){if(r===e)return 0;const i=nr(r),s=nr(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const g=ce(f.integerValue||f.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return ry(r.timestampValue,e.timestampValue);case 4:return ry(ql(r),ql(e));case 5:return Ut(r.stringValue,e.stringValue);case 6:return(function(f,d){const g=er(f),_=er(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Ut(g[v],_[v]);if(A!==0)return A}return Ut(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const g=Ut(ce(f.latitude),ce(d.latitude));return g!==0?g:Ut(ce(f.longitude),ce(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return sy(r.arrayValue,e.arrayValue);case 10:return(function(f,d){var g,_,v,A;const O=f.fields||{},U=d.fields||{},k=(g=O.value)===null||g===void 0?void 0:g.arrayValue,J=(_=U.value)===null||_===void 0?void 0:_.arrayValue,at=Ut(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((A=J==null?void 0:J.values)===null||A===void 0?void 0:A.length)||0);return at!==0?at:sy(k,J)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Ru.mapValue&&d===Ru.mapValue)return 0;if(f===Ru.mapValue)return 1;if(d===Ru.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let O=0;O<_.length&&O<A.length;++O){const U=Ut(_[O],A[O]);if(U!==0)return U;const k=ss(g[_[O]],v[A[O]]);if(k!==0)return k}return Ut(_.length,A.length)})(r.mapValue,e.mapValue);default:throw gt()}}function ry(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ut(r,e);const i=ha(r),s=ha(e),o=Ut(i.seconds,s.seconds);return o!==0?o:Ut(i.nanos,s.nanos)}function sy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=ss(i[o],s[o]);if(f)return f}return Ut(i.length,s.length)}function ls(r){return Ch(r)}function Ch(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ha(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=Ch(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${Ch(i.fields[d])}`;return o+"}"})(r.mapValue):gt()}function ly(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vh(r){return!!r&&"integerValue"in r}function Zh(r){return!!r&&"arrayValue"in r}function oy(r){return!!r&&"nullValue"in r}function uy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cu(r){return!!r&&"mapValue"in r}function uA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ms(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ml(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ml(r.arrayValue.values[i]);return e}return Object.assign({},r)}function cA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Cu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(i)}setAll(e){let i=ze.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Ml(d):o.push(g.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Cu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Cu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ms(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new bn(Ml(this.value))}}function f_(r){const e=[];return ms(r.fields,((i,s)=>{const o=new ze([i]);if(Cu(s)){const f=f_(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,pt.min(),pt.min(),pt.min(),bn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,pt.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,pt.min(),pt.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,pt.min(),pt.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,i){this.position=e,this.inclusive=i}}function cy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=ss(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function fy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Wn(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,i="asc"){this.field=e,this.dir=i}}function fA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{}class ye extends h_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new dA(e,i,s):i==="array-contains"?new pA(e,s):i==="in"?new yA(e,s):i==="not-in"?new _A(e,s):i==="array-contains-any"?new vA(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new mA(e,s):new gA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ss(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends h_{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Mn(e,i)}matches(e){return d_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d_(r){return r.op==="and"}function m_(r){return hA(r)&&d_(r)}function hA(r){for(const e of r.filters)if(e instanceof Mn)return!1;return!0}function Ih(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+ls(r.value);if(m_(r))return r.filters.map((e=>Ih(e))).join(",");{const e=r.filters.map((i=>Ih(i))).join(",");return`${r.op}(${e})`}}function g_(r,e){return r instanceof ye?(function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&Wn(s.value,o.value)})(r,e):r instanceof Mn?(function(s,o){return o instanceof Mn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,g)=>f&&g_(d,o.filters[g])),!0):!1})(r,e):void gt()}function p_(r){return r instanceof ye?(function(i){return`${i.field.canonicalString()} ${i.op} ${ls(i.value)}`})(r):r instanceof Mn?(function(i){return i.op.toString()+" {"+i.getFilters().map(p_).join(" ,")+"}"})(r):"Filter"}class dA extends ye{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class mA extends ye{constructor(e,i){super(e,"in",i),this.keys=y_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=y_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function y_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>ut.fromName(s.referenceValue)))}class pA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zh(i)&&kl(i.arrayValue,this.value)}}class yA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class _A extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!kl(this.value.arrayValue,i)}}class vA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zh(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function hy(r,e=null,i=[],s=[],o=null,f=null,d=null){return new EA(r,e,i,s,o,f,d)}function $h(r){const e=yt(r);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ih(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),Fu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ls(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ls(s))).join(",")),e.ue=i}return e.ue}function Jh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!fA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!g_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fy(r.startAt,e.startAt)&&fy(r.endAt,e.endAt)}function Nh(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TA(r,e,i,s,o,f,d,g){return new Yl(r,e,i,s,o,f,d,g)}function Wh(r){return new Yl(r)}function dy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function __(r){return r.collectionGroup!==null}function xl(r){const e=yt(r);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(ze.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Pu(f,s))})),i.has(ze.keyField().canonicalString())||e.ce.push(new Pu(ze.keyField(),s))}return e.ce}function $n(r){const e=yt(r);return e.le||(e.le=AA(e,xl(r))),e.le}function AA(r,e){if(r.limitType==="F")return hy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new Pu(o.field,f)}));const i=r.endAt?new Lu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lu(r.startAt.position,r.startAt.inclusive):null;return hy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Oh(r,e){const i=r.filters.concat([e]);return new Yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Mh(r,e,i){return new Yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Yu(r,e){return Jh($n(r),$n(e))&&r.limitType===e.limitType}function v_(r){return`${$h($n(r))}|lt:${r.limitType}`}function Jr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>p_(o))).join(", ")}]`),Fu(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ls(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ls(o))).join(",")),`Target(${s})`})($n(r))}; limitType=${r.limitType})`}function Ku(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ut.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of xl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const v=cy(d,g,_);return d.inclusive?v<=0:v<0})(s.startAt,xl(s),o)||s.endAt&&!(function(d,g,_){const v=cy(d,g,_);return d.inclusive?v>=0:v>0})(s.endAt,xl(s),o))})(r,e)}function SA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E_(r){return(e,i)=>{let s=!1;for(const o of xl(r)){const f=bA(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function bA(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):(function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?ss(_,v):gt()})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return u_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new ne(ut.comparator);function Ii(){return RA}const T_=new ne(ut.comparator);function Il(...r){let e=T_;for(const i of r)e=e.insert(i.key,i);return e}function A_(r){let e=T_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ja(){return Ul()}function S_(){return Ul()}function Ul(){return new gs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wA=new ne(ut.comparator),DA=new Be(ut.comparator);function Ct(...r){let e=DA;for(const i of r)e=e.add(i);return e}const CA=new Be(Ut);function VA(){return CA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function b_(r){return{integerValue:""+r}}function IA(r,e){return sA(e)?b_(e):td(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this._=void 0}}function NA(r,e,i){return r instanceof zu?(function(o,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Kh(f)&&(f=Xh(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}})(i,e):r instanceof Hl?w_(r,e):r instanceof Gl?D_(r,e):(function(o,f){const d=R_(o,f),g=my(d)+my(o.Pe);return Vh(d)&&Vh(o.Pe)?b_(g):td(o.serializer,g)})(r,e)}function OA(r,e,i){return r instanceof Hl?w_(r,e):r instanceof Gl?D_(r,e):i}function R_(r,e){return r instanceof Bu?(function(s){return Vh(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class zu extends Xu{}class Hl extends Xu{constructor(e){super(),this.elements=e}}function w_(r,e){const i=C_(e);for(const s of r.elements)i.some((o=>Wn(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Gl extends Xu{constructor(e){super(),this.elements=e}}function D_(r,e){let i=C_(e);for(const s of r.elements)i=i.filter((o=>!Wn(o,s)));return{arrayValue:{values:i}}}class Bu extends Xu{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function my(r){return ce(r.integerValue||r.doubleValue)}function C_(r){return Zh(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Hl&&o instanceof Hl||s instanceof Gl&&o instanceof Gl?rs(s.elements,o.elements,Wn):s instanceof Bu&&o instanceof Bu?Wn(s.Pe,o.Pe):s instanceof zu&&o instanceof zu})(r.transform,e.transform)}class xA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zu{}function V_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new N_(r.key,Di.none()):new Kl(r.key,r.data,Di.none());{const i=r.data,s=bn.empty();let o=new Be(ze.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new ir(r.key,s,new On(o.toArray()),Di.none())}}function UA(r,e,i){r instanceof Kl?(function(o,f,d){const g=o.value.clone(),_=py(o.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ir?(function(o,f,d){if(!Vu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=py(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(I_(o)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(r,e,i,s){return r instanceof Kl?(function(f,d,g,_){if(!Vu(f.precondition,d))return g;const v=f.value.clone(),A=yy(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,s):r instanceof ir?(function(f,d,g,_){if(!Vu(f.precondition,d))return g;const v=yy(f.fieldTransforms,_,d),A=d.data;return A.setAll(I_(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((O=>O.field)))})(r,e,i,s):(function(f,d,g){return Vu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function LA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=R_(s.transform,o||null);f!=null&&(i===null&&(i=bn.empty()),i.set(s.field,f))}return i||null}function gy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&rs(s,o,((f,d)=>MA(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kl extends Zu{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ir extends Zu{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function I_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function py(r,e,i){const s=new Map;Gt(r.length===i.length);for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,OA(d,g,i[o]))}return s}function yy(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,NA(f,d,e))}return s}class N_ extends Zu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PA extends Zu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&UA(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ll(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ll(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=S_();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const _=V_(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,((i,s)=>gy(i,s)))&&rs(this.baseMutations,e.baseMutations,((i,s)=>gy(i,s)))}}class ed{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=(function(){return wA})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new ed(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ot;function jA(r){switch(r){default:return gt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function O_(r){if(r===void 0)return Vi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case pe.OK:return Y.OK;case pe.CANCELLED:return Y.CANCELLED;case pe.UNKNOWN:return Y.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Y.INTERNAL;case pe.UNAVAILABLE:return Y.UNAVAILABLE;case pe.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case pe.NOT_FOUND:return Y.NOT_FOUND;case pe.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case pe.ABORTED:return Y.ABORTED;case pe.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case pe.DATA_LOSS:return Y.DATA_LOSS;default:return gt()}}(Ot=pe||(pe={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new Wa([4294967295,4294967295],0);function _y(r){const e=kA().encode(r),i=new e_;return i.update(e),new Uint8Array(i.digest())}function vy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Wa([i,s],0),new Wa([o,f],0)]}class nd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Wa.fromNumber(this.Ie)}Ee(e,i,s){let o=e.add(i.multiply(Wa.fromNumber(s)));return o.compare(HA)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=_y(e),[s,o]=vy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);if(!this.de(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new nd(f,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.Ie===0)return;const i=_y(e),[s,o]=vy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new $u(pt.min(),o,new ne(Ut),Ii(),Ct())}}class Xl{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Xl(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,i,s,o){this.Re=e,this.removedTargetIds=i,this.key=s,this.Ve=o}}class M_{constructor(e,i){this.targetId=e,this.me=i}}class x_{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Ey{constructor(){this.fe=0,this.ge=Ay(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),i=Ct(),s=Ct();return this.ge.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt()}})),new Xl(this.pe,this.ye,e,i,s)}Ce(){this.we=!1,this.ge=Ay()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=Ty(),this.Qe=new ne(Ut)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const s=this.Ge(i);switch(e.state){case 0:this.ze(i)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(e.resumeToken));break;default:gt()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((s,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,s=e.me.count,o=this.Je(i);if(o){const f=o.target;if(Nh(f))if(s===0){const d=new ut(f.path);this.Ue(i,d,Fe.newNoDocument(d,pt.min()))}else Gt(s===1);else{const d=this.Ye(i);if(d!==s){const g=this.Ze(e),_=g?this.Xe(g,e,d):1;if(_!==0){this.je(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=er(s).toUint8Array()}catch(_){if(_ instanceof c_)return as("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new nd(d,o,f)}catch(_){return as(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ie===0?null:g}Xe(e,i,s){return i.me.count===s-this.nt(e,i.targetId)?0:2}nt(e,i){const s=this.Le.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,f,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((f,d)=>{const g=this.Je(d);if(g){if(f.current&&Nh(g.target)){const _=new ut(g.target.path);this.ke.get(_)!==null||this.it(d,_)||this.Ue(d,_,Fe.newNoDocument(_,e))}f.be&&(i.set(d,f.ve()),f.Ce())}}));let s=Ct();this.qe.forEach(((f,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.Je(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(f))})),this.ke.forEach(((f,d)=>d.setReadTime(e)));const o=new $u(e,i,this.Qe,this.ke,s);return this.ke=Ii(),this.qe=Ty(),this.Qe=new ne(Ut),o}$e(e,i){if(!this.ze(e))return;const s=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Ey,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Be(Ut),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ey),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function Ty(){return new ne(ut.comparator)}function Ay(){return new ne(ut.comparator)}const QA={asc:"ASCENDING",desc:"DESCENDING"},FA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YA={and:"AND",or:"OR"};class KA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function xh(r,e){return r.useProto3Json||Fu(e)?e:{value:e}}function qu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XA(r,e){return qu(r,e.toTimestamp())}function Jn(r){return Gt(!!r),pt.fromTimestamp((function(i){const s=ha(i);return new Se(s.seconds,s.nanos)})(r))}function id(r,e){return Uh(r,e).canonicalString()}function Uh(r,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function L_(r){const e=Jt.fromString(r);return Gt(j_(e)),e}function Lh(r,e){return id(r.databaseId,e.path)}function ph(r,e){const i=L_(e);if(i.get(1)!==r.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(z_(i))}function P_(r,e){return id(r.databaseId,e)}function ZA(r){const e=L_(r);return e.length===4?Jt.emptyPath():z_(e)}function Ph(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function z_(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Sy(r,e,i){return{name:Lh(r,e),fields:i.value.mapValue.fields}}function $A(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?Y.UNKNOWN:O_(v.code);return new it(A,v.message||"")})(d);i=new x_(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ph(r,s.document.name),f=Jn(s.document.updateTime),d=s.document.createTime?Jn(s.document.createTime):pt.min(),g=new bn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,f,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Iu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ph(r,s.document),f=s.readTime?Jn(s.readTime):pt.min(),d=Fe.newNoDocument(o,f),g=s.removedTargetIds||[];i=new Iu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ph(r,s.document),f=s.removedTargetIds||[];i=new Iu([],f,o,null)}else{if(!("filter"in e))return gt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new qA(o,f),g=s.targetId;i=new M_(g,d)}}return i}function JA(r,e){let i;if(e instanceof Kl)i={update:Sy(r,e.key,e.value)};else if(e instanceof N_)i={delete:Lh(r,e.key)};else if(e instanceof ir)i={update:Sy(r,e.key,e.data),updateMask:lS(e.fieldMask)};else{if(!(e instanceof PA))return gt();i={verify:Lh(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const g=d.transform;if(g instanceof zu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Bu)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw gt()})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:XA(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:gt()})(r,e.precondition)),i}function WA(r,e){return r&&r.length>0?(Gt(e!==void 0),r.map((i=>(function(o,f){let d=o.updateTime?Jn(o.updateTime):Jn(f);return d.isEqual(pt.min())&&(d=Jn(f)),new xA(d,o.transformResults||[])})(i,e)))):[]}function tS(r,e){return{documents:[P_(r,e.path)]}}function eS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=P_(r,o);const f=(function(v){if(v.length!==0)return q_(Mn.create(v,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(v){if(v.length!==0)return v.map((A=>(function(U){return{field:Wr(U.field),direction:aS(U.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=xh(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:i,parent:o}}function nS(r){let e=ZA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(O){const U=B_(O);return U instanceof Mn&&m_(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(O){return O.map((U=>(function(J){return new Pu(ts(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(U)))})(i.orderBy));let g=null;i.limit&&(g=(function(O){let U;return U=typeof O=="object"?O.value:O,Fu(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(O){const U=!!O.before,k=O.values||[];return new Lu(k,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(O){const U=!O.before,k=O.values||[];return new Lu(k,U)})(i.endAt)),TA(e,o,d,f,g,"F",_,v)}function iS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function B_(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ts(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ts(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ts(i.unaryFilter.field);return ye.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ts(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}})(r):r.fieldFilter!==void 0?(function(i){return ye.create(ts(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mn.create(i.compositeFilter.filters.map((s=>B_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}})(i.compositeFilter.op))})(r):gt()}function aS(r){return QA[r]}function rS(r){return FA[r]}function sS(r){return YA[r]}function Wr(r){return{fieldPath:r.canonicalString()}}function ts(r){return ze.fromServerFormat(r.fieldPath)}function q_(r){return r instanceof ye?(function(i){if(i.op==="=="){if(uy(i.value))return{unaryFilter:{field:Wr(i.field),op:"IS_NAN"}};if(oy(i.value))return{unaryFilter:{field:Wr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uy(i.value))return{unaryFilter:{field:Wr(i.field),op:"IS_NOT_NAN"}};if(oy(i.value))return{unaryFilter:{field:Wr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wr(i.field),op:rS(i.op),value:i.value}}})(r):r instanceof Mn?(function(i){const s=i.getFilters().map((o=>q_(o)));return s.length===1?s[0]:{compositeFilter:{op:sS(i.op),filters:s}}})(r):gt()}function lS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function j_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i,s,o,f=pt.min(),d=pt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.ct=e}}function uS(r){const e=nS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.un=new fS}addToCollectionParentIndex(e,i){return this.un.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(fa.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class fS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Be(Jt.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new os(0)}static kn(){return new os(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.changes=new gs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Ll(s.mutation,o,On.empty(),Se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ct()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ct()){const o=Ja();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=Il();return f.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Ja();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ct())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let f=Ii();const d=Ul(),g=(function(){return Ul()})();return i.forEach(((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ir)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ll(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,On.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var O;return g.set(v,new dS(A,(O=d.get(v))!==null&&O!==void 0?O:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=Ul();let o=new ne(((d,g)=>d-g)),f=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||On.empty();A=g.applyToLocalView(v,A),s.set(_,A);const O=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,O)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,O=S_();A.forEach((U=>{if(!f.has(U)){const k=V_(i.get(U),s.get(U));k!==null&&O.set(U,k),f=f.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,O))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):__(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):X.resolve(Ja());let g=-1,_=f;return d.next((v=>X.forEach(v,((A,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),f.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((U=>{_=_.insert(A,U)}))))).next((()=>this.populateOverlays(e,v,f))).next((()=>this.computeViews(e,_,v,Ct()))).next((A=>({batchId:g,changes:A_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,f).next((g=>X.forEach(g,(_=>{const v=(function(O,U){return new Yl(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((A=>{A.forEach(((O,U)=>{d=d.insert(O,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))}));let g=Il();return d.forEach(((_,v)=>{const A=f.get(_);A!==void 0&&Ll(A.mutation,v,On.empty(),Se.now()),Ku(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return X.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Jn(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:uS(o.bundledQuery),readTime:Jn(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new ne(ut.comparator),this.Ir=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ja();return X.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.ht(e,i,f)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.Ir.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=Ja(),f=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ne(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=f.get(v.largestBatchId);A===null&&(A=Ja(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Ja(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=o)););return X.resolve(g)}ht(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new BA(i,s));let f=this.Ir.get(i);f===void 0&&(f=Ct(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.Tr=new Be(Ie.Er),this.dr=new Be(Ie.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Vr(new Ie(e,i))}mr(e,i){e.forEach((s=>this.removeReference(s,i)))}gr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1),f=[];return this.dr.forEachInRange([s,o],(d=>{this.Vr(d),f.push(d.key)})),f}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1);let f=Ct();return this.dr.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ie(e,0),s=this.Tr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ut.comparator(e.key,i.key)||Ut(e.wr,i.wr)}static Ar(e,i){return Ut(e.wr,i.wr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Be(Ie.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zA(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.br=this.br.add(new Ie(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.vr(s),f=o<0?0:o;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,o],(d=>{const g=this.Dr(d.wr);f.push(g)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Be(Ut);return i.forEach((o=>{const f=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,d],(g=>{s=s.add(g.wr)}))})),X.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;ut.isDocumentKey(f)||(f=f.child(""));const d=new Ie(new ut(f),0);let g=new Be(Ut);return this.br.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.wr)),!0)}),d),X.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return X.forEach(i.mutations,(o=>{const f=new Ie(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,i){const s=new Ie(i,0),o=this.br.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.Mr=e,this.docs=(function(){return new ne(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Ii();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Fe.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Ii();const d=i.path,g=new ut(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||nA(eA(A),s)<=0||(o.has(A.key)||Ku(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,s,o){gt()}Or(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new ES(this)}getSize(e){return X.resolve(this.size)}}class ES extends hS{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.persistence=e,this.Nr=new gs((i=>$h(i)),Jh),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ad,this.targetCount=0,this.kr=os.Bn()}forEachTarget(e,i){return this.Nr.forEach(((s,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),X.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new os(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Kn(i),X.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Nr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(f).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.Nr.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.Br.Rr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.Br.mr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Br.yr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Yh(0),this.Kr=!1,this.Kr=!0,this.$r=new yS,this.referenceDelegate=e(this),this.Ur=new TS(this),this.indexManager=new cS,this.remoteDocumentCache=(function(o){return new vS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new oS(i),this.Gr=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.qr[e.toKey()];return s||(s=new _S(i,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new SS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((f=>this.referenceDelegate.jr(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Hr(e,i){return X.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,i))))}}class SS extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.Jr=new ad,this.Yr=null}static Zr(e){return new rd(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),X.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.Xr.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(s=>{const o=ut.fromPath(s);return this.ei(e,o).next((f=>{f||i.removeEntry(o,pt.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return X.or([()=>X.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.$i=s,this.Ui=o}static Wi(e,i){let s=Ct(),o=Ct();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new sd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return VE()?8:rA(DE())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.Yi(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.Zi(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new bS;return this.Xi(e,i,d).next((g=>{if(f.result=g,this.zi)return this.es(e,i,d,g.size)}))})).next((()=>f.result))}es(e,i,s,o){return s.documentReadCount<this.ji?(Cl()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Jr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Cl()<=Mt.DEBUG&&st("QueryEngine","Query:",Jr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Cl()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Jr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):X.resolve())}Yi(e,i){if(dy(i))return X.resolve(null);let s=$n(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Mh(i,null,"F"),s=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Ct(...f);return this.Ji.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.ts(i,g);return this.ns(i,v,d,_.readTime)?this.Yi(e,Mh(i,null,"F")):this.rs(e,v,i,_)}))))})))))}Zi(e,i,s,o){return dy(i)||o.isEqual(pt.min())?X.resolve(null):this.Ji.getDocuments(e,s).next((f=>{const d=this.ts(i,f);return this.ns(i,d,s,o)?X.resolve(null):(Cl()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jr(i)),this.rs(e,d,i,tA(o,-1)).next((g=>g)))}))}ts(e,i){let s=new Be(E_(e));return i.forEach(((o,f)=>{Ku(e,f)&&(s=s.add(f))})),s}ns(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Xi(e,i,s){return Cl()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Jr(i)),this.Ji.getDocumentsMatchingQuery(e,i,fa.min(),s)}rs(e,i,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,s,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new ne(Ut),this._s=new gs((f=>$h(f)),Jh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function DS(r,e,i,s){return new wS(r,e,i,s)}async function k_(r,e){const i=yt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.ls(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function CS(r,e){const i=yt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,A){const O=v.batch,U=O.keys();let k=X.resolve();return U.forEach((J=>{k=k.next((()=>A.getEntry(_,J))).next((at=>{const tt=v.docVersions.get(J);Gt(tt!==null),at.version.compareTo(tt)<0&&(O.applyToRemoteDocument(at,v),at.isValidDocument()&&(at.setReadTime(v.commitVersion),A.addEntry(at)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(_,O)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function H_(r){const e=yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function VS(r,e){const i=yt(r),s=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];e.targetChanges.forEach(((A,O)=>{const U=o.get(O);if(!U)return;g.push(i.Ur.removeMatchingKeys(f,A.removedDocuments,O).next((()=>i.Ur.addMatchingKeys(f,A.addedDocuments,O))));let k=U.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(O)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),o=o.insert(O,k),(function(at,tt,Dt){return at.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=3e8?!0:Dt.addedDocuments.size+Dt.modifiedDocuments.size+Dt.removedDocuments.size>0})(U,k,A)&&g.push(i.Ur.updateTargetData(f,k))}));let _=Ii(),v=Ct();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),g.push(IS(f,d,e.documentUpdates).next((A=>{_=A.Ps,v=A.Is}))),!s.isEqual(pt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(f).next((O=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s)));g.push(A)}return X.waitFor(g).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,v))).next((()=>_))})).then((f=>(i.os=o,f)))}function IS(r,e,i){let s=Ct(),o=Ct();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Ii();return i.forEach(((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Ps:d,Is:o}}))}function NS(r,e){const i=yt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function OS(r,e){const i=yt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Ur.getTargetData(s,e).next((f=>f?(o=f,X.resolve(o)):i.Ur.allocateTargetId(s).next((d=>(o=new la(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(e,s.targetId)),s}))}async function zh(r,e,i){const s=yt(r),o=s.os.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fl(d))throw d;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function by(r,e,i){const s=yt(r);let o=pt.min(),f=Ct();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const O=yt(_),U=O._s.get(A);return U!==void 0?X.resolve(O.os.get(U)):O.Ur.getTargetData(v,A)})(s,d,$n(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(d,g.targetId).next((_=>{f=_}))})).next((()=>s.ss.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?f:Ct()))).next((g=>(MS(s,SA(e),g),{documents:g,Ts:f})))))}function MS(r,e,i){let s=r.us.get(e)||pt.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.us.set(e,s)}class Ry{constructor(){this.activeTargetIds=VA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xS{constructor(){this.so=new Ry,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,s){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ry,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu=null;function yh(){return wu===null?wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():wu++,"0x"+wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class zS extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${o}/databases/${f}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${f}`}get Fo(){return!1}Mo(i,s,o,f,d){const g=yh(),_=this.xo(i,s.toUriEncodedString());st("RestConnection",`Sending RPC '${i}' ${g}:`,_,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,f,d),this.No(i,_,v,o).then((A=>(st("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw as("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",_,"request:",o),A}))}Lo(i,s,o,f,d,g){return this.Mo(i,s,o,f,d)}Oo(i,s,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ds})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((f,d)=>i[d]=f)),o&&o.headers.forEach(((f,d)=>i[d]=f))}xo(i,s){const o=LS[i];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,s,o){const f=yh();return new Promise(((d,g)=>{const _=new n_;_.setWithCredentials(!0),_.listenOnce(i_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Du.NO_ERROR:const A=_.getResponseJson();st(Ge,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),d(A);break;case Du.TIMEOUT:st(Ge,`RPC '${e}' ${f} timed out`),g(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const O=_.getStatus();if(st(Ge,`RPC '${e}' ${f} failed with status:`,O,"response text:",_.getResponseText()),O>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const k=U==null?void 0:U.error;if(k&&k.status&&k.message){const J=(function(tt){const Dt=tt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Dt)>=0?Dt:Y.UNKNOWN})(k.status);g(new it(J,k.message))}else g(new it(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it(Y.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{st(Ge,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);st(Ge,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",v,s,15)}))}Bo(e,i,s){const o=yh(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=s_(),g=r_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=f.join("");st(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const O=d.createWebChannel(A,_);let U=!1,k=!1;const J=new PS({Io:tt=>{k?st(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(U||(st(Ge,`Opening RPC '${e}' stream ${o} transport.`),O.open(),U=!0),st(Ge,`RPC '${e}' stream ${o} sending:`,tt),O.send(tt))},To:()=>O.close()}),at=(tt,Dt,At)=>{tt.listen(Dt,(_t=>{try{At(_t)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return at(O,Vl.EventType.OPEN,(()=>{k||(st(Ge,`RPC '${e}' stream ${o} transport opened.`),J.yo())})),at(O,Vl.EventType.CLOSE,(()=>{k||(k=!0,st(Ge,`RPC '${e}' stream ${o} transport closed`),J.So())})),at(O,Vl.EventType.ERROR,(tt=>{k||(k=!0,as(Ge,`RPC '${e}' stream ${o} transport errored:`,tt),J.So(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),at(O,Vl.EventType.MESSAGE,(tt=>{var Dt;if(!k){const At=tt.data[0];Gt(!!At);const _t=At,Bt=_t.error||((Dt=_t[0])===null||Dt===void 0?void 0:Dt.error);if(Bt){st(Ge,`RPC '${e}' stream ${o} received error:`,Bt);const vt=Bt.status;let Lt=(function(w){const V=pe[w];if(V!==void 0)return O_(V)})(vt),I=Bt.message;Lt===void 0&&(Lt=Y.INTERNAL,I="Unknown error status: "+vt+" with message "+Bt.message),k=!0,J.So(new it(Lt,I)),O.close()}else st(Ge,`RPC '${e}' stream ${o} received:`,At),J.bo(At)}})),at(g,a_.STAT_EVENT,(tt=>{tt.stat===Dh.PROXY?st(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===Dh.NOPROXY&&st(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.wo()}),0),J}}function _h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(r){return new KA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,i,s=1e3,o=1.5,f=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=o,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,i,s,o,f,d,g,_){this.ui=e,this.Ho=s,this.Jo=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new G_(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===i&&this.P_(s,o)}),(s=>{e((()=>{const o=new it(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,i){const s=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BS extends Q_{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=$A(this.serializer,e),s=(function(f){if(!("targetChange"in f))return pt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Jn(d.readTime):pt.min()})(e);return this.listener.d_(i,s)}A_(e){const i={};i.database=Ph(this.serializer),i.addTarget=(function(f,d){let g;const _=d.target;if(g=Nh(_)?{documents:tS(f,_)}:{query:eS(f,_)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=U_(f,d.resumeToken);const v=xh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=qu(f,d.snapshotVersion.toTimestamp());const v=xh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=iS(this.serializer,e);s&&(i.labels=s),this.a_(i)}R_(e){const i={};i.database=Ph(this.serializer),i.removeTarget=e,this.a_(i)}}class qS extends Q_{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=WA(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.g_(s,i)}p_(){const e={};e.database=Ph(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>JA(this.serializer,s)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends class{}{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Mo(e,Uh(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new it(Y.UNKNOWN,f.toString())}))}Lo(e,i,s,o,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(e,Uh(i,s),o,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class kS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(i),this.D_=!1):st("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o((d=>{s.enqueueAndForget((async()=>{ar(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await(async function(_){const v=yt(_);v.L_.add(4),await Zl(v),v.q_.set("Unknown"),v.L_.delete(4),await Wu(v)})(this))}))})),this.q_=new kS(s,o)}}async function Wu(r){if(ar(r))for(const e of r.B_)await e(!0)}async function Zl(r){for(const e of r.B_)await e(!1)}function F_(r,e){const i=yt(r);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),cd(i)?ud(i):ps(i).r_()&&od(i,e))}function ld(r,e){const i=yt(r),s=ps(i);i.N_.delete(e),s.r_()&&Y_(i,e),i.N_.size===0&&(s.r_()?s.o_():ar(i)&&i.q_.set("Unknown"))}function od(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ps(r).A_(e)}function Y_(r,e){r.Q_.xe(e),ps(r).R_(e)}function ud(r){r.Q_=new GA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ps(r).start(),r.q_.v_()}function cd(r){return ar(r)&&!ps(r).n_()&&r.N_.size>0}function ar(r){return yt(r).L_.size===0}function K_(r){r.Q_=void 0}async function GS(r){r.q_.set("Online")}async function QS(r){r.N_.forEach(((e,i)=>{od(r,e)}))}async function FS(r,e){K_(r),cd(r)?(r.q_.M_(e),ud(r)):r.q_.set("Unknown")}async function YS(r,e,i){if(r.q_.set("Online"),e instanceof x_&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const g of f.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.N_.delete(g),o.Q_.removeTarget(g))})(r,e)}catch(s){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ju(r,s)}else if(e instanceof Iu?r.Q_.Ke(e):e instanceof M_?r.Q_.He(e):r.Q_.We(e),!i.isEqual(pt.min()))try{const s=await H_(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const g=f.Q_.rt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.N_.get(v);A&&f.N_.set(v,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const A=f.N_.get(_);if(!A)return;f.N_.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Y_(f,_);const O=new la(A.target,_,v,A.sequenceNumber);od(f,O)})),f.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){st("RemoteStore","Failed to raise snapshot:",s),await ju(r,s)}}async function ju(r,e,i){if(!Fl(e))throw e;r.L_.add(1),await Zl(r),r.q_.set("Offline"),i||(i=()=>H_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await Wu(r)}))}function X_(r,e){return e().catch((i=>ju(r,i,e)))}async function tc(r){const e=yt(r),i=da(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KS(e);)try{const o=await NS(e.localStore,s);if(o===null){e.O_.length===0&&i.o_();break}s=o.batchId,XS(e,o)}catch(o){await ju(e,o)}Z_(e)&&$_(e)}function KS(r){return ar(r)&&r.O_.length<10}function XS(r,e){r.O_.push(e);const i=da(r);i.r_()&&i.V_&&i.m_(e.mutations)}function Z_(r){return ar(r)&&!da(r).n_()&&r.O_.length>0}function $_(r){da(r).start()}async function ZS(r){da(r).p_()}async function $S(r){const e=da(r);for(const i of r.O_)e.m_(i.mutations)}async function JS(r,e,i){const s=r.O_.shift(),o=ed.from(s,e,i);await X_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tc(r)}async function WS(r,e){e&&da(r).V_&&await(async function(s,o){if((function(d){return jA(d)&&d!==Y.ABORTED})(o.code)){const f=s.O_.shift();da(s).s_(),await X_(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await tc(s)}})(r,e),Z_(r)&&$_(r)}async function Dy(r,e){const i=yt(r);i.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const s=ar(i);i.L_.add(3),await Zl(i),s&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await Wu(i)}async function t1(r,e){const i=yt(r);e?(i.L_.delete(2),await Wu(i)):e||(i.L_.add(2),await Zl(i),i.q_.set("Unknown"))}function ps(r){return r.K_||(r.K_=(function(i,s,o){const f=yt(i);return f.w_(),new BS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Eo:GS.bind(null,r),Ro:QS.bind(null,r),mo:FS.bind(null,r),d_:YS.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),cd(r)?ud(r):r.q_.set("Unknown")):(await r.K_.stop(),K_(r))}))),r.K_}function da(r){return r.U_||(r.U_=(function(i,s,o){const f=yt(i);return f.w_(),new qS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZS.bind(null,r),mo:WS.bind(null,r),f_:$S.bind(null,r),g_:JS.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await tc(r)):(await r.U_.stop(),r.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new fd(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(r,e){if(Vi("AsyncQueue",`${e}: ${r}`),Fl(r))return new it(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Il(),this.sortedSet=new ne(this.comparator)}static emptySet(e){return new ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ns)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ns;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.W_=new ne(ut.comparator)}track(e){const i=e.doc.key,s=this.W_.get(i);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(i,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(i):e.type===1&&s.type===2?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,s)=>{e.push(s)})),e}}class us{constructor(e,i,s,o,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new us(e,i,ns.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class n1{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,s){const o=yt(i),f=o.queries;o.queries=Vy(),f.forEach(((d,g)=>{for(const _ of g.j_)_.onError(s)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Vy(){return new gs((r=>v_(r)),Yu)}async function J_(r,e){const i=yt(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.H_()&&e.J_()&&(s=2):(f=new e1,s=e.J_()?0:1);try{switch(s){case 0:f.z_=await i.onListen(o,!0);break;case 1:f.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=hd(d,`Initialization of query '${Jr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.j_.push(e),e.Z_(i.onlineState),f.z_&&e.X_(f.z_)&&dd(i)}async function W_(r,e){const i=yt(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.j_.indexOf(e);d>=0&&(f.j_.splice(d,1),f.j_.length===0?o=e.J_()?0:1:!f.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function i1(r,e){const i=yt(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.j_)g.X_(o)&&(s=!0);d.z_=o}}s&&dd(i)}function a1(r,e,i){const s=yt(r),o=s.queries.get(e);if(o)for(const f of o.j_)f.onError(i);s.queries.delete(e)}function dd(r){r.Y_.forEach((e=>{e.next()}))}var Bh,Iy;(Iy=Bh||(Bh={})).ea="default",Iy.Cache="cache";class tv{constructor(e,i,s){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const s=i!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this.key=e}}class nv{constructor(e){this.key=e}}class r1{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ct(),this.mutatedKeys=Ct(),this.Aa=E_(e),this.Ra=new ns(this.Aa)}get Va(){return this.Ta}ma(e,i){const s=i?i.fa:new Cy,o=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,O)=>{const U=o.get(A),k=Ku(this.query,O)?O:null,J=!!U&&this.mutatedKeys.has(U.key),at=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let tt=!1;U&&k?U.data.isEqual(k.data)?J!==at&&(s.track({type:3,doc:k}),tt=!0):this.ga(U,k)||(s.track({type:2,doc:k}),tt=!0,(_&&this.Aa(k,_)>0||v&&this.Aa(k,v)<0)&&(g=!0)):!U&&k?(s.track({type:0,doc:k}),tt=!0):U&&!k&&(s.track({type:1,doc:U}),tt=!0,(_||v)&&(g=!0)),tt&&(k?(d=d.add(k),f=at?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{Ra:d,fa:s,ns:g,mutatedKeys:f}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((A,O)=>(function(k,J){const at=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return at(k)-at(J)})(A.type,O.type)||this.Aa(A.doc,O.doc))),this.pa(s),o=o!=null&&o;const g=i&&!o?this.ya():[],_=this.da.size===0&&this.current&&!o?1:0,v=_!==this.Ea;return this.Ea=_,d.length!==0||v?{snapshot:new us(this.query,e.Ra,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ct(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const i=[];return e.forEach((s=>{this.da.has(s)||i.push(new nv(s))})),this.da.forEach((s=>{e.has(s)||i.push(new ev(s))})),i}ba(e){this.Ta=e.Ts,this.da=Ct();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class s1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class l1{constructor(e){this.key=e,this.va=!1}}class o1{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new gs((g=>v_(g)),Yu),this.Ma=new Map,this.xa=new Set,this.Oa=new ne(ut.comparator),this.Na=new Map,this.La=new ad,this.Ba={},this.ka=new Map,this.qa=os.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function u1(r,e,i=!0){const s=ov(r);let o;const f=s.Fa.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.Da()):o=await iv(s,e,i,!0),o}async function c1(r,e){const i=ov(r);await iv(i,e,!0,!1)}async function iv(r,e,i,s){const o=await OS(r.localStore,$n(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await f1(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&F_(r.remoteStore,o),g}async function f1(r,e,i,s,o){r.Ka=(O,U,k)=>(async function(at,tt,Dt,At){let _t=tt.view.ma(Dt);_t.ns&&(_t=await by(at.localStore,tt.query,!1).then((({documents:I})=>tt.view.ma(I,_t))));const Bt=At&&At.targetChanges.get(tt.targetId),vt=At&&At.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(_t,at.isPrimaryClient,Bt,vt);return Oy(at,tt.targetId,Lt.wa),Lt.snapshot})(r,O,U,k);const f=await by(r.localStore,e,!0),d=new r1(e,f.Ts),g=d.ma(f.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);Oy(r,i,v.wa);const A=new s1(e,i,d);return r.Fa.set(e,A),r.Ma.has(i)?r.Ma.get(i).push(e):r.Ma.set(i,[e]),v.snapshot}async function h1(r,e,i){const s=yt(r),o=s.Fa.get(e),f=s.Ma.get(o.targetId);if(f.length>1)return s.Ma.set(o.targetId,f.filter((d=>!Yu(d,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zh(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&ld(s.remoteStore,o.targetId),qh(s,o.targetId)})).catch(Ql)):(qh(s,o.targetId),await zh(s.localStore,o.targetId,!0))}async function d1(r,e){const i=yt(r),s=i.Fa.get(e),o=i.Ma.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ld(i.remoteStore,s.targetId))}async function m1(r,e,i){const s=T1(r);try{const o=await(function(d,g){const _=yt(d),v=Se.now(),A=g.reduce(((k,J)=>k.add(J.key)),Ct());let O,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let J=Ii(),at=Ct();return _.cs.getEntries(k,A).next((tt=>{J=tt,J.forEach(((Dt,At)=>{At.isValidDocument()||(at=at.add(Dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(k,J))).next((tt=>{O=tt;const Dt=[];for(const At of g){const _t=LA(At,O.get(At.key).overlayedDocument);_t!=null&&Dt.push(new ir(At.key,_t,f_(_t.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,Dt,g)})).next((tt=>{U=tt;const Dt=tt.applyToLocalDocumentSet(O,at);return _.documentOverlayCache.saveOverlays(k,tt.batchId,Dt)}))})).then((()=>({batchId:U.batchId,changes:A_(O)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.Ba[d.currentUser.toKey()];v||(v=new ne(Ut)),v=v.insert(g,_),d.Ba[d.currentUser.toKey()]=v})(s,o.batchId,i),await $l(s,o.changes),await tc(s.remoteStore)}catch(o){const f=hd(o,"Failed to persist write");i.reject(f)}}async function av(r,e){const i=yt(r);try{const s=await VS(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Na.get(f);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?Gt(d.va):o.removedDocuments.size>0&&(Gt(d.va),d.va=!1))})),await $l(i,s,e)}catch(s){await Ql(s)}}function Ny(r,e,i){const s=yt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Fa.forEach(((f,d)=>{const g=d.view.Z_(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=yt(d);_.onlineState=g;let v=!1;_.queries.forEach(((A,O)=>{for(const U of O.j_)U.Z_(g)&&(v=!0)})),v&&dd(_)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g1(r,e,i){const s=yt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Na.get(e),f=o&&o.key;if(f){let d=new ne(ut.comparator);d=d.insert(f,Fe.newNoDocument(f,pt.min()));const g=Ct().add(f),_=new $u(pt.min(),new Map,new ne(Ut),d,g);await av(s,_),s.Oa=s.Oa.remove(f),s.Na.delete(e),md(s)}else await zh(s.localStore,e,!1).then((()=>qh(s,e,i))).catch(Ql)}async function p1(r,e){const i=yt(r),s=e.batch.batchId;try{const o=await CS(i.localStore,e);sv(i,s,null),rv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await $l(i,o)}catch(o){await Ql(o)}}async function y1(r,e,i){const s=yt(r);try{const o=await(function(d,g){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next((O=>(Gt(O!==null),A=O.keys(),_.mutationQueue.removeMutationBatch(v,O)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,e);sv(s,e,i),rv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await $l(s,o)}catch(o){await Ql(o)}}function rv(r,e){(r.ka.get(e)||[]).forEach((i=>{i.resolve()})),r.ka.delete(e)}function sv(r,e,i){const s=yt(r);let o=s.Ba[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function qh(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),i&&r.Ca.$a(s,i);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||lv(r,s)}))}function lv(r,e){r.xa.delete(e.path.canonicalString());const i=r.Oa.get(e);i!==null&&(ld(r.remoteStore,i),r.Oa=r.Oa.remove(e),r.Na.delete(i),md(r))}function Oy(r,e,i){for(const s of i)s instanceof ev?(r.La.addReference(s.key,e),_1(r,s)):s instanceof nv?(st("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||lv(r,s.key)):gt()}function _1(r,e){const i=e.key,s=i.path.canonicalString();r.Oa.get(i)||r.xa.has(s)||(st("SyncEngine","New document in limbo: "+i),r.xa.add(s),md(r))}function md(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const i=new ut(Jt.fromString(e)),s=r.qa.next();r.Na.set(s,new l1(i)),r.Oa=r.Oa.insert(i,s),F_(r.remoteStore,new la($n(Wh(i.path)),s,"TargetPurposeLimboResolution",Yh.oe))}}async function $l(r,e,i){const s=yt(r),o=[],f=[],d=[];s.Fa.isEmpty()||(s.Fa.forEach(((g,_)=>{d.push(s.Ka(_,e,i).then((v=>{var A;if((v||i)&&s.isPrimaryClient){const O=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,O?"current":"not-current")}if(v){o.push(v);const O=sd.Wi(_.targetId,v);f.push(O)}})))})),await Promise.all(d),s.Ca.d_(o),await(async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>X.forEach(v,(U=>X.forEach(U.$i,(k=>A.persistence.referenceDelegate.addReference(O,U.targetId,k))).next((()=>X.forEach(U.Ui,(k=>A.persistence.referenceDelegate.removeReference(O,U.targetId,k)))))))))}catch(O){if(!Fl(O))throw O;st("LocalStore","Failed to update sequence numbers: "+O)}for(const O of v){const U=O.targetId;if(!O.fromCache){const k=A.os.get(U),J=k.snapshotVersion,at=k.withLastLimboFreeSnapshotVersion(J);A.os=A.os.insert(U,at)}}})(s.localStore,f))}async function v1(r,e){const i=yt(r);if(!i.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const s=await k_(i.localStore,e);i.currentUser=e,(function(f,d){f.ka.forEach((g=>{g.forEach((_=>{_.reject(new it(Y.CANCELLED,d))}))})),f.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $l(i,s.hs)}}function E1(r,e){const i=yt(r),s=i.Na.get(e);if(s&&s.va)return Ct().add(s.key);{let o=Ct();const f=i.Ma.get(e);if(!f)return o;for(const d of f){const g=i.Fa.get(d);o=o.unionWith(g.view.Va)}return o}}function ov(r){const e=yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g1.bind(null,e),e.Ca.d_=i1.bind(null,e.eventManager),e.Ca.$a=a1.bind(null,e.eventManager),e}function T1(r){const e=yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y1.bind(null,e),e}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return DS(this.persistence,new RS,e.initialUser,this.serializer)}Ga(e){return new AS(rd.Zr,this.serializer)}Wa(e){return new xS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class jh{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ny(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=v1.bind(null,this.syncEngine),await t1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n1})()}createDatastore(e){const i=Ju(e.databaseInfo.databaseId),s=(function(f){return new zS(f)})(e.databaseInfo);return(function(f,d,g,_){return new jS(f,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,g){return new HS(s,o,f,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ny(this.syncEngine,i,0)),(function(){return wy.D()?new wy:new US})())}createSyncEngine(e,i){return(function(o,f,d,g,_,v,A){const O=new o1(o,f,d,g,_,v);return A&&(O.Qa=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=yt(o);st("RemoteStore","RemoteStore shutting down."),f.L_.add(5),await Zl(f),f.k_.shutdown(),f.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}jh.provider={build:()=>new jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=o_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{st("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=hd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vh(r,e){r.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await k_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function My(r,e){r.asyncQueue.verifyOperationInProgress();const i=await S1(r);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Dy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Dy(e.remoteStore,o))),r._onlineComponents=e}async function S1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await vh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;as("Error using user provided cache. Falling back to memory cache: "+i),await vh(r,new ku)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await vh(r,new ku);return r._offlineComponents}async function cv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await My(r,r._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await My(r,new jh))),r._onlineComponents}function b1(r){return cv(r).then((e=>e.syncEngine))}async function fv(r){const e=await cv(r),i=e.eventManager;return i.onListen=u1.bind(null,e.syncEngine),i.onUnlisten=h1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=c1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=d1.bind(null,e.syncEngine),i}function R1(r,e,i={}){const s=new wi;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const A=new uv({next:U=>{A.Za(),d.enqueueAndForget((()=>W_(f,O)));const k=U.docs.has(g);!k&&U.fromCache?v.reject(new it(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&U.fromCache&&_&&_.source==="server"?v.reject(new it(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),O=new tv(Wh(g.path),A,{includeMetadataChanges:!0,_a:!0});return J_(f,O)})(await fv(r),r.asyncQueue,e,i,s))),s.promise}function w1(r,e,i={}){const s=new wi;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const A=new uv({next:U=>{A.Za(),d.enqueueAndForget((()=>W_(f,O))),U.fromCache&&_.source==="server"?v.reject(new it(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(U)},error:U=>v.reject(U)}),O=new tv(g,A,{includeMetadataChanges:!0,_a:!0});return J_(f,O)})(await fv(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r,e,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function D1(r,e,i,s){if(e===!0&&s===!0)throw new it(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Uy(r){if(!ut.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ly(r){if(ut.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ec(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt()}function cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ec(r);throw new it(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QT;switch(s.type){case"firstParty":return new XT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=xy.get(i);s&&(st("ComponentProvider","Removing Datastore"),xy.delete(i),s.terminate())})(this),Promise.resolve()}}function C1(r,e,i,s={}){var o;const f=(r=cs(r,nc))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Qe.MOCK_USER;else{g=wE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Qe(v)}r._authCredentials=new FT(new l_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ca extends ys{constructor(e,i,s){super(e,i,Wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ut(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function kh(r,e,...i){if(r=is(r),dv("collection","path",e),r instanceof nc){const s=Jt.fromString(e,...i);return Ly(s),new ca(r,null,s)}{if(!(r instanceof cn||r instanceof ca))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return Ly(s),new ca(r.firestore,null,s)}}function mv(r,e,...i){if(r=is(r),arguments.length===1&&(e=o_.newId()),dv("doc","path",e),r instanceof nc){const s=Jt.fromString(e,...i);return Uy(s),new cn(r,null,new ut(s))}{if(!(r instanceof cn||r instanceof ca))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return Uy(s),new cn(r.firestore,r instanceof ca?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new G_(this,"async_queue_retry"),this.Vu=()=>{const s=_h();s&&st("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=_h();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=_h();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new wi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fl(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(s);throw Vi("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=fd.createAndSchedule(this,e,i,s,(f=>this.yu(f)));return this.Tu.push(o),o}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class ic extends nc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new zy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zy(e),this._firestoreClient=void 0,await e}}}function V1(r,e){const i=typeof r=="object"?r:UT(),s=typeof r=="string"?r:"(default)",o=NT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=bE("firestore");f&&C1(o,...f)}return o}function gd(r){if(r._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||I1(r),r._firestoreClient}function I1(r){var e,i,s;const o=r._freezeSettings(),f=(function(g,_,v,A){return new oA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,hv(A.experimentalLongPollingOptions),A.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new A1(r._authCredentials,r._appCheckCredentials,r._queue,f,r._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fs(qe.fromBase64String(e))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new fs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=/^__.*__$/;class O1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function pv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class vd{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pv(this.Cu)&&N1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class M1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ju(e)}Qu(e,i,s,o=!1){return new vd({Cu:e,methodName:i,qu:s,path:ze.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yv(r){const e=r._freezeSettings(),i=Ju(r._databaseId);return new M1(r._databaseId,!!e.ignoreUndefinedProperties,i)}function x1(r,e,i,s,o,f={}){const d=r.Qu(f.merge||f.mergeFields?2:0,e,i,o);Ev("Data must be an object, but it was:",d,s);const g=_v(s,d);let _,v;if(f.merge)_=new On(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const O of f.mergeFields){const U=L1(e,O,i);if(!d.contains(U))throw new it(Y.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);z1(A,U)||A.push(U)}_=new On(A),v=d.fieldTransforms.filter((O=>_.covers(O.field)))}else _=null,v=d.fieldTransforms;return new O1(new bn(g),_,v)}function U1(r,e,i,s=!1){return Ed(i,r.Qu(s?4:3,e))}function Ed(r,e){if(vv(r=is(r)))return Ev("Unsupported field value:",e,r),_v(r,e);if(r instanceof gv)return(function(s,o){if(!pv(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const g of s){let _=Ed(g,o.Lu(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=is(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Se.fromDate(s);return{timestampValue:qu(o.serializer,f)}}if(s instanceof Se){const f=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qu(o.serializer,f)}}if(s instanceof yd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fs)return{bytesValue:U_(o.serializer,s._byteString)};if(s instanceof cn){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:id(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _d)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Bu("VectorValues must only contain numeric values.");return td(g.serializer,_)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${ec(s)}`)})(r,e)}function _v(r,e){const i={};return u_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(r,((s,o)=>{const f=Ed(o,e.Mu(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function vv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof yd||r instanceof fs||r instanceof cn||r instanceof gv||r instanceof _d)}function Ev(r,e,i){if(!vv(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const s=ec(i);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function L1(r,e,i){if((e=is(e))instanceof pd)return e._internalPath;if(typeof e=="string")return Tv(r,e);throw Hu("Field path arguments must be of type string or ",r,!1,void 0,i)}const P1=new RegExp("[~\\*/\\[\\]]");function Tv(r,e,i){if(e.search(P1)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new pd(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Hu(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new it(Y.INVALID_ARGUMENT,g+r+_)}function z1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Td("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class B1 extends Av{data(){return super.data()}}function Td(r,e){return typeof e=="string"?Tv(r,e):e instanceof pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ad{}class j1 extends Ad{}function k1(r,e,...i){let s=[];e instanceof Ad&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((_=>_ instanceof Sd)).length,g=f.filter((_=>_ instanceof ac)).length;if(d>1||d>0&&g>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ac extends j1{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new ac(e,i,s)}_apply(e){const i=this._parse(e);return Sv(e._query,i),new ys(e.firestore,e.converter,Oh(e._query,i))}_parse(e){const i=yv(e.firestore);return(function(f,d,g,_,v,A,O){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){qy(O,A);const k=[];for(const J of O)k.push(By(_,f,J));U={arrayValue:{values:k}}}else U=By(_,f,O)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||qy(O,A),U=U1(g,d,O,A==="in"||A==="not-in");return ye.create(v,A,U)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function H1(r,e,i){const s=e,o=Td("where",r);return ac._create(o,s,i)}class Sd extends Ad{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Sd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const g=f.getFlattenedFilters();for(const _ of g)Sv(d,_),d=Oh(d,_)})(e._query,i),new ys(e.firestore,e.converter,Oh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function By(r,e,i){if(typeof(i=is(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__(e)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ly(r,new ut(s))}if(i instanceof cn)return ly(r,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ec(i)}.`)}function qy(r,e){if(!Array.isArray(r)||r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sv(r,e){const i=(function(o,f){for(const d of o)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class G1{convertValue(e,i="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ms(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){var i,s,o;const f=(o=(s=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>ce(d.doubleValue)));return new _d(f)}convertGeoPoint(e){return new yd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=ha(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);Gt(j_(s));const o=new jl(s.get(1),s.get(3)),f=new ut(s.popFirst(5));return o.isEqual(i)||Vi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bv extends Av{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Td("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Nu extends bv{data(e={}){return super.data(e)}}class F1{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Nu(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Nu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ol(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const _=new Nu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ol(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Y1(g.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Y1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r){r=cs(r,cn);const e=cs(r.firestore,ic);return R1(gd(e),r._key).then((i=>J1(e,r,i)))}class Rv extends G1{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function X1(r){r=cs(r,ys);const e=cs(r.firestore,ic),i=gd(e),s=new Rv(e);return q1(r._query),w1(i,r._query).then((o=>new F1(e,s,r,o)))}function Z1(r,e){const i=cs(r.firestore,ic),s=mv(r),o=Q1(r.converter,e);return $1(i,[x1(yv(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then((()=>s))}function $1(r,e){return(function(s,o){const f=new wi;return s.asyncQueue.enqueueAndForget((async()=>m1(await b1(s),o,f))),f.promise})(gd(r),e)}function J1(r,e,i){const s=i.docs.get(e._key),o=new Rv(r);return new bv(r,o,e._key,s,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ds=o})(xT),xu(new Pl("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new ic(new YT(s.getProvider("auth-internal")),new $T(s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(v.options.projectId,A)})(d,o),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),es(ny,"4.7.3",e),es(ny,"4.7.3","esm2017")})();var W1="firebase",tb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(W1,tb,"app");const Eh={BASE_URL:"/yo-nunca-app-web/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBx7eIcSrFFQ-TAaGM1DQJ1GNcHc1wDHkg",VITE_FIREBASE_APP_ID:"1:814751987159:web:5849912e1b43a82899c792",VITE_FIREBASE_AUTH_DOMAIN:"yo-nunca-85b0c.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"814751987159",VITE_FIREBASE_PROJECT_ID:"yo-nunca-85b0c",VITE_FIREBASE_STORAGE_BUCKET:"yo-nunca-85b0c.firebasestorage.app",VITE_MOBAPP_APP_ID:"ca-app-pub-9300246128306730~3854820499",VITE_MOBAPP_BANNER_ID:"ca-app-pub-9300246128306730/2896321418",VITE_MOBAPP_INTERSTITIAL_ID:"ca-app-pub-9300246128306730/6309593444",VITE_STRIPE_PUBLIC_KEY:"pk_live_51SD6NXIJBts2wisdy1ExsCAvJ4hpKT6JwNgC1eUHZVC9KDSWRyby1LPmewZRb9gOLoGJVicGJzSHn01VDHKyK2Tn00NaZXZ2Aa"};var jy={};const $r=r=>{if(typeof import.meta<"u"&&Eh&&Eh[r])return Eh[r];if(typeof process<"u"&&jy[r])return jy[r];throw new Error(`Missing environment variable: ${r}`)},eb={apiKey:$r("VITE_FIREBASE_API_KEY"),authDomain:$r("VITE_FIREBASE_AUTH_DOMAIN"),projectId:$r("VITE_FIREBASE_PROJECT_ID"),storageBucket:$r("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:$r("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:$r("VITE_FIREBASE_APP_ID")},nb=Jy(eb),Gu=V1(nb),ky=[{id:"1",text:"Yo nunca he fingido que me gustaba un regalo.",isPremium:!1},{id:"2",text:"Yo nunca he espiado el mvil de mi pareja.",isPremium:!1},{id:"3",text:"Yo nunca he usado el cepillo de dientes de otra persona.",isPremium:!1},{id:"4",text:"Yo nunca he vuelto con un ex.",isPremium:!1},{id:"5",text:"Yo nunca me he redo en un momento inoportuno.",isPremium:!1}],ib=async r=>{console.log(`Fetching phrases... ${r?"with":"without"} premium.`);try{let e;r?e=kh(Gu,"phrases"):e=k1(kh(Gu,"phrases"),H1("isPremium","==",!1));const i=await X1(e),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(e){return console.error("Error fetching phrases:",e),r?ky:ky.filter(i=>!i.isPremium)}},ab=async r=>{console.log(`Adding suggestion: "${r}"`);try{await Z1(kh(Gu,"suggestions"),{text:r,createdAt:new Date,status:"pending"}),console.log("Suggestion submitted successfully.")}catch(e){throw console.error("Error adding suggestion:",e),new Error("No se pudo enviar la sugerencia. Intntalo ms tarde.")}},gb=async()=>{try{const r=mv(Gu,"config","stripe_products"),e=await K1(r);return e.exists()?e.data():(console.log("No se encontraron claves de productos en Firestore"),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"})}catch(r){return console.error("Error obteniendo claves de productos:",r),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"}}},rb=({navigate:r,hasPremium:e})=>{const[i,s]=fe.useState([]),[o,f]=fe.useState(null),[d,g]=fe.useState(!0),[_,v]=fe.useState(null);fe.useEffect(()=>{(async()=>{try{g(!0),v(null);const k=await ib(e);k.length===0?v("No se encontraron frases. Intntalo ms tarde."):(s(k),f(k[Math.floor(Math.random()*k.length)]))}catch(k){v("No se pudieron cargar las frases. Revisa tu conexin."),console.error(k)}finally{g(!1)}})()},[e]);const A=fe.useCallback(()=>{if(i.length>0){const U=i.filter(k=>k.id!==(o==null?void 0:o.id));if(U.length>0){const k=U[Math.floor(Math.random()*U.length)];f(k)}else{const k=i[Math.floor(Math.random()*i.length)];f(k)}}},[i,o]),O=()=>d?W.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[W.jsx("i",{className:"fas fa-spinner fa-spin text-5xl text-cyan-400"}),W.jsx("p",{className:"mt-4 text-slate-300",children:"Cargando frases..."})]}):_?W.jsx("p",{className:"text-center text-red-400",children:_}):o&&W.jsxs("div",{className:"text-center text-2xl md:text-3xl font-semibold leading-relaxed animate-fadeIn",children:[W.jsx("span",{className:"text-slate-400",children:"Yo nunca..."}),W.jsx("br",{}),W.jsx("span",{className:"text-white drop-shadow-lg",children:o.text})]},o.id);return W.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-full p-4",children:[W.jsx("div",{className:"w-full flex justify-start",children:W.jsx("button",{onClick:()=>r(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:W.jsx("i",{className:"fas fa-arrow-left fa-lg"})})}),W.jsx("div",{className:"flex-grow flex items-center justify-center w-full max-w-md my-8",children:O()}),W.jsx("div",{className:"w-full max-w-xs",children:W.jsxs(sa,{onClick:A,disabled:d||i.length<=1,fullWidth:!0,size:"large",children:[W.jsx("i",{className:"fas fa-forward mr-2"}),"Siguiente"]})})]})},Hy=({icon:r,title:e,description:i,price:s,onClick:o,disabled:f,disabledText:d})=>W.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-6 flex flex-col items-center text-center backdrop-blur-sm border border-slate-700 transition-all ${f?"opacity-60":""}`,children:[W.jsx("i",{className:`text-5xl mb-4 text-cyan-400 ${r}`}),W.jsx("h3",{className:"text-xl font-bold mb-2",children:e}),W.jsx("p",{className:"text-slate-400 mb-4 flex-grow",children:i}),f?W.jsx("p",{className:"text-lg font-bold text-green-400",children:d||"Comprado!"}):W.jsx(sa,{onClick:o,fullWidth:!0,children:s})]}),sb=({navigate:r,onPurchaseRemoveAds:e,onPurchasePremium:i,showAds:s,hasPremium:o})=>{const f=async(d,g)=>{console.log(`Initiating ${g} purchase flow...`);try{const{handleRemoveAdsPayment:_,handlePremiumPayment:v}=await Qu(async()=>{const{handleRemoveAdsPayment:O,handlePremiumPayment:U}=await import("./stripeService-CIwOiWLv.js");return{handleRemoveAdsPayment:O,handlePremiumPayment:U}},[]);let A=!1;g==="removeAds"?A=await _():g==="premium"&&(A=await v()),A&&d()}catch(_){console.error("Payment error:",_),alert("No se pudo procesar el pago. Intntalo ms tarde.")}};return W.jsxs("div",{className:"flex flex-col w-full h-full p-4 animate-fadeIn",children:[W.jsxs("div",{className:"flex justify-between items-center mb-8",children:[W.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500",children:"Tienda"}),W.jsx("button",{onClick:()=>r(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:W.jsx("i",{className:"fas fa-times fa-2x"})})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsx(Hy,{icon:"fas fa-shield-halved",title:"Eliminar Anuncios",description:"Disfruta de una experiencia de juego ininterrumpida sin anuncios.",price:"Comprar por 2.99",onClick:()=>f(e,"removeAds"),disabled:!s}),W.jsx(Hy,{icon:"fas fa-star",title:"Paquete Premium",description:"Desbloquea cientos de frases extra, ms atrevidas y divertidas.",price:"Comprar por 4.99",onClick:()=>f(i,"premium"),disabled:o})]}),W.jsx("p",{className:"text-center text-slate-500 text-xs mt-8",children:"Las compras son procesadas de forma segura a travs de Stripe."})]})},lb=({children:r,onClose:e})=>W.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:e,children:W.jsx("div",{className:"bg-slate-800 rounded-lg shadow-2xl w-full max-w-md border border-slate-700 animate-scaleUp",onClick:i=>i.stopPropagation(),children:r})}),ob=({onClose:r})=>{const[e,i]=fe.useState(""),[s,o]=fe.useState(!1),[f,d]=fe.useState(""),[g,_]=fe.useState(!1),v=async A=>{if(A.preventDefault(),e.trim().length<10){d("La frase debe tener al menos 10 caracteres.");return}d(""),o(!0);try{await ab(e),_(!0),setTimeout(()=>{r()},2e3)}catch{d("No se pudo enviar la sugerencia. Intntalo de nuevo."),o(!1)}};return W.jsx(lb,{onClose:r,children:W.jsx("div",{className:"p-6",children:g?W.jsxs("div",{className:"text-center",children:[W.jsx("i",{className:"fas fa-check-circle text-5xl text-green-400 mb-4"}),W.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Gracias!"}),W.jsx("p",{className:"text-slate-300",children:"Tu sugerencia ha sido enviada para revisin."})]}):W.jsxs(W.Fragment,{children:[W.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sugerir una Frase"}),W.jsx("p",{className:"text-slate-400 mb-6",children:"Tienes una idea genial? Comprtela con nosotros! Si es aprobada, aparecer en el juego."}),W.jsxs("form",{onSubmit:v,children:[W.jsxs("div",{className:"relative",children:[W.jsx("span",{className:"absolute left-4 top-3 text-slate-400",children:"Yo nunca..."}),W.jsx("input",{type:"text",value:e,onChange:A=>i(A.target.value),placeholder:"he hecho...",className:"w-full bg-slate-700 border border-slate-600 rounded-md py-3 pr-4 pl-36 focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",disabled:s})]}),f&&W.jsx("p",{className:"text-red-400 text-sm mt-2",children:f}),W.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[W.jsx(sa,{type:"button",variant:"secondary",onClick:r,disabled:s,children:"Cancelar"}),W.jsx(sa,{type:"submit",disabled:s||e.trim()==="",children:s?W.jsxs(W.Fragment,{children:[W.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Enviando..."]}):"Enviar Sugerencia"})]})]})]})})})},ub=()=>{const r=fe.useRef(null),[e,i]=fe.useState(!0);return fe.useEffect(()=>{let s=!0;return(async()=>{try{await hE("ad-banner-container"),s&&i(!1)}catch{s&&i(!0)}})(),()=>{s=!1,dE()}},[]),W.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-14 bg-slate-800 flex items-center justify-center z-50 animate-slideUp",children:W.jsx("div",{id:"ad-banner-container",ref:r,className:"w-full h-full flex items-center justify-center",children:e&&W.jsxs("div",{className:"text-slate-400 text-sm flex items-center",children:[W.jsx("i",{className:"fas fa-ad mr-2"}),W.jsx("span",{children:"Cargando anuncio..."})]})})})},cb=()=>{const[r,e]=fe.useState(Nn.Home),[i,s]=fe.useState(!1),[o,f]=fe.useState(!0),[d,g]=fe.useState(!1);fe.useEffect(()=>{fE()},[]);const _=fe.useCallback(U=>{e(U)},[]),v=()=>{f(!1),alert("Gracias! Los anuncios han sido eliminados."),e(Nn.Home)},A=()=>{g(!0),alert("Gracias! Has comprado el paquete de frases premium."),e(Nn.Home)},O=()=>{switch(r){case Nn.Game:return W.jsx(rb,{navigate:_,hasPremium:d});case Nn.Store:return W.jsx(sb,{navigate:_,onPurchaseRemoveAds:v,onPurchasePremium:A,showAds:o,hasPremium:d});case Nn.Home:default:return W.jsx(mE,{navigate:_,onSuggestClick:()=>s(!0)})}};return W.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 overflow-hidden",children:[W.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),W.jsx("div",{className:"z-10 w-full max-w-md mx-auto flex-grow flex flex-col justify-center",children:O()}),i&&W.jsx(ob,{onClose:()=>s(!1)}),o&&W.jsx(ub,{})]})},wv=document.getElementById("root");if(!wv)throw new Error("Could not find root element to mount to");const fb=oE.createRoot(wv);fb.render(W.jsx(tE.StrictMode,{children:W.jsx(cb,{})}));export{Qu as _,gb as g};
//# sourceMappingURL=index-CXzyoo9P.js.map
