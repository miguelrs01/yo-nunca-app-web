(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Hy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var af={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function $0(){if(Mp)return wl;Mp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var xp;function J0(){return xp||(xp=1,af.exports=$0()),af.exports}var W=J0(),sf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function W0(){if(Up)return Et;Up=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function U(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,rt={};function tt(D,K,nt){this.props=D,this.context=K,this.refs=rt,this.updater=nt||k}tt.prototype.isReactComponent={},tt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},tt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Dt(){}Dt.prototype=tt.prototype;function At(D,K,nt){this.props=D,this.context=K,this.refs=rt,this.updater=nt||k}var _t=At.prototype=new Dt;_t.constructor=At,J(_t,tt.prototype),_t.isPureReactComponent=!0;var Bt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function I(D,K,nt,Z,ct,St){return nt=St.ref,{$$typeof:a,type:D,key:K,ref:nt!==void 0?nt:null,props:St}}function S(D,K){return I(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function V(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return K[nt]})}var N=/\/+/g;function x(D,K){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):K.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,K,nt,Z,ct){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(St){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case a:case e:mt=!0;break;case A:return mt=D._init,ie(mt(D._payload),K,nt,Z,ct)}}if(mt)return ct=ct(D),mt=Z===""?"."+x(D,0):Z,Bt(ct)?(nt="",mt!=null&&(nt=mt.replace(N,"$&/")+"/"),ie(ct,K,nt,"",function(xn){return xn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(N,"$&/")+"/")+mt)),K.push(ct)),1;mt=0;var be=Z===""?".":Z+":";if(Bt(D))for(var Zt=0;Zt<D.length;Zt++)Z=D[Zt],St=be+x(Z,Zt),mt+=ie(Z,K,nt,St,ct);else if(Zt=U(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(Z=D.next()).done;)Z=Z.value,St=be+x(Z,Zt++),mt+=ie(Z,K,nt,St,ct);else if(St==="object"){if(typeof D.then=="function")return ie(Ne(D),K,nt,Z,ct);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,K,nt){if(D==null)return D;var Z=[],ct=0;return ie(D,Z,"","",function(St){return K.call(nt,St,ct++)}),Z}function et(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return Et.Children={map:H,forEach:function(D,K,nt){H(D,function(){K.apply(this,arguments)},nt)},count:function(D){var K=0;return H(D,function(){K++}),K},toArray:function(D){return H(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=tt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=At,Et.StrictMode=s,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,K,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=J({},D.props),ct=D.key,St=void 0;if(K!=null)for(mt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(ct=""+K.key),K)!Lt.call(K,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&K.ref===void 0||(Z[mt]=K[mt]);var mt=arguments.length-2;if(mt===1)Z.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];Z.children=be}return I(D.type,ct,void 0,void 0,St,Z)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Et.createElement=function(D,K,nt){var Z,ct={},St=null;if(K!=null)for(Z in K.key!==void 0&&(St=""+K.key),K)Lt.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ct[Z]=K[Z]);var mt=arguments.length-2;if(mt===1)ct.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];ct.children=be}if(D&&D.defaultProps)for(Z in mt=D.defaultProps,mt)ct[Z]===void 0&&(ct[Z]=mt[Z]);return I(D,St,void 0,void 0,null,ct)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=w,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Et.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},Et.startTransition=function(D){var K=vt.T,nt={};vt.T=nt;try{var Z=D(),ct=vt.S;ct!==null&&ct(nt,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(zt,ot)}catch(St){ot(St)}finally{vt.T=K}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(D){return vt.H.use(D)},Et.useActionState=function(D,K,nt){return vt.H.useActionState(D,K,nt)},Et.useCallback=function(D,K){return vt.H.useCallback(D,K)},Et.useContext=function(D){return vt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,K){return vt.H.useDeferredValue(D,K)},Et.useEffect=function(D,K,nt){var Z=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,K)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(D,K,nt){return vt.H.useImperativeHandle(D,K,nt)},Et.useInsertionEffect=function(D,K){return vt.H.useInsertionEffect(D,K)},Et.useLayoutEffect=function(D,K){return vt.H.useLayoutEffect(D,K)},Et.useMemo=function(D,K){return vt.H.useMemo(D,K)},Et.useOptimistic=function(D,K){return vt.H.useOptimistic(D,K)},Et.useReducer=function(D,K,nt){return vt.H.useReducer(D,K,nt)},Et.useRef=function(D){return vt.H.useRef(D)},Et.useState=function(D){return vt.H.useState(D)},Et.useSyncExternalStore=function(D,K,nt){return vt.H.useSyncExternalStore(D,K,nt)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.1",Et}var Lp;function kf(){return Lp||(Lp=1,sf.exports=W0()),sf.exports}var pe=kf();const tE=Hy(pe);var lf={exports:{}},Dl={},of={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function eE(){return zp||(zp=1,(function(a){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var zt=ot-1>>>1,D=H[zt];if(0<o(D,et))H[zt]=et,H[ot]=D,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var zt=0,D=H.length,K=D>>>1;zt<K;){var nt=2*(zt+1)-1,Z=H[nt],ct=nt+1,St=H[ct];if(0>o(Z,ot))ct<D&&0>o(St,Z)?(H[zt]=St,H[ct]=ot,zt=ct):(H[zt]=Z,H[nt]=ot,zt=nt);else if(ct<D&&0>o(St,ot))H[zt]=St,H[ct]=ot,zt=ct;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,O=null,U=3,k=!1,J=!1,rt=!1,tt=!1,Dt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function vt(H){if(rt=!1,Bt(H),!J)if(i(_)!==null)J=!0,Lt||(Lt=!0,x());else{var et=i(v);et!==null&&ie(vt,et.startTime-H)}}var Lt=!1,I=-1,S=5,w=-1;function V(){return tt?!0:!(a.unstable_now()-w<S)}function N(){if(tt=!1,Lt){var H=a.unstable_now();w=H;var et=!0;try{t:{J=!1,rt&&(rt=!1,At(I),I=-1),k=!0;var ot=U;try{e:{for(Bt(H),O=i(_);O!==null&&!(O.expirationTime>H&&V());){var zt=O.callback;if(typeof zt=="function"){O.callback=null,U=O.priorityLevel;var D=zt(O.expirationTime<=H);if(H=a.unstable_now(),typeof D=="function"){O.callback=D,Bt(H),et=!0;break e}O===i(_)&&s(_),Bt(H)}else s(_);O=i(_)}if(O!==null)et=!0;else{var K=i(v);K!==null&&ie(vt,K.startTime-H),et=!1}}break t}finally{O=null,U=ot,k=!1}et=void 0}}finally{et?x():Lt=!1}}}var x;if(typeof _t=="function")x=function(){_t(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=N,x=function(){Ne.postMessage(null)}}else x=function(){Dt(N,0)};function ie(H,et){I=Dt(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var ot=U;U=et;try{return H()}finally{U=ot}},a.unstable_requestPaint=function(){tt=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=U;U=H;try{return et()}finally{U=ot}},a.unstable_scheduleCallback=function(H,et,ot){var zt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>zt?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(rt?(At(I),I=-1):rt=!0,ie(vt,ot-zt))):(H.sortIndex=D,e(_,H),J||k||(J=!0,Lt||(Lt=!0,x()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var et=U;return function(){var ot=U;U=et;try{return H.apply(this,arguments)}finally{U=ot}}}})(uf)),uf}var Pp;function nE(){return Pp||(Pp=1,of.exports=eE()),of.exports}var cf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function iE(){if(Bp)return He;Bp=1;var a=kf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,O=g(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:k}):A==="script"&&s.d.X(_,{crossOrigin:O,integrity:U,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,O=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var qp;function rE(){if(qp)return cf.exports;qp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),cf.exports=iE(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function aE(){if(jp)return Dl;jp=1;var a=nE(),e=kf(),i=rE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Dt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case tt:return"Profiler";case rt:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function K(t){return{current:t}}function nt(t){0>D||(t.current=zt[D],zt[D]=null,D--)}function Z(t,n){D++,zt[D]=t.current,t.current=n}var ct=K(null),St=K(null),mt=K(null),be=K(null);function Zt(t,n){switch(Z(mt,n),Z(St,t),Z(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?lp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=lp(n),t=op(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),Z(ct,t)}function xn(){nt(ct),nt(St),nt(mt)}function Ni(t){t.memoizedState!==null&&Z(be,t);var n=ct.current,r=op(n,t.type);n!==r&&(Z(St,t),Z(ct,r))}function ti(t){St.current===t&&(nt(ct),nt(St)),be.current===t&&(nt(be),Tl._currentValue=ot)}var mr=Object.prototype.hasOwnProperty,gr=a.unstable_scheduleCallback,pr=a.unstable_cancelCallback,_s=a.unstable_shouldYield,Jl=a.unstable_requestPaint,hn=a.unstable_now,rc=a.unstable_getCurrentPriorityLevel,vs=a.unstable_ImmediatePriority,aa=a.unstable_UserBlockingPriority,yr=a.unstable_NormalPriority,ac=a.unstable_LowPriority,sa=a.unstable_IdlePriority,Es=a.log,Wl=a.unstable_setDisableYieldValue,re=null,jt=null;function tn(t){if(typeof Es=="function"&&Wl(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var je=Math.clz32?Math.clz32:_r,to=Math.log,sc=Math.LN2;function _r(t){return t>>>=0,t===0?32:31-(to(t)/sc|0)|0}var vr=256,Er=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function la(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):r||(r=E&~t,r!==0&&(c=Rn(r))))):(E=l&~f,E!==0?c=Rn(E):y!==0?c=Rn(y):r||(r=l&~t,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Tr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ts(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var t=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),t}function Ss(){var t=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),t}function ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-je(r),F=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Rs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Dp(t.type))}function eo(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,fn="__reactContainer$"+Wt,ws="__reactEvents$"+Wt,lc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,no="__reactResources$"+Wt,Ar="__reactMarker$"+Wt;function Ui(t){delete t[_e],delete t[he],delete t[ws],delete t[lc],delete t[xi]}function ii(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=fp(t);t!==null;){if(r=t[_e])return r;t=fp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[no];return n||(n=t[no]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Ar]=!0}var Ds=new Set,ua={};function wn(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(ua[t]=n,t=0;t<n.length;t++)Ds.add(n[t])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},Sr={};function ao(t){return mr.call(Sr,t)?!0:mr.call(ro,t)?!1:io.test(t)?Sr[t]=!0:(ro[t]=!0,!1)}function Li(t,n,r){if(ao(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var br,so;function ai(t){if(br===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);br=n&&n[1]||"",so=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+t+so}var ca=!1;function ha(t,n){if(!t||ca)return"";ca=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{ca=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ai(r):""}function Cs(t){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return ai("Activity");default:return""}}function fa(t){try{var n="";do n+=Cs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oc(t){var n=Vs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function da(t){t._valueTracker||(t._valueTracker=oc(t))}function Is(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Vs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var uc=/[\n"\\]/g;function fe(t){return t.replace(uc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ke(n)):r!=null?zi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function wr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,r){n==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function si(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Dr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Cr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ns(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&lo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&lo(t,f,n[f])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return hc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ui=null;function Ms(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Is(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&si(t,!!r.multiple,n,!1)}}}var Bn=!1;function oo(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(oi!==null||ui!==null)&&(nu(),oi&&(n=oi,t=ui,ui=oi=null,Ms(n),t)))for(n=0;n<t.length;n++)Ms(t[n])}}function Vr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{gn=!1}var qn=null,Pi=null,ci=null;function xs(){if(ci)return ci;var t,n=Pi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Us(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Us,this.isPropagationStopped=Us,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Re(qt),Nr=A({},qt,{view:0,detail:0}),uo=Re(Nr),pa,ya,Hn,Or=A({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(pa=t.screenX-Hn.screenX,ya=t.screenY-Hn.screenY):ya=pa=0,Hn=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),pn=Re(Or),co=A({},Or,{dataTransfer:0}),fc=Re(co),Mr=A({},Nr,{relatedTarget:0}),_a=Re(Mr),Ls=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Re(Ls),ho=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=Re(ho),dc=A({},qt,{data:0}),zs=Re(dc),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ps(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mo[t])?!!n[t]:!1}function Ur(){return Ps}var go=A({},Nr,{key:function(t){if(t.key){var n=xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=Re(go),po=A({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Re(po),hi=A({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),yo=Re(hi),_o=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=Re(_o),Eo=A({},Or,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Re(Eo),Xe=A({},qt,{newState:0,oldState:0}),To=Re(Xe),Ao=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,p=Dn&&(!Gn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Ao.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Gn&&j(t,n)?(t=xs(),ci=Pi=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function fi(t,n,r,l){oi?ui?ui.push(l):ui=[l]:oi=l,n=ou(n,"onChange"),0<n.length&&(r=new ga("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Qn=null;function qs(t){np(t,0)}function So(t){var n=zn(t);if(Is(n))return t}function Sd(t,n){if(t==="change")return n}var bd=!1;if(Dn){var mc;if(Dn){var gc="oninput"in document;if(!gc){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),gc=typeof Rd.oninput=="function"}mc=gc}else mc=!1;bd=mc&&(!document.documentMode||9<document.documentMode)}function wd(){Me&&(Me.detachEvent("onpropertychange",Dd),Qn=Me=null)}function Dd(t){if(t.propertyName==="value"&&So(Qn)){var n=[];fi(n,Qn,t,mn(t)),oo(qs,n)}}function Dv(t,n,r){t==="focusin"?(wd(),Me=n,Qn=r,Me.attachEvent("onpropertychange",Dd)):t==="focusout"&&wd()}function Cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(Qn)}function Vv(t,n){if(t==="click")return So(n)}function Iv(t,n){if(t==="input"||t==="change")return So(n)}function Nv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Nv;function js(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!mr.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,n){var r=Cd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Cd(r)}}function Id(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Id(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Rr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Rr(t.document)}return n}function pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ov=Dn&&"documentMode"in document&&11>=document.documentMode,Sa=null,yc=null,ks=null,_c=!1;function Od(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_c||Sa==null||Sa!==Rr(l)||(l=Sa,"selectionStart"in l&&pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ks&&js(ks,l)||(ks=l,l=ou(yc,"onSelect"),0<l.length&&(n=new ga("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Sa)))}function Lr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ba={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},vc={},Md={};Dn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function zr(t){if(vc[t])return vc[t];if(!ba[t])return t;var n=ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Md)return vc[t]=n[r];return t}var xd=zr("animationend"),Ud=zr("animationiteration"),Ld=zr("animationstart"),Mv=zr("transitionrun"),xv=zr("transitionstart"),Uv=zr("transitioncancel"),zd=zr("transitionend"),Pd=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function Cn(t,n){Pd.set(t,n),wn(n,[t])}var Bd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Bd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:fa(n)},Bd.set(t,n),n)}return{value:t,source:n,stack:fa(n)}}var _n=[],Ra=0,Tc=0;function bo(){for(var t=Ra,n=Tc=Ra=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&qd(r,c,f)}}function Ro(t,n,r,l){_n[Ra++]=t,_n[Ra++]=n,_n[Ra++]=r,_n[Ra++]=l,Tc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ac(t,n,r,l){return Ro(t,n,r,l),wo(t)}function wa(t,n){return Ro(t,null,null,n),wo(t)}function qd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wo(t){if(50<dl)throw dl=0,Ch=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function Lv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,l){return new Lv(t,n,r,l)}function Sc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function jd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Do(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Sc(t)&&(y=1);else if(typeof t=="string")y=P0(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=rn(31,r,n,c),t.elementType=w,t.lanes=f,t;case J:return Pr(r.children,c,f,n);case rt:y=8,c|=24;break;case tt:return t=rn(12,r,n,c|2),t.elementType=tt,t.lanes=f,t;case vt:return t=rn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case Lt:return t=rn(19,r,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dt:case _t:y=10;break t;case At:y=9;break t;case Bt:y=11;break t;case I:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Pr(t,n,r,l){return t=rn(7,t,l,n),t.lanes=r,t}function bc(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function Rc(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ca=[],Va=0,Co=null,Vo=0,vn=[],En=0,Br=null,mi=1,gi="";function qr(t,n){Ca[Va++]=Vo,Ca[Va++]=Co,Co=t,Vo=n}function kd(t,n,r){vn[En++]=mi,vn[En++]=gi,vn[En++]=Br,Br=t;var l=mi;t=gi;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-je(n)+c|r<<c|l,gi=f+t}else mi=1<<f|r<<c|l,gi=t}function wc(t){t.return!==null&&(qr(t,1),kd(t,1,0))}function Dc(t){for(;t===Co;)Co=Ca[--Va],Ca[Va]=null,Vo=Ca[--Va],Ca[Va]=null;for(;t===Br;)Br=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null,mi=vn[--En],vn[En]=null}var Ze=null,ae=null,Pt=!1,jr=null,Fn=!1,Cc=Error(s(519));function kr(t){var n=Error(s(418,""));throw Qs(yn(n,t)),Cc}function Hd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<gl.length;r++)wt(gl[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),wr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),da(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Dr(n,l.value,l.defaultValue,l.children),da(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||sp(n.textContent,r)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=uu),n=!0):n=!1,n||kr(t)}function Gd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function Hs(t){if(t!==Ze)return!1;if(!Pt)return Gd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Gh(t.type,t.memoizedProps)),r=!r),r&&ae&&kr(t),Gd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=In(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,tr(t.type)?(t=Kh,Kh=null,ae=t):ae=n):ae=Ze?In(t.stateNode.nextSibling):null;return!0}function Gs(){ae=Ze=null,Pt=!1}function Qd(){var t=jr;return t!==null&&(We===null?We=t:We.push.apply(We,t),jr=null),t}function Qs(t){jr===null?jr=[t]:jr.push(t)}var Vc=K(null),Hr=null,pi=null;function Bi(t,n,r){Z(Vc,n._currentValue),n._currentValue=r}function yi(t){t._currentValue=Vc.current,nt(Vc)}function Ic(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Nc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Ic(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Ic(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Fs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}c=c.return}t!==null&&Nc(n,t,r,l),n.flags|=262144}function Io(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Hr=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Fd(Hr,t)}function No(t,n){return Hr===null&&Gr(t),Fd(t,n)}function Fd(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},pi===null){if(t===null)throw Error(s(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return r}var zv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Pv=a.unstable_scheduleCallback,Bv=a.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new zv,data:new Map,refCount:0}}function Ys(t){t.refCount--,t.refCount===0&&Pv(Bv,function(){t.controller.abort()})}var Ks=null,Mc=0,Ia=0,Na=null;function qv(t,n){if(Ks===null){var r=Ks=[];Mc=0,Ia=Uh(),Na={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Mc++,n.then(Yd,Yd),n}function Yd(){if(--Mc===0&&Ks!==null){Na!==null&&(Na.status="fulfilled");var t=Ks;Ks=null,Ia=0,Na=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Kd=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qv(t,n),Kd!==null&&Kd(t,n)};var Qr=K(null);function xc(){var t=Qr.current;return t!==null?t:$t.pooledCache}function Oo(t,n){n===null?Z(Qr,Qr.current):Z(Qr,n.pool)}function Xd(){var t=xc();return t===null?null:{parent:Te._currentValue,pool:t}}var Xs=Error(s(460)),Zd=Error(s(474)),Mo=Error(s(542)),Uc={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xo(){}function Jd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xo,xo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tm(t),t;default:if(typeof n.status=="string")n.then(xo,xo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tm(t),t}throw Zs=n,Xs}}var Zs=null;function Wd(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function tm(t){if(t===Xs||t===Mo)throw Error(s(483))}var qi=!1;function Lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wo(t),qd(t,null,r),n}return Ro(t,l,n,r),wo(t)}function $s(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rs(t,r)}}function Pc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Bc=!1;function Js(){if(Bc){var t=Na;if(t!==null)throw t}}function Ws(t,n,r,l){Bc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===Ia&&(Bc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,ht=E;B=n;var Kt=r;switch(ht.tag){case 1:if(dt=ht.payload,typeof dt=="function"){F=dt.call(Kt,F,B);break t}F=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ht.payload,B=typeof dt=="function"?dt.call(Kt,F,B):dt,B==null)break t;F=A({},F,B);break t;case 2:qi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,b=F):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=F}}function em(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function nm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)em(r[t],n)}var Oa=K(null),Uo=K(0);function im(t,n){t=bi,Z(Uo,t),Z(Oa,n),bi=t|n.baseLanes}function qc(){Z(Uo,bi),Z(Oa,Oa.current)}function jc(){bi=Uo.current,nt(Oa),nt(Uo)}var Hi=0,Tt=null,Ft=null,de=null,Lo=!1,Ma=!1,Fr=!1,zo=0,tl=0,xa=null,kv=0;function oe(){throw Error(s(321))}function kc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function Hc(t,n,r,l,c,f){return Hi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?qm:jm,Fr=!1,f=r(l,c),Fr=!1,Ma&&(f=am(n,r,l,c)),rm(t),f}function rm(t){H.H=Ho;var n=Ft!==null&&Ft.next!==null;if(Hi=0,de=Ft=Tt=null,Lo=!1,tl=0,xa=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Io(t)&&(De=!0))}function am(t,n,r,l){Tt=t;var c=0;do{if(Ma&&(xa=null),tl=0,Ma=!1,25<=c)throw Error(s(301));if(c+=1,de=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Xv,f=n(r,l)}while(Ma);return f}function Hv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Tt.flags|=1024),n}function Gc(){var t=zo!==0;return zo=0,t}function Qc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Fc(t){if(Lo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lo=!1}Hi=0,de=Ft=Tt=null,Ma=!1,tl=zo=0,xa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Tt.memoizedState=de=t:de=de.next=t,de}function me(){if(Ft===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=de===null?Tt.memoizedState:de.next;if(n!==null)de=n,Ft=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?Tt.memoizedState=de=t:de=de.next=t}return de}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=tl;return tl+=1,xa===null&&(xa=[]),t=Jd(xa,t,n),n=Tt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?qm:jm),t}function Po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===_t)return ke(t)}throw Error(s(438,String(t)))}function Kc(t){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yc(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function Bo(t){var n=me();return Xc(n,Ft,t)}function Xc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Nt&F)===F:(Hi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Ia&&(G=!0);else if((Hi&B)===B){P=P.next,B===Ia&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,Tt.lanes|=B,Zi|=B;F=P.action,Fr&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Tt.lanes|=F,Zi|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!nn(f,t.memoizedState)&&(De=!0,G&&(r=Na,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zc(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);nn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function sm(t,n,r){var l=Tt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!nn((Ft||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=um.bind(null,l,c,t);if(nl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Ua(9,qo(),om.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Hi&124)!==0||lm(l,n,r)}return r}function lm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Yc(),Tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function om(t,n,r,l){n.value=r,n.getSnapshot=l,cm(n)&&hm(t)}function um(t,n,r){return r(function(){cm(n)&&hm(t)})}function cm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function hm(t){var n=wa(t,2);n!==null&&un(n,t,2)}function $c(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Fr){tn(!0);try{r()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function fm(t,n,r,l){return t.baseState=r,Xc(t,Ft,typeof l=="function"?l:_i)}function Gv(t,n,r,l,c){if(ko(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,dm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),mm(t,n,E)}catch(P){Jc(t,n,P)}finally{H.T=f}}else try{f=r(c,l),mm(t,n,f)}catch(P){Jc(t,n,P)}}function mm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){gm(t,n,l)},function(l){return Jc(t,n,l)}):gm(t,n,r)}function gm(t,n,r){n.status="fulfilled",n.value=r,pm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,dm(t,r)))}function Jc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,pm(n),n=n.next;while(n!==l)}t.action=null}function pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ym(t,n){return n}function _m(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=Tt;if(Pt){if(ae){e:{for(var c=ae,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=In(c.nextSibling),l=c.data==="F!";break t}}kr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:n},r.queue=l,r=zm.bind(null,Tt,l),l.dispatch=r,l=$c(!1),f=ih.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Gv.bind(null,Tt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function vm(t){var n=me();return Em(n,Ft,t)}function Em(t,n,r){if(n=Xc(t,n,ym)[0],t=Bo(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=el(n)}catch(y){throw y===Xs?Mo:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,Ua(9,qo(),Qv.bind(null,c,r),null)),[l,f,t]}function Qv(t,n){t.action=n}function Tm(t){var n=me(),r=Ft;if(r!==null)return Em(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ua(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Yc(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function qo(){return{destroy:void 0,resource:void 0}}function Am(){return me().memoizedState}function jo(t,n,r,l){var c=$e();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=Ua(1|n,qo(),r,l)}function nl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&kc(l,Ft.memoizedState.deps)?c.memoizedState=Ua(n,f,r,l):(Tt.flags|=t,c.memoizedState=Ua(1|n,f,r,l))}function Sm(t,n){jo(8390656,8,t,n)}function bm(t,n){nl(2048,8,t,n)}function Rm(t,n){return nl(4,2,t,n)}function wm(t,n){return nl(4,4,t,n)}function Dm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cm(t,n,r){r=r!=null?r.concat([t]):null,nl(4,4,Dm.bind(null,n,t),r)}function Wc(){}function Vm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&kc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Im(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&kc(n,l[1]))return l[0];if(l=t(),Fr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l}function th(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Mg(),Tt.lanes|=t,Zi|=t,r)}function Nm(t,n,r,l){return nn(r,n)?r:Oa.current!==null?(t=th(t,r,l),nn(t,n)||(De=!0),t):(Hi&42)===0?(De=!0,t.memoizedState=r):(t=Mg(),Tt.lanes|=t,Zi|=t,n)}function Om(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,ih(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=jv(b,l);il(t,n,G,on(t))}else il(t,n,l,on(t))}catch(F){il(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{et.p=f,H.T=y}}function Fv(){}function eh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Mm(t).queue;Om(t,c,n,ot,r===null?Fv:function(){return xm(t),r(l)})}function Mm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xm(t){var n=Mm(t).next.queue;il(t,n,{},on())}function nh(){return ke(Tl)}function Um(){return me().memoizedState}function Lm(){return me().memoizedState}function Yv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=ji(r);var l=ki(n,t,r);l!==null&&(un(l,n,r),$s(l,n,r)),n={cache:Oc()},t.payload=n;return}n=n.return}}function Kv(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ko(t)?Pm(n,r):(r=Ac(t,n,r,l),r!==null&&(un(r,t,l),Bm(r,n,l)))}function zm(t,n,r){var l=on();il(t,n,r,l)}function il(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ko(t))Pm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return Ro(t,n,c,0),$t===null&&bo(),!1}catch{}finally{}if(r=Ac(t,n,c,l),r!==null)return un(r,t,l),Bm(r,n,l),!0}return!1}function ih(t,n,r,l){if(l={lane:2,revertLane:Uh(),action:l,hasEagerState:!1,eagerState:null,next:null},ko(t)){if(n)throw Error(s(479))}else n=Ac(t,r,l,2),n!==null&&un(n,t,2)}function ko(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Pm(t,n){Ma=Lo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Rs(t,r)}}var Ho={readContext:ke,use:Po,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},qm={readContext:ke,use:Po,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Sm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,jo(4194308,4,Dm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return jo(4194308,4,t,n)},useInsertionEffect:function(t,n){jo(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Fr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Fr){tn(!0);try{r(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Kv.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=$c(t);var n=t.queue,r=zm.bind(null,Tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Wc,useDeferredValue:function(t,n){var r=$e();return th(r,t,n)},useTransition:function(){var t=$c(!1);return t=Om.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Tt,c=$e();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Nt&124)!==0||lm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Sm(um.bind(null,l,f,t),[t]),l.flags|=2048,Ua(9,qo(),om.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Pt){var r=gi,l=mi;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=zo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=kv++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:nh,useFormState:_m,useActionState:_m,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ih.bind(null,Tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Kc,useCacheRefresh:function(){return $e().memoizedState=Yv.bind(null,Tt)}},jm={readContext:ke,use:Po,useCallback:Vm,useContext:ke,useEffect:bm,useImperativeHandle:Cm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Im,useReducer:Bo,useRef:Am,useState:function(){return Bo(_i)},useDebugValue:Wc,useDeferredValue:function(t,n){var r=me();return Nm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Bo(_i)[0],n=me().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:sm,useId:Um,useHostTransitionStatus:nh,useFormState:vm,useActionState:vm,useOptimistic:function(t,n){var r=me();return fm(r,Ft,t,n)},useMemoCache:Kc,useCacheRefresh:Lm},Xv={readContext:ke,use:Po,useCallback:Vm,useContext:ke,useEffect:bm,useImperativeHandle:Cm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Im,useReducer:Zc,useRef:Am,useState:function(){return Zc(_i)},useDebugValue:Wc,useDeferredValue:function(t,n){var r=me();return Ft===null?th(r,t,n):Nm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Zc(_i)[0],n=me().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:sm,useId:Um,useHostTransitionStatus:nh,useFormState:Tm,useActionState:Tm,useOptimistic:function(t,n){var r=me();return Ft!==null?fm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Kc,useCacheRefresh:Lm},La=null,rl=0;function Go(t){var n=rl;return rl+=1,La===null&&(La=[]),Jd(La,t,n)}function al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qo(t,n){throw n.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function km(t){var n=t._init;return n(t._payload)}function Hm(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function f(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,Q){return C===null||C.tag!==6?(C=bc(z,M.mode,Q),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,Q){var at=z.type;return at===J?G(M,C,z.props.children,Q,z.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&km(at)===C.type)?(C=c(C,z.props),al(C,z),C.return=M,C):(C=Do(z.type,z.key,z.props,null,M.mode,Q),al(C,z),C.return=M,C)}function P(M,C,z,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=Rc(z,M.mode,Q),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function G(M,C,z,Q,at){return C===null||C.tag!==7?(C=Pr(z,M.mode,Q,at),C.return=M,C):(C=c(C,z),C.return=M,C)}function F(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=bc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case U:return z=Do(C.type,C.key,C.props,null,M.mode,z),al(z,C),z.return=M,z;case k:return C=Rc(C,M.mode,z),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),F(M,C,z)}if(ie(C)||x(C))return C=Pr(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return F(M,Go(C),z);if(C.$$typeof===_t)return F(M,No(M,C),z);Qo(M,C)}return null}function B(M,C,z,Q){var at=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,C,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===at?b(M,C,z,Q):null;case k:return z.key===at?P(M,C,z,Q):null;case S:return at=z._init,z=at(z._payload),B(M,C,z,Q)}if(ie(z)||x(z))return at!==null?null:G(M,C,z,Q,null);if(typeof z.then=="function")return B(M,C,Go(z),Q);if(z.$$typeof===_t)return B(M,C,No(M,z),Q);Qo(M,z)}return null}function q(M,C,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(C,M,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return M=M.get(Q.key===null?z:Q.key)||null,b(C,M,Q,at);case k:return M=M.get(Q.key===null?z:Q.key)||null,P(C,M,Q,at);case S:var bt=Q._init;return Q=bt(Q._payload),q(M,C,z,Q,at)}if(ie(Q)||x(Q))return M=M.get(z)||null,G(C,M,Q,at,null);if(typeof Q.then=="function")return q(M,C,z,Go(Q),at);if(Q.$$typeof===_t)return q(M,C,z,No(C,Q),at);Qo(C,Q)}return null}function dt(M,C,z,Q){for(var at=null,bt=null,lt=C,ft=C=0,Ve=null;lt!==null&&ft<z.length;ft++){lt.index>ft?(Ve=lt,lt=null):Ve=lt.sibling;var xt=B(M,lt,z[ft],Q);if(xt===null){lt===null&&(lt=Ve);break}t&&lt&&xt.alternate===null&&n(M,lt),C=f(xt,C,ft),bt===null?at=xt:bt.sibling=xt,bt=xt,lt=Ve}if(ft===z.length)return r(M,lt),Pt&&qr(M,ft),at;if(lt===null){for(;ft<z.length;ft++)lt=F(M,z[ft],Q),lt!==null&&(C=f(lt,C,ft),bt===null?at=lt:bt.sibling=lt,bt=lt);return Pt&&qr(M,ft),at}for(lt=l(lt);ft<z.length;ft++)Ve=q(lt,M,ft,z[ft],Q),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?ft:Ve.key),C=f(Ve,C,ft),bt===null?at=Ve:bt.sibling=Ve,bt=Ve);return t&&lt.forEach(function(ar){return n(M,ar)}),Pt&&qr(M,ft),at}function ht(M,C,z,Q){if(z==null)throw Error(s(151));for(var at=null,bt=null,lt=C,ft=C=0,Ve=null,xt=z.next();lt!==null&&!xt.done;ft++,xt=z.next()){lt.index>ft?(Ve=lt,lt=null):Ve=lt.sibling;var ar=B(M,lt,xt.value,Q);if(ar===null){lt===null&&(lt=Ve);break}t&&lt&&ar.alternate===null&&n(M,lt),C=f(ar,C,ft),bt===null?at=ar:bt.sibling=ar,bt=ar,lt=Ve}if(xt.done)return r(M,lt),Pt&&qr(M,ft),at;if(lt===null){for(;!xt.done;ft++,xt=z.next())xt=F(M,xt.value,Q),xt!==null&&(C=f(xt,C,ft),bt===null?at=xt:bt.sibling=xt,bt=xt);return Pt&&qr(M,ft),at}for(lt=l(lt);!xt.done;ft++,xt=z.next())xt=q(lt,M,ft,xt.value,Q),xt!==null&&(t&&xt.alternate!==null&&lt.delete(xt.key===null?ft:xt.key),C=f(xt,C,ft),bt===null?at=xt:bt.sibling=xt,bt=xt);return t&&lt.forEach(function(Z0){return n(M,Z0)}),Pt&&qr(M,ft),at}function Kt(M,C,z,Q){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:t:{for(var at=z.key;C!==null;){if(C.key===at){if(at=z.type,at===J){if(C.tag===7){r(M,C.sibling),Q=c(C,z.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&km(at)===C.type){r(M,C.sibling),Q=c(C,z.props),al(Q,z),Q.return=M,M=Q;break t}r(M,C);break}else n(M,C);C=C.sibling}z.type===J?(Q=Pr(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Do(z.type,z.key,z.props,null,M.mode,Q),al(Q,z),Q.return=M,M=Q)}return y(M);case k:t:{for(at=z.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(M,C.sibling),Q=c(C,z.children||[]),Q.return=M,M=Q;break t}else{r(M,C);break}else n(M,C);C=C.sibling}Q=Rc(z,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return at=z._init,z=at(z._payload),Kt(M,C,z,Q)}if(ie(z))return dt(M,C,z,Q);if(x(z)){if(at=x(z),typeof at!="function")throw Error(s(150));return z=at.call(z),ht(M,C,z,Q)}if(typeof z.then=="function")return Kt(M,C,Go(z),Q);if(z.$$typeof===_t)return Kt(M,C,No(M,z),Q);Qo(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(r(M,C.sibling),Q=c(C,z),Q.return=M,M=Q):(r(M,C),Q=bc(z,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,C)}return function(M,C,z,Q){try{rl=0;var at=Kt(M,C,z,Q);return La=null,at}catch(lt){if(lt===Xs||lt===Mo)throw lt;var bt=rn(29,lt,null,M.mode);return bt.lanes=Q,bt.return=M,bt}finally{}}}var za=Hm(!0),Gm=Hm(!1),Tn=K(null),Yn=null;function Gi(t){var n=t.alternate;Z(Ae,Ae.current&1),Z(Tn,t),Yn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Yn=t)}function Qm(t){if(t.tag===22){if(Z(Ae,Ae.current),Z(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Qi()}function Qi(){Z(Ae,Ae.current),Z(Tn,Tn.current)}function vi(t){nt(Tn),Yn===t&&(Yn=null),nt(Ae)}var Ae=K(0);function Fo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Yh(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ah={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=ji(l);c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(un(n,t,l),$s(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(un(n,t,l),$s(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=ji(r);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,r),n!==null&&(un(n,t,r),$s(n,t,r))}};function Fm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!js(r,l)||!js(c,f):!0}function Ym(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ah.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Km(t){Yo(t)}function Xm(t){console.error(t)}function Zm(t){Yo(t)}function Ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $m(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,n,r){return r=ji(r),r.tag=3,r.payload={element:null},r.callback=function(){Ko(t,n)},r}function Jm(t){return t=ji(t),t.tag=3,t}function Wm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){$m(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$m(n,r,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Zv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Fs(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Yn===null?Ih():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Oh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Oh(t,l,c)),!1}throw Error(s(435,r.tag))}return Oh(t,l,c),Ih(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Cc&&(t=Error(s(422),{cause:l}),Qs(yn(t,r)))):(l!==Cc&&(n=Error(s(423),{cause:l}),Qs(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=sh(t.stateNode,l,c),Pc(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=yn(f,r),fl===null?fl=[f]:fl.push(f),se!==4&&(se=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=sh(r.stateNode,l,t),Pc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Jm(c),Wm(c,t,r,l),Pc(r,c),!1}r=r.return}while(r!==null);return!1}var tg=Error(s(461)),De=!1;function xe(t,n,r,l){n.child=t===null?Gm(n,null,r,l):za(n,t.child,r,l)}function eg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Gr(n),l=Hc(t,n,r,y,f,c),E=Gc(),t!==null&&!De?(Qc(t,n,c),Ei(t,n,c)):(Pt&&E&&wc(n),n.flags|=1,xe(t,n,l,c),n.child)}function ng(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Sc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ig(t,n,f,l,c)):(t=Do(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:js,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(f,l),t.ref=n.ref,t.return=n,n.child=t}function ig(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(js(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,mh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return lh(t,n,r,l,c)}function rg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ag(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oo(n,f!==null?f.cachePool:null),f!==null?im(n,f):qc(),Qm(n);else return n.lanes=n.childLanes=536870912,ag(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Oo(n,f.cachePool),im(n,f),Qi(),n.memoizedState=null):(t!==null&&Oo(n,null),qc(),Qi());return xe(t,n,c,r),n.child}function ag(t,n,r,l){var c=xc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Oo(n,null),qc(),Qm(n),t!==null&&Fs(t,n,l,!0),null}function Xo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function lh(t,n,r,l,c){return Gr(n),r=Hc(t,n,r,l,void 0,c),l=Gc(),t!==null&&!De?(Qc(t,n,c),Ei(t,n,c)):(Pt&&l&&wc(n),n.flags|=1,xe(t,n,r,c),n.child)}function sg(t,n,r,l,c,f){return Gr(n),n.updateQueue=null,r=am(n,l,r,c),rm(t),l=Gc(),t!==null&&!De?(Qc(t,n,f),Ei(t,n,f)):(Pt&&l&&wc(n),n.flags|=1,xe(t,n,r,f),n.child)}function lg(t,n,r,l,c){if(Gr(n),n.stateNode===null){var f=Da,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ah,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Lc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Da,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(rh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ah.enqueueReplaceState(f,f.state,null),Ws(n,l,f,c),Js(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Yr(r,E);f.props=b;var P=f.context,G=r.contextType;y=Da,typeof G=="object"&&G!==null&&(y=ke(G));var F=r.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Ym(n,f,l,y),qi=!1;var B=n.memoizedState;f.state=B,Ws(n,l,f,c),Js(),P=n.memoizedState,E||B!==P||qi?(typeof F=="function"&&(rh(n,r,F,l),P=n.memoizedState),(b=qi||Fm(n,r,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,zc(t,n),y=n.memoizedProps,G=Yr(r,y),f.props=G,F=n.pendingProps,B=f.context,P=r.contextType,b=Da,typeof P=="object"&&P!==null&&(b=ke(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&Ym(n,f,l,b),qi=!1,B=n.memoizedState,f.state=B,Ws(n,l,f,c),Js();var q=n.memoizedState;y!==F||B!==q||qi||t!==null&&t.dependencies!==null&&Io(t.dependencies)?(typeof E=="function"&&(rh(n,r,E,l),q=n.memoizedState),(G=qi||Fm(n,r,G,l,B,q,b)||t!==null&&t.dependencies!==null&&Io(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=za(n,t.child,null,c),n.child=za(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function og(t,n,r,l){return Gs(),n.flags|=256,xe(t,n,r,l),n.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(t){return{baseLanes:t,cachePool:Xd()}}function ch(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function ug(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Gi(n):Qi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Fn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Br!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Yh(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Zo({mode:"hidden",children:E},c),l=Pr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=uh(r),c.childLanes=ch(t,y,r),n.memoizedState=oh,l):(Gi(n),hh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=fh(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Zo({mode:"visible",children:l.children},E),c=Pr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,za(n,t.child,null,r),l=n.child,l.memoizedState=uh(r),l.childLanes=ch(t,y,r),n.memoizedState=oh,n=c);else if(Gi(n),Yh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,Qs({value:l,source:null,stack:null}),n=fh(t,n,r)}else if(De||Fs(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,wa(t,l),un(y,t,l),tg;E.data==="$?"||Ih(),n=fh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=In(E.nextSibling),Ze=n,Pt=!0,jr=null,Fn=!1,t!==null&&(vn[En++]=mi,vn[En++]=gi,vn[En++]=Br,mi=t.id,gi=t.overflow,Br=n),n=hh(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=di(P,c):(c=Pr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=uh(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Xd(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=ch(t,y,r),n.memoizedState=oh,l):(Gi(n),r=t.child,t=r.sibling,r=di(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function hh(t,n){return n=Zo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zo(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fh(t,n,r){return za(n,t.child,null,r),t=hh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ic(t.return,n,r)}function dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function hg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,r,n);else if(t.tag===19)cg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Fo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Fo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}dh(n,!0,r,null,f);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Fs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=di(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=di(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Io(t)))}function $v(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Bi(n,Te,t.memoizedState.cache),Gs();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ug(t,n,r):(Gi(n),t=Ei(t,n,r),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Fs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return hg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,rg(t,n,r);case 24:Bi(n,Te,t.memoizedState.cache)}return Ei(t,n,r)}function fg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!mh(t,r)&&(n.flags&128)===0)return De=!1,$v(t,n,r);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&kd(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Sc(l)?(t=Yr(l,t),n.tag=1,n=lg(null,n,l,t,r)):(n.tag=0,n=lh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Bt){n.tag=11,n=eg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=ng(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(s(306,n,""))}}return n;case 0:return lh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Yr(l,n.pendingProps),lg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,zc(t,n),Ws(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Bi(n,Te,l),l!==f.cache&&Nc(n,[Te],r,!0),Js(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=og(t,n,l,r);break t}else if(l!==c){c=yn(Error(s(424)),n),Qs(c),n=og(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=In(t.firstChild),Ze=n,Pt=!0,jr=null,Fn=!0,r=Gm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Gs(),l===c){n=Ei(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return Xo(t,n),t===null?(r=pp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=cu(mt.current).createElement(r),l[_e]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=pp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Pt&&(l=n.stateNode=dp(n.type,n.pendingProps,mt.current),Ze=n,Fn=!0,c=ae,tr(n.type)?(Kh=c,ae=In(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),Xo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=R0(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ze=n,ae=In(l.firstChild),Fn=!1,c=!0):c=!1),c||kr(n)),Ni(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Gh(c,f)?l=null:y!==null&&Gh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Hc(t,n,Hv,null,null,r),Tl._currentValue=c),Xo(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=w0(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||kr(n)),null;case 13:return ug(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=za(n,null,l,r):xe(t,n,l,r),n.child;case 11:return eg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Bi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Gr(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return ng(t,n,n.type,n.pendingProps,r);case 15:return ig(t,n,n.type,n.pendingProps,r);case 19:return hg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=di(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return rg(t,n,r);case 24:return Gr(n),l=ke(Te),t===null?(c=xc(),c===null&&(c=$t,f=Oc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Lc(n),Bi(n,Te,c)):((t.lanes&r)!==0&&(zc(t,n),Ws(n,null,null,r),Js()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Bi(n,Te,l)):(l=f.cache,Bi(n,Te,l),l!==c.cache&&Nc(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ti(t){t.flags|=4}function dg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tp(n)){if(n=Tn.current,n!==null&&((Nt&4194048)===Nt?Yn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Yn))throw Zs=Uc,Zd;t.flags|=8192}}function $o(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ss():536870912,t.lanes|=n,ja|=n)}function sl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Jv(t,n,r){var l=n.pendingProps;switch(Dc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(Te),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qd())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ti(n),r!==null?(ee(n),dg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ti(n),ee(n),dg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),ee(n),n.flags&=-16777217),null;case 27:ti(n),r=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ct.current,Hs(n)?Hd(n):(t=dp(c,l,r),n.stateNode=t,Ti(n))}return ee(n),null;case 5:if(ti(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ct.current,Hs(n))Hd(n);else{switch(c=cu(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mt.current,Hs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||sp(t.nodeValue,r)),t||kr(n)}else t=cu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$o(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Bh(n.stateNode.containerInfo),ee(n),null;case 10:return yi(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)sl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fo(t),f!==null){for(n.flags|=128,sl(c,!1),t=f.updateQueue,n.updateQueue=t,$o(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)jd(r,t),r=r.sibling;return Z(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&hn()>tu&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Fo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$o(n,t),sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*hn()-c.renderingStartTime>tu&&r!==536870912&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,t=Ae.current,Z(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return vi(n),jc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$o(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),yi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Wv(t,n){switch(Dc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Gs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return xn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),jc(),t!==null&&nt(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(Te),null;case 25:return null;default:return null}}function mg(t,n){switch(Dc(n),n.tag){case 3:yi(Te),xn();break;case 26:case 27:case 5:ti(n);break;case 4:xn();break;case 13:vi(n);break;case 19:nt(Ae);break;case 10:yi(n.type);break;case 22:case 23:vi(n),jc(),t!==null&&nt(Qr);break;case 24:yi(Te)}}function ll(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Fi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function gg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{nm(n,r)}catch(l){Xt(t,t.return,l)}}}function pg(t,n,r){r.props=Yr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function ol(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function yg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function gh(t,n,r){try{var l=t.stateNode;E0(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=uu));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(yh(t,n,r),t=t.sibling;t!==null;)yh(t,n,r),t=t.sibling}function Jo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Jo(t,n,r),t=t.sibling;t!==null;)Jo(t,n,r),t=t.sibling}function vg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[_e]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var Ai=!1,ue=!1,_h=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function t0(t,n){if(t=t.containerInfo,kh=pu,t=Nd(t),pc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hh={focusedElem:t,selectionRange:r},pu=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var dt=Yr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Xt(r,r.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Fh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Tg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r),l&4&&ll(5,r);break;case 1:if(Yi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&gg(r),l&512&&ol(r,r.return);break;case 3:if(Yi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{nm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&vg(r);case 26:case 5:Yi(t,r),n===null&&l&4&&yg(r),l&512&&ol(r,r.return);break;case 12:Yi(t,r);break;case 13:Yi(t,r),l&4&&bg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=u0.bind(null,r),D0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ai;var f=ue;Ai=l,(ue=n)&&!f?Ki(t,r,(r.subtreeFlags&8772)!==0):Yi(t,r),Ai=c,ue=f}break;case 30:break;default:Yi(t,r)}}function Ag(t){var n=t.alternate;n!==null&&(t.alternate=null,Ag(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Si(t,n,r){for(r=r.child;r!==null;)Sg(t,n,r),r=r.sibling}function Sg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ue||Kn(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Kn(r,n);var l=te,c=Je;tr(r.type)&&(te=r.stateNode,Je=!1),Si(t,n,r),yl(r.stateNode),te=l,Je=c;break;case 5:ue||Kn(r,n);case 6:if(l=te,c=Je,te=null,Si(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(Je?(t=te,hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Rl(t)):hp(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,Si(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:ue||Fi(2,r,n),ue||Fi(4,r,n),Si(t,n,r);break;case 1:ue||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&pg(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,Si(t,n,r),ue=l;break;default:Si(t,n,r)}}function bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(r){Xt(n,n.return,r)}}function e0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Eg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Eg),n;default:throw Error(s(435,t.tag))}}function vh(t,n){var r=e0(t);n.forEach(function(l){var c=c0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function an(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));Sg(f,y,c),te=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,t),n=n.sibling}var Vn=null;function Rg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(Fi(3,t,t.return),ll(3,t),Fi(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Vn;if(an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ar]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[_e]=t,le(f),l=f;break t;case"link":var y=vp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=vp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,le(f),l=f}t.stateNode=l}else Ep(c,t.type,t.stateNode);else t.stateNode=_p(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Ep(c,t.type,t.stateNode):_p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gh(t,t.memoizedProps,r.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),r!==null&&l&4&&gh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,gh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(_h=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(du=null,c=Vn,Vn=hu(n.containerInfo),an(n,t),Vn=c,sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(q){Xt(t,t.return,q)}_h&&(_h=!1,wg(t));break;case 4:l=Vn,Vn=hu(t.stateNode.containerInfo),an(n,t),sn(t),Vn=l;break;case 12:an(n,t),sn(t);break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Rh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ai,G=ue;if(Ai=P||c,ue=G||b,an(n,t),ue=G,Ai=P,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ai||ue||Kr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vh(t,r))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(_g(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=ph(t);Jo(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(dn(y,""),r.flags&=-33);var E=ph(t);Jo(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=ph(t);yh(t,P,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tg(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),Kr(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&pg(n,n.return,r),Kr(n);break;case 27:yl(n.stateNode);case 26:case 5:Kn(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,r),ll(4,f);break;case 1:if(Ki(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)em(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&gg(f),ol(f,f.return);break;case 27:vg(f);case 26:case 5:Ki(c,f,r),r&&l===null&&y&4&&yg(f),ol(f,f.return);break;case 12:Ki(c,f,r);break;case 13:Ki(c,f,r),r&&y&4&&bg(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,r),ol(f,f.return);break;case 30:break;default:Ki(c,f,r)}n=n.sibling}}function Eh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ys(r))}function Th(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ys(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dg(t,n,r,l),n=n.sibling}function Dg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&ll(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ys(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):ul(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Pa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Eh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Th(n.alternate,n);break;default:Xn(t,n,r,l)}}function Pa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,E,b,c),ll(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Pa(f,y,E,b,c):ul(f,y):(G._visibility|=2,Pa(f,y,E,b,c)),c&&P&2048&&Eh(y.alternate,y);break;case 24:Pa(f,y,E,b,c),c&&P&2048&&Th(y.alternate,y);break;default:Pa(f,y,E,b,c)}n=n.sibling}}function ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ul(r,l),c&2048&&Eh(l.alternate,l);break;case 24:ul(r,l),c&2048&&Th(l.alternate,l);break;default:ul(r,l)}n=n.sibling}}var cl=8192;function Ba(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 26:Ba(t),t.flags&cl&&t.memoizedState!==null&&q0(Vn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var n=Vn;Vn=hu(t.stateNode.containerInfo),Ba(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=cl,cl=16777216,Ba(t),cl=n):Ba(t));break;default:Ba(t)}}function Vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Ng(l,t)}Vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ig(t),t=t.sibling}function Ig(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wo(t)):hl(t);break;default:hl(t)}}function Wo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Ng(l,t)}Vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),Wo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wo(n));break;default:Wo(n)}t=t.sibling}}function Ng(t,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:Fi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ys(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ce=l;else t:for(r=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Ag(l),l===r){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var n0={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},i0=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,Rt=null,Nt=0,Ht=0,ln=null,Xi=!1,qa=!1,Ah=!1,bi=0,se=0,Zi=0,Xr=0,Sh=0,An=0,ja=0,fl=null,We=null,bh=!1,Rh=0,tu=1/0,eu=null,$i=null,Ue=0,Ji=null,ka=null,Ha=0,wh=0,Dh=null,Og=null,dl=0,Ch=null;function on(){if((kt&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=Ia;return t!==0?t:Uh()}return Mi()}function Mg(){An===0&&(An=(Nt&536870912)===0||Pt?As():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function un(t,n,r){(t===$t&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Wi(t,Nt,An,!1)),ni(t,r),((kt&2)===0||t!==$t)&&(t===$t&&((kt&2)===0&&(Xr|=r),se===4&&Wi(t,Nt,An,!1)),Zn(t))}function xg(t,n,r){if((kt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Tr(t,n),c=l?s0(t,n):Nh(t,n,!0),f=l;do{if(c===0){qa&&!l&&Wi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!r0(r)){c=Nh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=fl;var b=E.current.memoizedState.isDehydrated;if(b&&(Ga(E,y).flags|=256),y=Nh(E,y,!1),y!==2){if(Ah&&!b){E.errorRecoveryDisabledLanes|=f,Xr|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ga(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,An,!Xi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Rh+300-hn(),10<c)){if(Wi(l,n,An,!Xi),la(l,0,!0)!==0)break t;l.timeoutHandle=up(Ug.bind(null,l,r,We,eu,bh,n,An,Xr,ja,Xi,f,2,-0,0),c);break t}Ug(l,r,We,eu,bh,n,An,Xr,ja,Xi,f,0,-0,0)}}break}while(!0);Zn(t)}function Ug(t,n,r,l,c,f,y,E,b,P,G,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:B0},Cg(n),F=j0(),F!==null)){t.cancelPendingCommit=F(kg.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,q)),Wi(t,f,y,!P);return}kg(t,n,f,r,l,c,y,E,b)}function r0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,r,l){n&=~Sh,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function nu(){return(kt&6)===0?(ml(0),!1):!0}function Vh(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,pi=Hr=null,Fc(t),La=null,rl=0,t=Rt;for(;t!==null;)mg(t.alternate,t),t=t.return;Rt=null}}function Ga(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,A0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Vh(),$t=t,Rt=r=di(t.current,null),Nt=n,Ht=0,ln=null,Xi=!1,qa=Tr(t,n),Ah=!1,ja=An=Sh=Xr=Zi=se=0,We=fl=null,bh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return bi=n,bo(),r}function Lg(t,n){Tt=null,H.H=Ho,n===Xs||n===Mo?(n=Wd(),Ht=3):n===Zd?(n=Wd(),Ht=4):Ht=n===tg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Rt===null&&(se=1,Ko(t,yn(n,t.current)))}function zg(){var t=H.H;return H.H=Ho,t===null?Ho:t}function Pg(){var t=H.A;return H.A=n0,t}function Ih(){se=4,Xi||(Nt&4194048)!==Nt&&Tn.current!==null||(qa=!0),(Zi&134217727)===0&&(Xr&134217727)===0||$t===null||Wi($t,Nt,An,!1)}function Nh(t,n,r){var l=kt;kt|=2;var c=zg(),f=Pg();($t!==t||Nt!==n)&&(eu=null,Ga(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=ln;switch(Ht){case 8:Vh(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Ht;if(Ht=0,ln=null,Qa(t,E,b,P),r&&qa){y=0;break t}break;default:P=Ht,Ht=0,ln=null,Qa(t,E,b,P)}}a0(),y=se;break}catch(G){Lg(t,G)}while(!0);return n&&t.shellSuspendCounter++,pi=Hr=null,kt=l,H.H=c,H.A=f,Rt===null&&($t=null,Nt=0,bo()),y}function a0(){for(;Rt!==null;)Bg(Rt)}function s0(t,n){var r=kt;kt|=2;var l=zg(),c=Pg();$t!==t||Nt!==n?(eu=null,tu=hn()+500,Ga(t,n)):qa=Tr(t,n);t:do try{if(Ht!==0&&Rt!==null){n=Rt;var f=ln;e:switch(Ht){case 1:Ht=0,ln=null,Qa(t,n,f,1);break;case 2:case 9:if($d(f)){Ht=0,ln=null,qg(n);break}n=function(){Ht!==2&&Ht!==9||$t!==t||(Ht=7),Zn(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:$d(f)?(Ht=0,ln=null,qg(n)):(Ht=0,ln=null,Qa(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Tp(y)){Ht=0,ln=null;var b=E.sibling;if(b!==null)Rt=b;else{var P=E.return;P!==null?(Rt=P,iu(P)):Rt=null}break e}}Ht=0,ln=null,Qa(t,n,f,5);break;case 6:Ht=0,ln=null,Qa(t,n,f,6);break;case 8:Vh(),se=6;break t;default:throw Error(s(462))}}l0();break}catch(G){Lg(t,G)}while(!0);return pi=Hr=null,H.H=l,H.A=c,kt=r,Rt!==null?0:($t=null,Nt=0,bo(),se)}function l0(){for(;Rt!==null&&!_s();)Bg(Rt)}function Bg(t){var n=fg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?iu(t):Rt=n}function qg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=sg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Fc(n);default:mg(r,n),n=Rt=jd(n,bi),n=fg(r,n,bi)}t.memoizedProps=t.pendingProps,n===null?iu(t):Rt=n}function Qa(t,n,r,l){pi=Hr=null,Fc(n),La=null,rl=0;var c=n.return;try{if(Zv(t,c,n,r,Nt)){se=1,Ko(t,yn(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;se=1,Ko(t,yn(r,t.current)),Rt=null;return}n.flags&32768?(Pt||l===1?t=!0:qa||(Nt&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jg(n,t)):iu(n)}function iu(t){var n=t;do{if((n.flags&32768)!==0){jg(n,Xi);return}t=n.return;var r=Jv(n.alternate,n,bi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);se===0&&(se=5)}function jg(t,n){do{var r=Wv(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);se=6,Rt=null}function kg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ru();while(Ue!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Tc,bs(t,r,f,y,E,b),t===$t&&(Rt=$t=null,Nt=0),ka=n,Ji=t,Ha=r,wh=f,Dh=c,Og=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h0(yr,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=kt,kt|=4;try{t0(t,n,r)}finally{kt=y,et.p=c,H.T=l}}Ue=1,Hg(),Gg(),Qg()}}function Hg(){if(Ue===1){Ue=0;var t=Ji,n=ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Rg(n,t);var f=Hh,y=Nd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Id(E.ownerDocument.documentElement,E)){if(b!==null&&pc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),dt=E.textContent.length,ht=Math.min(b.start,dt),Kt=b.end===void 0?ht:Math.min(b.end,dt);!q.extend&&ht>Kt&&(y=Kt,Kt=ht,ht=y);var M=Vd(E,ht),C=Vd(E,Kt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var z=F.createRange();z.setStart(M.node,M.offset),q.removeAllRanges(),ht>Kt?(q.addRange(z),q.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),q.addRange(z))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}pu=!!kh,Hh=kh=null}finally{kt=c,et.p=l,H.T=r}}t.current=n,Ue=2}}function Gg(){if(Ue===2){Ue=0;var t=Ji,n=ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Tg(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=r}}Ue=3}}function Qg(){if(Ue===4||Ue===3){Ue=0,Jl();var t=Ji,n=ka,r=Ha,l=Og;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,ka=Ji=null,Fg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),oa(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Ha&3)!==0&&ru(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Ch?dl++:(dl=0,Ch=t):dl=0,ml(0)}}function Fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ys(n)))}function ru(t){return Hg(),Gg(),Qg(),Yg()}function Yg(){if(Ue!==5)return!1;var t=Ji,n=wh;wh=0;var r=oa(Ha),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Dh,Dh=null;var f=Ji,y=Ha;if(Ue=0,ka=Ji=null,Ha=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,Ig(f.current),Dg(f,f.current,y,r),kt=E,ml(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,H.T=l,Fg(t,n)}}function Kg(t,n,r){n=yn(r,n),n=sh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)Kg(t,t,r);else for(;n!==null;){if(n.tag===3){Kg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=yn(r,t),r=Jm(2),l=ki(n,r,2),l!==null&&(Wm(r,l,n,t),ni(l,2),Zn(l));break}}n=n.return}}function Oh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new i0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ah=!0,c.add(r),t=o0.bind(null,t,n,r),n.then(t,t))}function o0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Nt&r)===r&&(se===4||se===3&&(Nt&62914560)===Nt&&300>hn()-Rh?(kt&2)===0&&Ga(t,0):Sh|=r,ja===Nt&&(ja=0)),Zn(t)}function Xg(t,n){n===0&&(n=Ss()),t=wa(t,n),t!==null&&(ni(t,n),Zn(t))}function u0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xg(t,r)}function c0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Xg(t,r)}function h0(t,n){return gr(t,n)}var au=null,Fa=null,Mh=!1,su=!1,xh=!1,Zr=0;function Zn(t){t!==Fa&&t.next===null&&(Fa===null?au=Fa=t:Fa=Fa.next=t),su=!0,Mh||(Mh=!0,d0())}function ml(t,n){if(!xh&&su){xh=!0;do for(var r=!1,l=au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wg(l,f))}else f=Nt,f=la(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Tr(l,f)||(r=!0,Wg(l,f));l=l.next}while(r);xh=!1}}function f0(){Zg()}function Zg(){su=Mh=!1;var t=0;Zr!==0&&(T0()&&(t=Zr),Zr=0);for(var n=hn(),r=null,l=au;l!==null;){var c=l.next,f=$g(l,n);f===0?(l.next=null,r===null?au=c:r.next=c,c===null&&(Fa=r)):(r=l,(t!==0||(f&3)!==0)&&(su=!0)),l=c}ml(t)}function $g(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ts(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Nt,r=la(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Tr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&pr(l),oa(r)){case 2:case 8:r=aa;break;case 32:r=yr;break;case 268435456:r=sa;break;default:r=yr}return l=Jg.bind(null,t),r=gr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function Jg(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ru()&&t.callbackNode!==r)return null;var l=Nt;return l=la(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xg(t,l,n),$g(t,hn()),t.callbackNode!=null&&t.callbackNode===r?Jg.bind(null,t):null)}function Wg(t,n){if(ru())return null;xg(t,n,!0)}function d0(){S0(function(){(kt&6)!==0?gr(vs,f0):Zg()})}function Uh(){return Zr===0&&(Zr=As()),Zr}function tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function ep(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function m0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=tp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?tp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new ga("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var b=y?ep(c,y):new FormData(c);eh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?ep(c,y):new FormData(c),eh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Lh=0;Lh<Ec.length;Lh++){var zh=Ec[Lh],g0=zh.toLowerCase(),p0=zh[0].toUpperCase()+zh.slice(1);Cn(g0,"on"+p0)}Cn(xd,"onAnimationEnd"),Cn(Ud,"onAnimationIteration"),Cn(Ld,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Mv,"onTransitionRun"),Cn(xv,"onTransitionStart"),Cn(Uv,"onTransitionCancel"),Cn(zd,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function np(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Yo(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Yo(G)}c.currentTarget=null,f=b}}}}function wt(t,n){var r=n[ws];r===void 0&&(r=n[ws]=new Set);var l=t+"__bubble";r.has(l)||(ip(n,t,2,!1),r.add(l))}function Ph(t,n,r){var l=0;n&&(l|=4),ip(r,t,l,n)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[lu]){t[lu]=!0,Ds.forEach(function(r){r!=="selectionchange"&&(y0.has(r)||Ph(r,!1,t),Ph(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lu]||(n[lu]=!0,Ph("selectionchange",!1,n))}}function ip(t,n,r,l){switch(Dp(n)){case 2:var c=G0;break;case 8:c=Q0;break;default:c=Wh}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function qh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}oo(function(){var P=f,G=mn(r),F=[];t:{var B=Pd.get(t);if(B!==void 0){var q=ga,dt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Ta;break;case"focusin":dt="focus",q=_a;break;case"focusout":dt="blur",q=_a;break;case"beforeblur":case"afterblur":q=_a;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yo;break;case xd:case Ud:case Ld:q=va;break;case zd:q=vo;break;case"scroll":case"scrollend":q=uo;break;case"wheel":q=Aa;break;case"copy":case"cut":case"paste":q=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bs;break;case"toggle":case"beforetoggle":q=To}var ht=(n&4)!==0,Kt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?B!==null?B+"Capture":null:B;ht=[];for(var C=P,z;C!==null;){var Q=C;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Vr(C,M),Q!=null&&ht.push(pl(C,Q,z))),Kt)break;C=C.return}0<ht.length&&(B=new q(B,dt,null,r,G),F.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==li&&(dt=r.relatedTarget||r.fromElement)&&(ii(dt)||dt[fn]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(dt=r.relatedTarget||r.toElement,q=P,dt=dt?ii(dt):null,dt!==null&&(Kt=h(dt),ht=dt.tag,dt!==Kt||ht!==5&&ht!==27&&ht!==6)&&(dt=null)):(q=null,dt=P),q!==dt)){if(ht=pn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Bs,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=q==null?B:zn(q),z=dt==null?B:zn(dt),B=new ht(Q,C+"leave",q,r,G),B.target=Kt,B.relatedTarget=z,Q=null,ii(G)===P&&(ht=new ht(M,C+"enter",dt,r,G),ht.target=z,ht.relatedTarget=Kt,Q=ht),Kt=Q,q&&dt)e:{for(ht=q,M=dt,C=0,z=ht;z;z=Ya(z))C++;for(z=0,Q=M;Q;Q=Ya(Q))z++;for(;0<C-z;)ht=Ya(ht),C--;for(;0<z-C;)M=Ya(M),z--;for(;C--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=Ya(ht),M=Ya(M)}ht=null}else ht=null;q!==null&&rp(F,B,q,ht,!1),dt!==null&&Kt!==null&&rp(F,Kt,dt,ht,!0)}}t:{if(B=P?zn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Sd;else if(Ee(B))if(bd)at=Iv;else{at=Cv;var bt=Dv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Os(P.elementType)&&(at=Sd):at=Vv;if(at&&(at=at(t,P))){fi(F,at,r,G);break t}bt&&bt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zi(B,"number",B.value)}switch(bt=P?zn(P):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(Sa=bt,yc=P,ks=null);break;case"focusout":ks=yc=Sa=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Od(F,r,G);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Od(F,r,G)}var lt;if(Gn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Vt?j(t,r)&&(ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(p&&r.locale!=="ko"&&(Vt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Vt&&(lt=xs()):(qn=G,Pi="value"in qn?qn.value:qn.textContent,Vt=!0)),bt=ou(P,ft),0<bt.length&&(ft=new zs(ft,t,null,r,G),F.push({event:ft,listeners:bt}),lt?ft.data=lt:(lt=$(r),lt!==null&&(ft.data=lt)))),(lt=m?ve(t,r):It(t,r))&&(ft=ou(P,"onBeforeInput"),0<ft.length&&(bt=new zs("onBeforeInput","beforeinput",null,r,G),F.push({event:bt,listeners:ft}),bt.data=lt)),m0(F,t,P,r,G)}np(F,n)})}function pl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ou(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Vr(t,r),c!=null&&l.unshift(pl(t,c,f)),c=Vr(t,n),c!=null&&l.push(pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Vr(r,f),P!=null&&y.unshift(pl(r,P,b))):c||(P=Vr(r,f),P!=null&&y.push(pl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var _0=/\r\n?/g,v0=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(_0,`
`).replace(v0,"")}function sp(t,n){return n=ap(n),ap(t)===n}function uu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Ns(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ma(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ma(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=uu);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cc.get(r)||r,Li(t,r,l))}}function jh(t,n,r,l,c,f){switch(r){case"style":Ns(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Li(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":wt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}wr(t,f,E,b,P,y,c,!1),da(t);return;case"select":wt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):r!=null&&si(t,!!l,r,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}Dr(t,l,c,f),da(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)wt(gl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Os(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&jh(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function E0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Yt(t,n,B,q,l,F)}}en(t,y,E,b,P,G,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?si(t,!!r,B,!1):!!l!=!!r&&(n!=null?si(t,!!r,n,!0):si(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,q);return;case"option":for(var dt in r)if(B=r[dt],r.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Yt(t,n,dt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)B=r[ht],r.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(Os(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&jh(t,n,Kt,void 0,l,B);for(G in l)B=l[G],q=r[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||jh(t,n,G,B,l,q);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Yt(t,n,F,B,l,q)}var kh=null,Hh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function op(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qh=null;function T0(){var t=window.event;return t&&t.type==="popstate"?t===Qh?!1:(Qh=t,!0):(Qh=null,!1)}var up=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(t){return cp.resolve(null).then(t).catch(b0)}:up;function b0(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function hp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&yl(y.documentElement),r&2&&yl(y.body),r&4)for(r=y.head,yl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ar]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Rl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Rl(n)}function Fh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Fh(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function R0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function w0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=In(t.nextSibling),t===null))return null;return t}function Yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function D0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Kh=null;function fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function dp(t,n,r){switch(n=cu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Sn=new Map,mp=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=et.d;et.d={f:C0,r:V0,D:I0,C:N0,L:O0,m:M0,X:U0,S:x0,M:L0};function C0(){var t=Ri.f(),n=nu();return t||n}function V0(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?xm(n):Ri.r(t)}var Ka=typeof document>"u"?null:document;function gp(t,n,r){var l=Ka;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),mp.has(c)||(mp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function I0(t){Ri.D(t),gp("dns-prefetch",t,null)}function N0(t,n){Ri.C(t,n),gp("preconnect",t,n)}function O0(t,n,r){Ri.L(t,n,r);var l=Ka;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=Xa(t);break;case"script":f=Za(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(_l(f))||n==="script"&&l.querySelector(vl(f))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function M0(t,n){Ri.m(t,n);var r=Ka;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vl(f)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function x0(t,n,r){Ri.S(t,n,r);var l=Ka;if(l&&t){var c=Ye(l).hoistableStyles,f=Xa(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(_l(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(f))&&Xh(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function U0(t,n){Ri.X(t,n);var r=Ka;if(r&&t){var l=Ye(r).hoistableScripts,c=Za(t),f=l.get(c);f||(f=r.querySelector(vl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&Zh(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function L0(t,n){Ri.M(t,n);var r=Ka;if(r&&t){var l=Ye(r).hoistableScripts,c=Za(t),f=l.get(c);f||(f=r.querySelector(vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&Zh(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function pp(t,n,r,l){var c=(c=mt.current)?hu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xa(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xa(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(_l(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),f||z0(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+fe(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function yp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function z0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function Za(t){return'[src="'+fe(t)+'"]'}function vl(t){return"script[async]"+t}function _p(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),fu(l,r.precedence,t),n.instance=l;case"stylesheet":c=Xa(r.href);var f=t.querySelector(_l(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=yp(r),(c=Sn.get(c))&&Xh(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,fu(f,r.precedence,t),n.instance=f;case"script":return f=Za(r.src),(c=t.querySelector(vl(f)))?(n.instance=c,le(c),c):(l=r,(c=Sn.get(f))&&(l=A({},r),Zh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fu(l,r.precedence,t));return n.instance}function fu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Xh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Zh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var du=null;function vp(t,n,r){if(du===null){var l=new Map,c=du=new Map;c.set(r,l)}else c=du,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ar]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Ep(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function P0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function B0(){}function q0(t,n,r){if(El===null)throw Error(s(475));var l=El;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Xa(r.href),f=t.querySelector(_l(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=yp(r),(c=Sn.get(c))&&Xh(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function j0(){if(El===null)throw Error(s(475));var t=El;return t.stylesheets&&t.count===0&&$h(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&$h(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gu=null;function $h(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gu=new Map,n.forEach(k0,t),gu=null,mu.call(t))}function k0(t,n){if(!(n.state.loading&4)){var r=gu.get(t);if(r)var l=r.get(null);else{r=new Map,gu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function H0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ap(t,n,r,l,c,f,y,E,b,P,G,F){return t=new H0(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=Oc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Lc(f),t}function Sp(t){return t?(t=Da,t):Da}function bp(t,n,r,l,c,f){c=Sp(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ki(t,l,n),r!==null&&(un(r,t,n),$s(r,t,n))}function Rp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Jh(t,n){Rp(t,n),(t=t.alternate)&&Rp(t,n)}function wp(t){if(t.tag===13){var n=wa(t,67108864);n!==null&&un(n,t,67108864),Jh(t,67108864)}}var pu=!0;function G0(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Wh(t,n,r,l)}finally{et.p=f,H.T=c}}function Q0(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Wh(t,n,r,l)}finally{et.p=f,H.T=c}}function Wh(t,n,r,l){if(pu){var c=tf(l);if(c===null)qh(t,n,l,yu,r),Cp(t,l);else if(Y0(c,t,n,r,l))l.stopPropagation();else if(Cp(t,l),n&4&&-1<F0.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Rn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Zn(f),(kt&6)===0&&(tu=hn()+500,ml(0))}}break;case 13:E=wa(f,2),E!==null&&un(E,f,2),nu(),Jh(f,2)}if(f=tf(l),f===null&&qh(t,n,l,yu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else qh(t,n,l,null,r)}}function tf(t){return t=mn(t),ef(t)}var yu=null;function ef(t){if(yu=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yu=t,null}function Dp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case vs:return 2;case aa:return 8;case yr:case ac:return 32;case sa:return 268435456;default:return 32}default:return 32}}var nf=!1,er=null,nr=null,ir=null,Al=new Map,Sl=new Map,rr=[],F0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cp(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function bl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&wp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Y0(t,n,r,l,c){switch(n){case"focusin":return er=bl(er,t,n,r,l,c),!0;case"dragenter":return nr=bl(nr,t,n,r,l,c),!0;case"mouseover":return ir=bl(ir,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Al.set(f,bl(Al.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Sl.set(f,bl(Sl.get(f)||null,t,n,r,l,c)),!0}return!1}function Vp(t){var n=ii(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,eo(t.priority,function(){if(r.tag===13){var l=on();l=Oi(l);var c=wa(r,l);c!==null&&un(c,r,l),Jh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=tf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);li=l,r.target.dispatchEvent(l),li=null}else return n=Ln(r),n!==null&&wp(n),t.blockedOn=r,!1;n.shift()}return!0}function Ip(t,n,r){_u(t)&&r.delete(n)}function K0(){nf=!1,er!==null&&_u(er)&&(er=null),nr!==null&&_u(nr)&&(nr=null),ir!==null&&_u(ir)&&(ir=null),Al.forEach(Ip),Sl.forEach(Ip)}function vu(t,n){t.blockedOn===n&&(t.blockedOn=null,nf||(nf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,K0)))}var Eu=null;function Np(t){Eu!==t&&(Eu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Eu===t&&(Eu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ef(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,eh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Rl(t){function n(b){return vu(b,t)}er!==null&&vu(er,t),nr!==null&&vu(nr,t),ir!==null&&vu(ir,t),Al.forEach(n),Sl.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)Vp(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Np(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(ef(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Np(r)}}}function rf(t){this._internalRoot=t}Tu.prototype.render=rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=on();bp(r,l,t,n,null,null)},Tu.prototype.unmount=rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;bp(t.current,2,null,t,null,null),nu(),n[fn]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&Vp(t)}};var Op=e.version;if(Op!=="19.1.1")throw Error(s(527,Op,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var X0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{re=Au.inject(X0),jt=Au}catch{}}return Dl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Km,f=Xm,y=Zm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ap(t,1,!1,null,null,r,l,c,f,y,E,null),t[fn]=n.current,Bh(t),new rf(n)},Dl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Km,y=Xm,E=Zm,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Ap(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Sp(null),r=n.current,l=on(),l=Oi(l),c=ji(l),c.callback=null,ki(r,c,l),r=l,n.current.lanes=r,ni(n,r),Zn(n),t[fn]=n.current,Bh(t),new Tu(n)},Dl.version="19.1.1",Dl}var kp;function sE(){if(kp)return lf.exports;kp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),lf.exports=aE(),lf.exports}var lE=sE();const oE=Hy(lE),Gy=()=>({appId:"ca-app-pub-9300246128306730~3854820499",bannerId:"ca-app-pub-9300246128306730/2896321418",interstitialId:"ca-app-pub-9300246128306730/6309593444"}),uE=()=>{const a=Gy();console.log("MobApp initialized with app ID:",a.appId)},cE=a=>{const e=Gy();console.log("Showing banner ad with ID:",e.bannerId,"in container:",a)},hE=()=>{console.log("Hiding banner ad")};var Nn=(a=>(a.Home="HOME",a.Game="GAME",a.Store="STORE",a))(Nn||{});const sr=({children:a,variant:e="primary",size:i="normal",fullWidth:s=!1,className:o="",...h})=>{const d="font-bold rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 flex items-center justify-center",g={primary:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white hover:opacity-90 shadow-lg shadow-cyan-500/20 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-cyan-400",secondary:"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-slate-500"},_={normal:"py-2 px-4 text-base",large:"py-3 px-6 text-lg"},v=s?"w-full":"w-auto",A=`${d} ${g[e]} ${_[i]} ${v} ${o}`;return W.jsx("button",{className:A,...h,children:a})},fE=({navigate:a,onSuggestClick:e})=>{const[i,s]=pe.useState(!1),o=async()=>{const h="https://play.google.com/store/apps/details?id=com.yonunca.app";if(navigator.share)try{await navigator.share({title:"Yo Nunca",text:"¡Descarga Yo Nunca y juega con tus amigos!",url:h})}catch(d){console.error("Error compartiendo la app:",d)}else try{await navigator.clipboard.writeText(h),s(!0),setTimeout(()=>s(!1),2e3)}catch(d){console.error("No se pudo copiar al portapapeles",d)}};return W.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 animate-fadeIn",children:[W.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500 mb-4 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Yo Nunca"}),W.jsx("p",{className:"text-slate-300 mb-12 text-lg",children:"El juego para revelar secretos."}),W.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[W.jsxs(sr,{onClick:()=>a(Nn.Game),fullWidth:!0,size:"large",children:[W.jsx("i",{className:"fas fa-play mr-2"}),"Iniciar Partida"]}),W.jsxs(sr,{onClick:e,variant:"secondary",fullWidth:!0,children:[W.jsx("i",{className:"fas fa-lightbulb mr-2"}),"Sugerir Frase"]}),W.jsxs(sr,{onClick:()=>a(Nn.Store),variant:"secondary",fullWidth:!0,children:[W.jsx("i",{className:"fas fa-store mr-2"}),"Tienda"]}),W.jsxs(sr,{onClick:o,variant:"secondary",fullWidth:!0,children:[W.jsx("i",{className:"fas fa-share-alt mr-2"}),i?"¡Enlace copiado!":"Compartir App"]})]})]})};var Hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},dE=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Fy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,O=(h&3)<<4|g>>4;let U=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(U=64)),s.push(i[A],i[O],i[U],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Qy(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):dE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const O=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||O==null)throw new mE;const U=h<<2|g>>4;if(s.push(U),v!==64){const k=g<<4&240|v>>2;if(s.push(k),O!==64){const J=v<<6&192|O;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class mE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gE=function(a){const e=Qy(a);return Fy.encodeByteArray(e,!0)},Ou=function(a){return gE(a).replace(/\./g,"")},pE=function(a){try{return Fy.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=()=>yE().__FIREBASE_DEFAULTS__,vE=()=>{if(typeof process>"u"||typeof Hp>"u")return;const a=Hp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},EE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&pE(a[1]);return e&&JSON.parse(e)},Hf=()=>{try{return _E()||vE()||EE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},TE=a=>{var e,i;return(i=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},AE=a=>{const e=TE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Yy=()=>{var a;return(a=Hf())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Ou(JSON.stringify(i)),Ou(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){var a;const e=(a=Hf())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DE(){return!wE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function VE(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="FirebaseError";class fs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=IE,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ky.prototype.create)}}class Ky{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?NE(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new fs(o,g,s)}}function NE(a,e){return a.replace(OE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const OE=/\{\$([^}]+)}/g;function Ef(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Gp(h)&&Gp(d)){if(!Ef(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Gp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(a){return a&&a._delegate?a._delegate:a}class zl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new SE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UE(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xE(a){return a===$r?void 0:a}function UE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ME(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const zE={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},PE=Mt.INFO,BE={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},qE=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=BE[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=PE,this._logHandler=qE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const jE=(a,e)=>e.some(i=>a instanceof i);let Qp,Fp;function kE(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HE(){return Fp||(Fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zy=new WeakMap,Tf=new WeakMap,$y=new WeakMap,hf=new WeakMap,Gf=new WeakMap;function GE(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(or(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zy.set(i,a)}).catch(()=>{}),Gf.set(e,a),e}function QE(a){if(Tf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Tf.set(a,e)}let Af={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Tf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||$y.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function FE(a){Af=a(Af)}function YE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(ff(this),e,...i);return $y.set(s,e.sort?e.sort():[e]),or(s)}:HE().includes(a)?function(...e){return a.apply(ff(this),e),or(Zy.get(this))}:function(...e){return or(a.apply(ff(this),e))}}function KE(a){return typeof a=="function"?YE(a):(a instanceof IDBTransaction&&QE(a),jE(a,kE())?new Proxy(a,Af):a)}function or(a){if(a instanceof IDBRequest)return GE(a);if(hf.has(a))return hf.get(a);const e=KE(a);return e!==a&&(hf.set(a,e),Gf.set(e,a)),e}const ff=a=>Gf.get(a);function XE(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=or(d);return s&&d.addEventListener("upgradeneeded",_=>{s(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const ZE=["get","getKey","getAll","getAllKeys","count"],$E=["put","add","delete","clear"],df=new Map;function Yp(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=$E.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZE.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return df.set(e,h),h}FE(a=>({...a,get:(e,i,s)=>Yp(e,i)||a.get(e,i,s),has:(e,i)=>!!Yp(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WE(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function WE(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sf="@firebase/app",Kp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Xy("@firebase/app"),tT="@firebase/app-compat",eT="@firebase/analytics-compat",nT="@firebase/analytics",iT="@firebase/app-check-compat",rT="@firebase/app-check",aT="@firebase/auth",sT="@firebase/auth-compat",lT="@firebase/database",oT="@firebase/data-connect",uT="@firebase/database-compat",cT="@firebase/functions",hT="@firebase/functions-compat",fT="@firebase/installations",dT="@firebase/installations-compat",mT="@firebase/messaging",gT="@firebase/messaging-compat",pT="@firebase/performance",yT="@firebase/performance-compat",_T="@firebase/remote-config",vT="@firebase/remote-config-compat",ET="@firebase/storage",TT="@firebase/storage-compat",AT="@firebase/firestore",ST="@firebase/vertexai-preview",bT="@firebase/firestore-compat",RT="firebase",wT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",DT={[Sf]:"fire-core",[tT]:"fire-core-compat",[nT]:"fire-analytics",[eT]:"fire-analytics-compat",[rT]:"fire-app-check",[iT]:"fire-app-check-compat",[aT]:"fire-auth",[sT]:"fire-auth-compat",[lT]:"fire-rtdb",[oT]:"fire-data-connect",[uT]:"fire-rtdb-compat",[cT]:"fire-fn",[hT]:"fire-fn-compat",[fT]:"fire-iid",[dT]:"fire-iid-compat",[mT]:"fire-fcm",[gT]:"fire-fcm-compat",[pT]:"fire-perf",[yT]:"fire-perf-compat",[_T]:"fire-rc",[vT]:"fire-rc-compat",[ET]:"fire-gcs",[TT]:"fire-gcs-compat",[AT]:"fire-fst",[bT]:"fire-fst-compat",[ST]:"fire-vertex","fire-js":"fire-js",[RT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Map,CT=new Map,Rf=new Map;function Xp(a,e){try{a.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function xu(a){const e=a.name;if(Rf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,a);for(const i of Mu.values())Xp(i,a);for(const i of CT.values())Xp(i,a);return!0}function VT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Ky("app","Firebase",IT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=wT;function Jy(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=Yy()),!i)throw ur.create("no-options");const h=Mu.get(o);if(h){if(Ef(i,h.options)&&Ef(s,h.config))return h;throw ur.create("duplicate-app",{appName:o})}const d=new LE(o);for(const _ of Rf.values())d.addComponent(_);const g=new NT(i,s,d);return Mu.set(o,g),g}function MT(a=bf){const e=Mu.get(a);if(!e&&a===bf&&Yy())return Jy();if(!e)throw ur.create("no-app",{appName:a});return e}function es(a,e,i){var s;let o=(s=DT[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(g.join(" "));return}xu(new zl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebase-heartbeat-database",UT=1,Pl="firebase-heartbeat-store";let mf=null;function Wy(){return mf||(mf=XE(xT,UT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(a=>{throw ur.create("idb-open",{originalErrorMessage:a.message})})),mf}async function LT(a){try{const i=(await Wy()).transaction(Pl),s=await i.objectStore(Pl).get(t_(a));return await i.done,s}catch(e){if(e instanceof fs)Ci.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function Zp(a,e){try{const s=(await Wy()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,t_(a)),await s.done}catch(i){if(i instanceof fs)Ci.warn(i.message);else{const s=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(s.message)}}}function t_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=1024,PT=720*60*60*1e3;class BT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=$p();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h)?void 0:(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=PT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=$p(),{heartbeatsToSend:s,unsentEntries:o}=qT(this._heartbeatsCache.heartbeats),h=Ou(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ci.warn(i),""}}}function $p(){return new Date().toISOString().substring(0,10)}function qT(a,e=zT){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Jp(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Jp(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class jT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?VE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jp(a){return Ou(JSON.stringify({version:2,heartbeats:a})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(a){xu(new zl("platform-logger",e=>new JE(e),"PRIVATE")),xu(new zl("heartbeat",e=>new BT(e),"PRIVATE")),es(Sf,Kp,a),es(Sf,Kp,"esm2017"),es("fire-js","")}kT("");var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,e_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function w(){}w.prototype=S.prototype,I.D=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(V,N,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],N=I.g[2];var x=I.g[3],R=S+(x^w&(N^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^x&(w^N))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+x&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var w=S-this.blockSize,V=this.B,N=this.h,x=0;x<S;){if(N==0)for(;x<=w;)o(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<S;)if(V[N++]=I.charCodeAt(x++),N==this.blockSize){o(this,V),N=0;break}}else for(;x<S;)if(V[N++]=I[x++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var w=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=w&255,w/=256;for(this.u(I),I=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)I[w++]=this.g[S]>>>V&255;return I};function h(I,S){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function d(I,S){this.h=S;for(var w=[],V=!0,N=I.length-1;0<=N;N--){var x=I[N]|0;V&&x==S||(w[N]=x,V=!1)}this.g=w}var g={};function _(I){return-128<=I&&128>I?h(I,function(S){return new d([S|0],0>S?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return O;if(0>I)return tt(v(-I));for(var S=[],w=1,V=0;I>=w;V++)S[V]=I/w|0,w*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=O,N=0;N<I.length;N+=8){var x=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+x),S);8>x?(x=v(Math.pow(S,x)),V=V.j(x).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var O=_(0),U=_(1),k=_(16777216);a=d.prototype,a.m=function(){if(rt(this))return-tt(this).m();for(var I=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);I+=(0<=V?V:4294967296+V)*S,S*=4294967296}return I},a.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(rt(this))return"-"+tt(this).toString(I);for(var S=v(Math.pow(I,6)),w=this,V="";;){var N=Bt(w,S).g;w=Dt(w,N.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=N,J(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},a.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function rt(I){return I.h==-1}a.l=function(I){return I=Dt(this,I),rt(I)?-1:J(I)?0:1};function tt(I){for(var S=I.g.length,w=[],V=0;V<S;V++)w[V]=~I.g[V];return new d(w,~I.h).add(U)}a.abs=function(){return rt(this)?tt(this):this},a.add=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0,N=0;N<=S;N++){var x=V+(this.i(N)&65535)+(I.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,x&=65535,R&=65535,w[N]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Dt(I,S){return I.add(tt(S))}a.j=function(I){if(J(this)||J(I))return O;if(rt(this))return rt(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(rt(I))return tt(this.j(tt(I)));if(0>this.l(k)&&0>I.l(k))return v(this.m()*I.m());for(var S=this.g.length+I.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<I.g.length;N++){var x=this.i(V)>>>16,R=this.i(V)&65535,Ne=I.i(N)>>>16,ie=I.i(N)&65535;w[2*V+2*N]+=R*ie,At(w,2*V+2*N),w[2*V+2*N+1]+=x*ie,At(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Ne,At(w,2*V+2*N+1),w[2*V+2*N+2]+=x*Ne,At(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function At(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function _t(I,S){this.g=I,this.h=S}function Bt(I,S){if(J(S))throw Error("division by zero");if(J(I))return new _t(O,O);if(rt(I))return S=Bt(tt(I),S),new _t(tt(S.g),tt(S.h));if(rt(S))return S=Bt(I,tt(S)),new _t(tt(S.g),S.h);if(30<I.g.length){if(rt(I)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,V=S;0>=V.l(I);)w=vt(w),V=vt(V);var N=Lt(w,1),x=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!J(V);){var R=x.add(V);0>=R.l(I)&&(N=N.add(w),x=R),V=Lt(V,1),w=Lt(w,1)}return S=Dt(I,N.j(S)),new _t(N,S)}for(N=O;0<=I.l(S);){for(w=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=v(w),R=x.j(S);rt(R)||0<R.l(I);)w-=V,x=v(w),R=x.j(S);J(x)&&(x=U),N=N.add(x),I=Dt(I,R)}return new _t(N,I)}a.A=function(I){return Bt(this,I).h},a.and=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&I.i(V);return new d(w,this.h&I.h)},a.or=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|I.i(V);return new d(w,this.h|I.h)},a.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^I.i(V);return new d(w,this.h^I.h)};function vt(I){for(var S=I.g.length+1,w=[],V=0;V<S;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(w,I.h)}function Lt(I,S){var w=S>>5;S%=32;for(var V=I.g.length-w,N=[],x=0;x<V;x++)N[x]=0<S?I.i(x+w)>>>S|I.i(x+w+1)<<32-S:I.i(x+w);return new d(N,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,e_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Wr=d}).apply(typeof Wp<"u"?Wp:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n_,Vl,i_,Du,wf,r_,a_,s_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function O(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function U(u,m,p){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,U.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var $=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)$[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,$)}}function rt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let $=0;$<j;$++)u[L+$]=T[$]}else u.push(T)}}class Dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Bt(u){return Bt[" "](u),u}Bt[" "]=function(){};var vt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Dt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,zt=new Ne,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function St(u,m){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Bt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}J(St,Z);var mt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ni(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,m,p,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var $=gr(u,m,T,L);return-1<$?(m=u[$],p||(m.fa=!1)):(m=new xn(m,this.src,j,!!T,L),m.fa=p,u.push(m)),m};function mr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Ni(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function gr(u,m,p,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return L}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),_s={};function Jl(u,m,p,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Jl(u,m[j],p,T,L);return null}return p=Wl(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,L):hn(u,m,p,!1,T,L)}function hn(u,m,p,T,L,j){if(!m)throw Error("Invalid event type");var $=v(L)?!!L.capture:!!L,Vt=sa(u);if(Vt||(u[pr]=Vt=new ti(u)),p=Vt.add(m,p,T,$,j),p.proxy)return p;if(T=rc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(yr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function rc(){function u(p){return m.call(u.src,u.listener,p)}const m=ac;return u}function vs(u,m,p,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)vs(u,m[j],p,T,L);else T=v(T)?!!T.capture:!!T,p=Wl(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=gr(j,p,T,L),-1<p&&(Ni(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=sa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gr(m,p,T,L)),(p=-1<u?m[u]:null)&&aa(p))}function aa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])mr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(yr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=sa(m))?(mr(p,u),p.h==0&&(p.src=null,m[pr]=null)):Ni(u)}}}function yr(u){return u in _s?_s[u]:_s[u]="on"+u}function ac(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&aa(u),u=p.call(T,m)}return u}function sa(u){return u=u[pr],u instanceof ti?u:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(m){return u.handleEvent(m)}),u[Es])}function re(){nt.call(this),this.i=new ti(this),this.M=this,this.F=null}J(re,nt),re.prototype[be]=!0,re.prototype.removeEventListener=function(u,m,p,T){vs(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Z(m,u);else if(m instanceof Z)m.target=m.target||u;else{var L=m;m=new Z(T,u),V(m,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var $=m.g=p[j];L=tn($,T,!0,m)&&L}if($=m.g=u,L=tn($,T,!0,m)&&L,L=tn($,T,!1,m)&&L,p)for(j=0;j<p.length;j++)$=m.g=p[j],L=tn($,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ni(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function tn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var $=m[j];if($&&!$.da&&$.capture==p){var Vt=$.listener,ve=$.ha||$.src;$.fa&&mr(u.i,$),L=Vt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(u,m,p){if(typeof u=="function")p&&(u=U(u,p));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function to(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,to(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){nt.call(this),this.h=u,this.g={}}J(_r,nt);var vr=[];function Er(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&aa(m)},u),u.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Er(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,la=g.JSON.parse,Tr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ts(){}Ts.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Ss(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){Z.call(this,"d")}J(ni,Z);function bs(){Z.call(this,"c")}J(bs,Z);var Un={},Rs=null;function Oi(){return Rs=Rs||new re}Un.La="serverreachability";function oa(u){Z.call(this,Un.La,u)}J(oa,Z);function Mi(u){const m=Oi();jt(m,new oa(m))}Un.STAT_EVENT="statevent";function eo(u,m){Z.call(this,Un.STAT_EVENT,u),this.stat=m}J(eo,Z);function Wt(u){const m=Oi();jt(m,new eo(m,u))}Un.Ma="timingevent";function _e(u,m){Z.call(this,Un.Ma,u),this.size=m}J(_e,Z);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function ws(u,m,p,T,L,j){u.info(function(){if(u.g)if(j)for(var $="",Vt=j.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var we=It[0];It=It[1];var Ee=we.split("_");$=2<=Ee.length&&Ee[1]=="type"?$+(we+"="+It+"&"):$+(we+"=redacted&")}}else $=null;else $=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+$})}function lc(u,m,p,T,L,j,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+j+" "+$})}function xi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ar(u,p)+(T?" "+T:"")})}function no(u,m){u.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function Ar(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return Rn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}J(zn,Ts),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ds={},ua={};function wn(u,m,p){u.L=1,u.v=Dr(en(m)),u.m=p,u.P=!0,ri(u,null)}function ri(u,m){u.F=Date.now(),Sr(u),u.A=en(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ms(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=vo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new sc(U(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(vr[0]=L.toString()),L=vr);for(var j=0;j<L.length;j++){var $=Jl(p,L[j],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Mi(),ws(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&pn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=pn(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||co(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=fi?Mi(3):Mi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(io(this)){var T=co(this.g);u="";var L=T.length,j=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Pn(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,lc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Vt)){var It=Vt;break e}}It=null}if(p=It)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),Pn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=ro(this,$),Me==ua){Ee==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ds){this.s=4,Wt(15),xi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Me,null),br(this,Me);if(io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||$.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,$,"[Invalid Chunked Response]"),Oe(this),Pn(this);else if(0<$.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ur(we),we.M=!0,Wt(11))}}else xi(this.i,this.l,$,null),br(this,$);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?po(this.j,this):(this.o=!1,Sr(this)))}else fc(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),Pn(this)}}}catch{}finally{}};function io(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ro(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ua:(p=Number(m.substring(p,T)),isNaN(p)?Ds:(T+=1,T+p>m.length?ua:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Sr(u){u.S=Date.now()+u.I,ao(u,u.I)}function ao(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(U(u.ba,u),m)}function Li(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(no(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Oe(this),this.s=2,Pn(this)):ao(this,this.S-u)};function Pn(u){u.j.G==0||u.J||po(u.j,u)}function Oe(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Er(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function br(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Cs(p.h,u))){if(!u.K&&Cs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ta(p),va(p);else break t;Ps(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(U(p.Za,p),6e3));if(1>=ha(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else hi(p,11)}else if((u.K||p.g==u)&&Ta(p),!At(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const we=It[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const Ee=It[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const fi=It[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var j=T.h;j.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(fa(j,j.h),j.h=null))}if(T.D){const qs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(T.ya=qs,Qt(T.I,T.D,qs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=u;if(T.qa=_o(T,T.J?T.ia:null,T.W),$.K){Ke(T.h,$);var Vt=$,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Li(Vt),Sr(Vt)),T.g=$}else mo(T);0<p.i.length&&Ea(p)}else It[0]!="stop"&&It[0]!="close"||hi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?hi(p,7):Ls(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Mi(4)}catch{}}var so=class{constructor(u,m){this.g=u,this.map=m}};function ai(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ha(u){return u.h?1:u.g?u.g.size:0}function Cs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fa(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ai.prototype.cancel=function(){if(this.i=Vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return rt(u.i)}function oc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function da(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Is(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=da(u),T=oc(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],p&&p[j],u)}var Rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var j=u[p].substring(0,T);L=u[p].substring(T+1)}else j=u[p];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,wr(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var m=u.i,p=new li;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),si(this,p),this.m=u.m}else u&&(m=String(u).match(Rr))?(this.h=!1,wr(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),zi(this,m[4]),this.l=dn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}fe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Cr(m,Ns,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,Ns,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Cr(p,p.charAt(0)=="/"?cc:Os,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Cr(p,ma)),u.join("")};function en(u){return new fe(u)}function wr(u,m,p){u.j=p?dn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function si(u,m,p){m instanceof li?(u.i=m,oo(u.i,u.h)):(p||(m=Cr(m,hc)),u.i=new li(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Dr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,lo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ns=/[#\/\?@]/g,Os=/[#\?:]/g,cc=/[#\?]/g,hc=/[#\?@]/g,ma=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&uc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=li.prototype,a.add=function(u,m){mn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function oi(u,m){mn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ui(u,m){return mn(u),m=Bn(u,m),u.g.has(m)}a.forEach=function(u,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)p.push(m[T])}return p},a.V=function(u){mn(this);let m=[];if(typeof u=="string")ui(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return mn(this),this.i=null,u=Bn(this,u),ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ms(u,m,p){oi(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),rt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var L=j;$[T]!==""&&(L+="="+encodeURIComponent(String($[T]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oo(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(oi(this,T),Ms(this,L,p))},u)),u.j=m}function Vr(u,m){const p=new fn;if(g.Image){const T=new Image;T.onload=k(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dn(u,m){const p=new fn,T=new AbortController,L=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),gn(p,"TestPingServer: error",!1,m)})}function gn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ir(){this.g=new Tr}function qn(u,m,p){const T=p||"";try{Is(u,function(L,j){let $=L;v(L)&&($=Rn(L)),m.push(T+j+"="+encodeURIComponent($))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Pi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Pi,Ts),Pi.prototype.g=function(){return new ci(this.l,this.j)},Pi.prototype.i=(function(u){return function(){return u}})({});function ci(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ci,re),a=ci.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):kn(this),this.readyState==3&&xs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},a.Qa=function(u){this.g&&(this.response=u,jn(this))},a.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Us(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Us(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function qt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,re);var ga=/^https?$/i,Nr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?As(this.o):As(Ln),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){uo(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Nr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of p)this.g.setRequestHeader(j,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Or(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){uo(this,j)}};function uo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,pa(u),Hn(u)}function pa(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},a.bb=function(){ya(this)};function ya(u){if(u.h&&typeof d<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)je(u.Ea,0,u);else if(jt(u,"readystatechange"),pn(u)==4){u.h=!1;try{const $=u.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var L=String(u.D).match(Rr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!ga.test(L?L.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var j=2<pn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",pa(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){Or(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Or(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),la(m)}};function co(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fc(u){const m={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var p=N(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[L]||[];m[L]=j,j.push(p)}I(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function _a(u){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,u),this.cb=Mr("retryDelaySeedMs",1e4,u),this.Wa=Mr("forwardChannelMaxRetries",2,u),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(u&&u.concurrentRequestLimit),this.Da=new Ir,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=_a.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_o(this,null,this.W),Ea(this)};function Ls(u){if(ho(u),u.G==3){var m=u.U++,p=en(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),xr(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Dr(en(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Sr(m)}yo(u)}function va(u){u.g&&(Ur(u),u.g.cancel(),u.g=null)}function ho(u){va(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ea(u){if(!ca(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.B=0}}function dc(u,m){return ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(U(u.Ga,u,m),Bs(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),V(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=fo(this,L,m),p=en(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),xr(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Us(j)))+"&"+m:this.m&&Re(p,this.m,j)),fa(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,wn(L,p,null)):wn(L,p,m),this.G=2}}else this.G==3&&(u?zs(this,u):this.i.length==0||ca(this.h)||zs(this))};function zs(u,m){var p;m?p=m.l:p=u.U++;const T=en(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),xr(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=fo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fa(u.h,p),wn(p,T,m)}function xr(u,m){u.H&&Lt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Is({},function(p,T){Qt(m,T,p)})}function fo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?U(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const $=["count="+p];j==-1?0<p?(j=L[0].g,$.push("ofs="+j)):j=0:$.push("ofs="+j);let Vt=!0;for(let ve=0;ve<p;ve++){let It=L[ve].g;const we=L[ve].map;if(It-=j,0>It)j=Math.max(0,L[ve].g-100),Vt=!1;else try{qn(we,$,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=$.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.v=0}}function Ps(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(U(u.Fa,u),Bs(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(U(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),va(this),go(this))};function Ur(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function go(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=en(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Dr(en(m)),p.m=null,p.P=!0,ri(p,u)}a.Za=function(){this.C!=null&&(this.C=null,va(this),Ps(this),Wt(19))};function Ta(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function po(u,m){var p=null;if(u.g==m){Ta(u),Ur(u),u.g=null;var T=2}else if(Cs(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Oi(),jt(T,new _e(T,p)),Ea(u)}else mo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&dc(u,m)||T==2&&Ps(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Bs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var p=U(u.fb,u),T=u.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wr(T,"https"),Dr(T),L?Vr(T.toString(),p):Dn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),yo(u),ho(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function yo(u){if(u.G=0,u.ka=[],u.l){const m=Vs(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function _o(u,m,p){var T=p instanceof fe?en(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new fe(null);T&&wr(j,T),m&&(j.g=m),L&&zi(j,L),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),xr(u,T),T}function vo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Pi({eb:p})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eo(){}a=Eo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Aa(){}Aa.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){re.call(this),this.g=new _a(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}J(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Ls(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new so(m.Ya++,u)),m.G==3&&Ea(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Ls(this.g),delete this.g,Xe.aa.N.call(this)};function To(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(To,ni);function Ao(){bs.call(this),this.status=1}J(Ao,bs);function Gn(u){this.g=u}J(Gn,Eo),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new To(u))},Gn.prototype.sa=function(u){jt(this.g,new Ao)},Gn.prototype.ra=function(){jt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,s_=function(){return new Aa},a_=function(){return Oi()},r_=Un,wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Du=Ui,ii.COMPLETE="complete",i_=ii,Ss.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",re.prototype.listen=re.prototype.K,Vl=Ss,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,n_=qt}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const ty="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Xy("@firebase/firestore");function Cl(){return ta.logLevel}function st(a,...e){if(ta.logLevel<=Mt.DEBUG){const i=e.map(Qf);ta.debug(`Firestore (${ds}): ${a}`,...i)}}function Vi(a,...e){if(ta.logLevel<=Mt.ERROR){const i=e.map(Qf);ta.error(`Firestore (${ds}): ${a}`,...i)}}function rs(a,...e){if(ta.logLevel<=Mt.WARN){const i=e.map(Qf);ta.warn(`Firestore (${ds}): ${a}`,...i)}}function Qf(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(a="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+a;throw Vi(e),new Error(e)}function Gt(a,e){a||gt()}function yt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class GT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class QT{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new wi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new wi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new l_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class FT{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YT{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new FT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class KT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new KT(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=ZT(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%e.length))}return s}}function Ut(a,e){return a<e?-1:a>e?1:0}function as(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new Se(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Se(0,0))}static max(){return new pt(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(),s===void 0?s=e.length-i:s>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=e.get(o),d=i.get(o);if(h<d)return-1;if(h>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Jt extends Bl{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const $T=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Bl{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return $T.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}function JT(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new hr(o,ut.empty(),e)}function WT(a){return new hr(a.readTime,a.key,-1)}class hr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new hr(pt.min(),ut.empty(),-1)}static max(){return new hr(pt.max(),ut.empty(),-1)}}function tA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,e.documentKey),i!==0?i:Ut(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==eA)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(_=>s(_)))})),d=!0,h===o&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((o=>o?X.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++g,g===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function iA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ff.oe=-1;function Qu(a){return a==null}function Uu(a){return a===0&&1/a==-1/0}function rA(a){return typeof a=="number"&&Number.isInteger(a)&&!Uu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ms(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function u_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,s,o,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ny(this.data.getIterator())}getIteratorFrom(e){return new ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new On([])}unionWith(e){let i=new Be(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return as(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new c_("Invalid base64 string: "+h):h}})(e);return new qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const aA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=aA.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ea(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Kf(a){const e=a.mapValue.fields.__previous_value__;return Yf(e)?Kf(e):e}function ql(a){const e=fr(a.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,i,s,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class jl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru={mapValue:{}};function na(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Yf(a)?4:oA(a)?9007199254740991:lA(a)?10:11:gt()}function Wn(a,e){if(a===e)return!0;const i=na(a);if(i!==na(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ql(a).isEqual(ql(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=fr(o.timestampValue),g=fr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return ea(o.bytesValue).isEqual(ea(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ce(o.doubleValue),g=ce(h.doubleValue);return d===g?Uu(d)===Uu(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return as(a.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(ey(d)!==ey(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Wn(d[_],g[_])))return!1;return!0})(a,e);default:return gt()}}function kl(a,e){return(a.values||[]).find((i=>Wn(i,e)))!==void 0}function ss(a,e){if(a===e)return 0;const i=na(a),s=na(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(a,e);case 3:return iy(a.timestampValue,e.timestampValue);case 4:return iy(ql(a),ql(e));case 5:return Ut(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=ea(h),_=ea(d);return g.compareTo(_)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Ut(g[v],_[v]);if(A!==0)return A}return Ut(g.length,_.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Ut(ce(h.latitude),ce(d.latitude));return g!==0?g:Ut(ce(h.longitude),ce(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return ry(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var g,_,v,A;const O=h.fields||{},U=d.fields||{},k=(g=O.value)===null||g===void 0?void 0:g.arrayValue,J=(_=U.value)===null||_===void 0?void 0:_.arrayValue,rt=Ut(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((A=J==null?void 0:J.values)===null||A===void 0?void 0:A.length)||0);return rt!==0?rt:ry(k,J)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ru.mapValue&&d===Ru.mapValue)return 0;if(h===Ru.mapValue)return 1;if(d===Ru.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let O=0;O<_.length&&O<A.length;++O){const U=Ut(_[O],A[O]);if(U!==0)return U;const k=ss(g[_[O]],v[A[O]]);if(k!==0)return k}return Ut(_.length,A.length)})(a.mapValue,e.mapValue);default:throw gt()}}function iy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ut(a,e);const i=fr(a),s=fr(e),o=Ut(i.seconds,s.seconds);return o!==0?o:Ut(i.nanos,s.nanos)}function ry(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ss(i[o],s[o]);if(h)return h}return Ut(i.length,s.length)}function ls(a){return Df(a)}function Df(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=fr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ea(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ut.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Df(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Df(i.fields[d])}`;return o+"}"})(a.mapValue):gt()}function ay(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Cf(a){return!!a&&"integerValue"in a}function Xf(a){return!!a&&"arrayValue"in a}function sy(a){return!!a&&"nullValue"in a}function ly(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Cu(a){return!!a&&"mapValue"in a}function lA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Ml(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return ms(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ml(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ml(a.arrayValue.values[i]);return e}return Object.assign({},a)}function oA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Cu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(i)}setAll(e){let i=Pe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Ml(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Cu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Cu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ms(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new bn(Ml(this.value))}}function h_(a){const e=[];return ms(a.fields,((i,s)=>{const o=new Pe([i]);if(Cu(s)){const h=h_(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,pt.min(),pt.min(),pt.min(),bn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,pt.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,pt.min(),pt.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,pt.min(),pt.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,i){this.position=e,this.inclusive=i}}function oy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=ss(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function uy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Wn(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,i="asc"){this.field=e,this.dir=i}}function uA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{}class ye extends f_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new hA(e,i,s):i==="array-contains"?new mA(e,s):i==="in"?new gA(e,s):i==="not-in"?new pA(e,s):i==="array-contains-any"?new yA(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new fA(e,s):new dA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ss(i,this.value)):i!==null&&na(this.value)===na(i)&&this.matchesComparison(ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends f_{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Mn(e,i)}matches(e){return d_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d_(a){return a.op==="and"}function m_(a){return cA(a)&&d_(a)}function cA(a){for(const e of a.filters)if(e instanceof Mn)return!1;return!0}function Vf(a){if(a instanceof ye)return a.field.canonicalString()+a.op.toString()+ls(a.value);if(m_(a))return a.filters.map((e=>Vf(e))).join(",");{const e=a.filters.map((i=>Vf(i))).join(",");return`${a.op}(${e})`}}function g_(a,e){return a instanceof ye?(function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&Wn(s.value,o.value)})(a,e):a instanceof Mn?(function(s,o){return o instanceof Mn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,g)=>h&&g_(d,o.filters[g])),!0):!1})(a,e):void gt()}function p_(a){return a instanceof ye?(function(i){return`${i.field.canonicalString()} ${i.op} ${ls(i.value)}`})(a):a instanceof Mn?(function(i){return i.op.toString()+" {"+i.getFilters().map(p_).join(" ,")+"}"})(a):"Filter"}class hA extends ye{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class fA extends ye{constructor(e,i){super(e,"in",i),this.keys=y_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=y_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function y_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>ut.fromName(s.referenceValue)))}class mA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xf(i)&&kl(i.arrayValue,this.value)}}class gA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class pA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!kl(this.value.arrayValue,i)}}class yA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xf(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.ue=null}}function cy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new _A(a,e,i,s,o,h,d)}function Zf(a){const e=yt(a);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Vf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Qu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ls(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ls(s))).join(",")),e.ue=i}return e.ue}function $f(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!uA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!g_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!uy(a.startAt,e.startAt)&&uy(a.endAt,e.endAt)}function If(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vA(a,e,i,s,o,h,d,g){return new Yl(a,e,i,s,o,h,d,g)}function Jf(a){return new Yl(a)}function hy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function __(a){return a.collectionGroup!==null}function xl(a){const e=yt(a);if(e.ce===null){e.ce=[];const i=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(Pe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.ce.push(new zu(h,s))})),i.has(Pe.keyField().canonicalString())||e.ce.push(new zu(Pe.keyField(),s))}return e.ce}function $n(a){const e=yt(a);return e.le||(e.le=EA(e,xl(a))),e.le}function EA(a,e){if(a.limitType==="F")return cy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new zu(o.field,h)}));const i=a.endAt?new Lu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Lu(a.startAt.position,a.startAt.inclusive):null;return cy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Nf(a,e){const i=a.filters.concat([e]);return new Yl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Of(a,e,i){return new Yl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Fu(a,e){return $f($n(a),$n(e))&&a.limitType===e.limitType}function v_(a){return`${Zf($n(a))}|lt:${a.limitType}`}function Ja(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>p_(o))).join(", ")}]`),Qu(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ls(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ls(o))).join(",")),`Target(${s})`})($n(a))}; limitType=${a.limitType})`}function Yu(a,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,o){for(const h of xl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const v=oy(d,g,_);return d.inclusive?v<=0:v<0})(s.startAt,xl(s),o)||s.endAt&&!(function(d,g,_){const v=oy(d,g,_);return d.inclusive?v>=0:v>0})(s.endAt,xl(s),o))})(a,e)}function TA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function E_(a){return(e,i)=>{let s=!1;for(const o of xl(a)){const h=AA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function AA(a,e,i){const s=a.field.isKeyField()?ut.comparator(e.key,i.key):(function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ss(_,v):gt()})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return u_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new ne(ut.comparator);function Ii(){return SA}const T_=new ne(ut.comparator);function Il(...a){let e=T_;for(const i of a)e=e.insert(i.key,i);return e}function A_(a){let e=T_;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Jr(){return Ul()}function S_(){return Ul()}function Ul(){return new gs((a=>a.toString()),((a,e)=>a.isEqual(e)))}const bA=new ne(ut.comparator),RA=new Be(ut.comparator);function Ct(...a){let e=RA;for(const i of a)e=e.add(i);return e}const wA=new Be(Ut);function DA(){return wA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function b_(a){return{integerValue:""+a}}function CA(a,e){return rA(e)?b_(e):Wf(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this._=void 0}}function VA(a,e,i){return a instanceof Pu?(function(o,h){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Yf(h)&&(h=Kf(h)),h&&(d.fields.__previous_value__=h),{mapValue:d}})(i,e):a instanceof Hl?w_(a,e):a instanceof Gl?D_(a,e):(function(o,h){const d=R_(o,h),g=fy(d)+fy(o.Pe);return Cf(d)&&Cf(o.Pe)?b_(g):Wf(o.serializer,g)})(a,e)}function IA(a,e,i){return a instanceof Hl?w_(a,e):a instanceof Gl?D_(a,e):i}function R_(a,e){return a instanceof Bu?(function(s){return Cf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class Pu extends Ku{}class Hl extends Ku{constructor(e){super(),this.elements=e}}function w_(a,e){const i=C_(e);for(const s of a.elements)i.some((o=>Wn(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Gl extends Ku{constructor(e){super(),this.elements=e}}function D_(a,e){let i=C_(e);for(const s of a.elements)i=i.filter((o=>!Wn(o,s)));return{arrayValue:{values:i}}}class Bu extends Ku{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function fy(a){return ce(a.integerValue||a.doubleValue)}function C_(a){return Xf(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function NA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Hl&&o instanceof Hl||s instanceof Gl&&o instanceof Gl?as(s.elements,o.elements,Wn):s instanceof Bu&&o instanceof Bu?Wn(s.Pe,o.Pe):s instanceof Pu&&o instanceof Pu})(a.transform,e.transform)}class OA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Xu{}function V_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new N_(a.key,Di.none()):new Kl(a.key,a.data,Di.none());{const i=a.data,s=bn.empty();let o=new Be(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new ia(a.key,s,new On(o.toArray()),Di.none())}}function MA(a,e,i){a instanceof Kl?(function(o,h,d){const g=o.value.clone(),_=my(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof ia?(function(o,h,d){if(!Vu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=my(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(I_(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(a,e,i,s){return a instanceof Kl?(function(h,d,g,_){if(!Vu(h.precondition,d))return g;const v=h.value.clone(),A=gy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,s):a instanceof ia?(function(h,d,g,_){if(!Vu(h.precondition,d))return g;const v=gy(h.fieldTransforms,_,d),A=d.data;return A.setAll(I_(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((O=>O.field)))})(a,e,i,s):(function(h,d,g){return Vu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function xA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=R_(s.transform,o||null);h!=null&&(i===null&&(i=bn.empty()),i.set(s.field,h))}return i||null}function dy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&as(s,o,((h,d)=>NA(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Kl extends Xu{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends Xu{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function I_(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function my(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,IA(d,g,i[o]))}return s}function gy(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,VA(h,d,e))}return s}class N_ extends Xu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UA extends Xu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&MA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ll(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ll(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=S_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=V_(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&as(this.mutations,e.mutations,((i,s)=>dy(i,s)))&&as(this.baseMutations,e.baseMutations,((i,s)=>dy(i,s)))}}class td{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=(function(){return bA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new td(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ot;function BA(a){switch(a){default:return gt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function O_(a){if(a===void 0)return Vi("GRPC error has no .code"),Y.UNKNOWN;switch(a){case ge.OK:return Y.OK;case ge.CANCELLED:return Y.CANCELLED;case ge.UNKNOWN:return Y.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Y.INTERNAL;case ge.UNAVAILABLE:return Y.UNAVAILABLE;case ge.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ge.NOT_FOUND:return Y.NOT_FOUND;case ge.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ge.ABORTED:return Y.ABORTED;case ge.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ge.DATA_LOSS:return Y.DATA_LOSS;default:return gt()}}(Ot=ge||(ge={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Wr([4294967295,4294967295],0);function py(a){const e=qA().encode(a),i=new e_;return i.update(e),new Uint8Array(i.digest())}function yy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Wr([i,s],0),new Wr([o,h],0)]}class ed{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Wr.fromNumber(this.Ie)}Ee(e,i,s){let o=e.add(i.multiply(Wr.fromNumber(s)));return o.compare(jA)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=py(e),[s,o]=yy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ee(s,o,h);if(!this.de(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ed(h,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.Ie===0)return;const i=py(e),[s,o]=yy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ee(s,o,h);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Zu(pt.min(),o,new ne(Ut),Ii(),Ct())}}class Xl{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Xl(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,i,s,o){this.Re=e,this.removedTargetIds=i,this.key=s,this.Ve=o}}class M_{constructor(e,i){this.targetId=e,this.me=i}}class x_{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class _y{constructor(){this.fe=0,this.ge=Ey(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),i=Ct(),s=Ct();return this.ge.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt()}})),new Xl(this.pe,this.ye,e,i,s)}Ce(){this.we=!1,this.ge=Ey()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=vy(),this.Qe=new ne(Ut)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const s=this.Ge(i);switch(e.state){case 0:this.ze(i)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(e.resumeToken));break;default:gt()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((s,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,s=e.me.count,o=this.Je(i);if(o){const h=o.target;if(If(h))if(s===0){const d=new ut(h.path);this.Ue(i,d,Fe.newNoDocument(d,pt.min()))}else Gt(s===1);else{const d=this.Ye(i);if(d!==s){const g=this.Ze(e),_=g?this.Xe(g,e,d):1;if(_!==0){this.je(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=ea(s).toUint8Array()}catch(_){if(_ instanceof c_)return rs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ed(d,o,h)}catch(_){return rs(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ie===0?null:g}Xe(e,i,s){return i.me.count===s-this.nt(e,i.targetId)?0:2}nt(e,i){const s=this.Le.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,h,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((h,d)=>{const g=this.Je(d);if(g){if(h.current&&If(g.target)){const _=new ut(g.target.path);this.ke.get(_)!==null||this.it(d,_)||this.Ue(d,_,Fe.newNoDocument(_,e))}h.be&&(i.set(d,h.ve()),h.Ce())}}));let s=Ct();this.qe.forEach(((h,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.Je(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.ke.forEach(((h,d)=>d.setReadTime(e)));const o=new Zu(e,i,this.Qe,this.ke,s);return this.ke=Ii(),this.qe=vy(),this.Qe=new ne(Ut),o}$e(e,i){if(!this.ze(e))return;const s=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new _y,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Be(Ut),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _y),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function vy(){return new ne(ut.comparator)}function Ey(){return new ne(ut.comparator)}const HA={asc:"ASCENDING",desc:"DESCENDING"},GA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QA={and:"AND",or:"OR"};class FA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Mf(a,e){return a.useProto3Json||Qu(e)?e:{value:e}}function qu(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function YA(a,e){return qu(a,e.toTimestamp())}function Jn(a){return Gt(!!a),pt.fromTimestamp((function(i){const s=fr(i);return new Se(s.seconds,s.nanos)})(a))}function nd(a,e){return xf(a,e).canonicalString()}function xf(a,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function L_(a){const e=Jt.fromString(a);return Gt(j_(e)),e}function Uf(a,e){return nd(a.databaseId,e.path)}function gf(a,e){const i=L_(e);if(i.get(1)!==a.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(P_(i))}function z_(a,e){return nd(a.databaseId,e)}function KA(a){const e=L_(a);return e.length===4?Jt.emptyPath():P_(e)}function Lf(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function P_(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Ty(a,e,i){return{name:Uf(a,e),fields:i.value.mapValue.fields}}function XA(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?Y.UNKNOWN:O_(v.code);return new it(A,v.message||"")})(d);i=new x_(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gf(a,s.document.name),h=Jn(s.document.updateTime),d=s.document.createTime?Jn(s.document.createTime):pt.min(),g=new bn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Iu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gf(a,s.document),h=s.readTime?Jn(s.readTime):pt.min(),d=Fe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Iu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gf(a,s.document),h=s.removedTargetIds||[];i=new Iu([],h,o,null)}else{if(!("filter"in e))return gt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new PA(o,h),g=s.targetId;i=new M_(g,d)}}return i}function ZA(a,e){let i;if(e instanceof Kl)i={update:Ty(a,e.key,e.value)};else if(e instanceof N_)i={delete:Uf(a,e.key)};else if(e instanceof ia)i={update:Ty(a,e.key,e.data),updateMask:aS(e.fieldMask)};else{if(!(e instanceof UA))return gt();i={verify:Uf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof Pu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Bu)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw gt()})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:YA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt()})(a,e.precondition)),i}function $A(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map((i=>(function(o,h){let d=o.updateTime?Jn(o.updateTime):Jn(h);return d.isEqual(pt.min())&&(d=Jn(h)),new OA(d,o.transformResults||[])})(i,e)))):[]}function JA(a,e){return{documents:[z_(a,e.path)]}}function WA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=z_(a,o);const h=(function(v){if(v.length!==0)return q_(Mn.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(U){return{field:Wa(U.field),direction:nS(U.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Mf(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:i,parent:o}}function tS(a){let e=KA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(O){const U=B_(O);return U instanceof Mn&&m_(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(O){return O.map((U=>(function(J){return new zu(ts(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(U)))})(i.orderBy));let g=null;i.limit&&(g=(function(O){let U;return U=typeof O=="object"?O.value:O,Qu(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(O){const U=!!O.before,k=O.values||[];return new Lu(k,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(O){const U=!O.before,k=O.values||[];return new Lu(k,U)})(i.endAt)),vA(e,o,d,h,g,"F",_,v)}function eS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function B_(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ts(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ts(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ts(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ts(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}})(a):a.fieldFilter!==void 0?(function(i){return ye.create(ts(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Mn.create(i.compositeFilter.filters.map((s=>B_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}})(i.compositeFilter.op))})(a):gt()}function nS(a){return HA[a]}function iS(a){return GA[a]}function rS(a){return QA[a]}function Wa(a){return{fieldPath:a.canonicalString()}}function ts(a){return Pe.fromServerFormat(a.fieldPath)}function q_(a){return a instanceof ye?(function(i){if(i.op==="=="){if(ly(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(sy(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ly(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(sy(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:iS(i.op),value:i.value}}})(a):a instanceof Mn?(function(i){const s=i.getFilters().map((o=>q_(o)));return s.length===1?s[0]:{compositeFilter:{op:rS(i.op),filters:s}}})(a):gt()}function aS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function j_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,s,o,h=pt.min(),d=pt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.ct=e}}function lS(a){const e=tS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.un=new uS}addToCollectionParentIndex(e,i){return this.un.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(hr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class uS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Be(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new os(0)}static kn(){return new os(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.changes=new gs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Ll(s.mutation,o,On.empty(),Se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ct()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ct()){const o=Jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Il();return h.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Jr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ct())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let h=Ii();const d=Ul(),g=(function(){return Ul()})();return i.forEach(((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ia)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ll(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,On.empty())})),this.recalculateAndSaveOverlays(e,h).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var O;return g.set(v,new hS(A,(O=d.get(v))!==null&&O!==void 0?O:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=Ul();let o=new ne(((d,g)=>d-g)),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||On.empty();A=g.applyToLocalView(v,A),s.set(_,A);const O=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,O)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,O=S_();A.forEach((U=>{if(!h.has(U)){const k=V_(i.get(U),s.get(U));k!==null&&O.set(U,k),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,O))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):__(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):X.resolve(Jr());let g=-1,_=h;return d.next((v=>X.forEach(v,((A,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((U=>{_=_.insert(A,U)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,_,v,Ct()))).next((A=>({batchId:g,changes:A_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,h).next((g=>X.forEach(g,(_=>{const v=(function(O,U){return new Yl(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((A=>{A.forEach(((O,U)=>{d=d.insert(O,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))}));let g=Il();return d.forEach(((_,v)=>{const A=h.get(_);A!==void 0&&Ll(A.mutation,v,On.empty(),Se.now()),Yu(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return X.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Jn(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:lS(o.bundledQuery),readTime:Jn(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.overlays=new ne(ut.comparator),this.Ir=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Jr();return X.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.ht(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Ir.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=Jr(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ne(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=Jr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Jr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=o)););return X.resolve(g)}ht(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new zA(i,s));let h=this.Ir.get(i);h===void 0&&(h=Ct(),this.Ir.set(i,h)),this.Ir.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.Tr=new Be(Ie.Er),this.dr=new Be(Ie.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Vr(new Ie(e,i))}mr(e,i){e.forEach((s=>this.removeReference(s,i)))}gr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.dr.forEachInRange([s,o],(d=>{this.Vr(d),h.push(d.key)})),h}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1);let h=Ct();return this.dr.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ie(e,0),s=this.Tr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ut.comparator(e.key,i.key)||Ut(e.wr,i.wr)}static Ar(e,i){return Ut(e.wr,i.wr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Be(Ie.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LA(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.br=this.br.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.vr(s),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([s,o],(d=>{const g=this.Dr(d.wr);h.push(g)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Be(Ut);return i.forEach((o=>{const h=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,d],(g=>{s=s.add(g.wr)}))})),X.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ut(h),0);let g=new Be(Ut);return this.br.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.wr)),!0)}),d),X.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return X.forEach(i.mutations,(o=>{const h=new Ie(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,i){const s=new Ie(i,0),o=this.br.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.Mr=e,this.docs=(function(){return new ne(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Ii();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ii();const d=i.path,g=new ut(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||tA(WT(A),s)<=0||(o.has(A.key)||Yu(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,o){gt()}Or(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new _S(this)}getSize(e){return X.resolve(this.size)}}class _S extends cS{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.persistence=e,this.Nr=new gs((i=>Zf(i)),$f),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new id,this.targetCount=0,this.kr=os.Bn()}forEachTarget(e,i){return this.Nr.forEach(((s,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),X.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new os(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Kn(i),X.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Nr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.Nr.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.Br.Rr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.Br.mr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Br.yr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Ff(0),this.Kr=!1,this.Kr=!0,this.$r=new gS,this.referenceDelegate=e(this),this.Ur=new vS(this),this.indexManager=new oS,this.remoteDocumentCache=(function(o){return new yS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new sS(i),this.Gr=new dS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.qr[e.toKey()];return s||(s=new pS(i,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new TS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((h=>this.referenceDelegate.jr(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Hr(e,i){return X.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,i))))}}class TS extends nA{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.Jr=new id,this.Yr=null}static Zr(e){return new rd(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),X.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.Xr.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,(s=>{const o=ut.fromPath(s);return this.ei(e,o).next((h=>{h||i.removeEntry(o,pt.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return X.or([()=>X.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.$i=s,this.Ui=o}static Wi(e,i){let s=Ct(),o=Ct();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new ad(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return DE()?8:iA(RE())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.Yi(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.Zi(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new AS;return this.Xi(e,i,d).next((g=>{if(h.result=g,this.zi)return this.es(e,i,d,g.size)}))})).next((()=>h.result))}es(e,i,s,o){return s.documentReadCount<this.ji?(Cl()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Cl()<=Mt.DEBUG&&st("QueryEngine","Query:",Ja(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Cl()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):X.resolve())}Yi(e,i){if(hy(i))return X.resolve(null);let s=$n(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Of(i,null,"F"),s=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Ct(...h);return this.Ji.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.ts(i,g);return this.ns(i,v,d,_.readTime)?this.Yi(e,Of(i,null,"F")):this.rs(e,v,i,_)}))))})))))}Zi(e,i,s,o){return hy(i)||o.isEqual(pt.min())?X.resolve(null):this.Ji.getDocuments(e,s).next((h=>{const d=this.ts(i,h);return this.ns(i,d,s,o)?X.resolve(null):(Cl()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(i)),this.rs(e,d,i,JT(o,-1)).next((g=>g)))}))}ts(e,i){let s=new Be(E_(e));return i.forEach(((o,h)=>{Yu(e,h)&&(s=s.add(h))})),s}ns(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Xi(e,i,s){return Cl()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.Ji.getDocumentsMatchingQuery(e,i,hr.min(),s)}rs(e,i,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,i,s,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new ne(Ut),this._s=new gs((h=>Zf(h)),$f),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function RS(a,e,i,s){return new bS(a,e,i,s)}async function k_(a,e){const i=yt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.ls(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function wS(a,e){const i=yt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,A){const O=v.batch,U=O.keys();let k=X.resolve();return U.forEach((J=>{k=k.next((()=>A.getEntry(_,J))).next((rt=>{const tt=v.docVersions.get(J);Gt(tt!==null),rt.version.compareTo(tt)<0&&(O.applyToRemoteDocument(rt,v),rt.isValidDocument()&&(rt.setReadTime(v.commitVersion),A.addEntry(rt)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(_,O)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function H_(a){const e=yt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function DS(a,e){const i=yt(a),s=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];e.targetChanges.forEach(((A,O)=>{const U=o.get(O);if(!U)return;g.push(i.Ur.removeMatchingKeys(h,A.removedDocuments,O).next((()=>i.Ur.addMatchingKeys(h,A.addedDocuments,O))));let k=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),o=o.insert(O,k),(function(rt,tt,Dt){return rt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=3e8?!0:Dt.addedDocuments.size+Dt.modifiedDocuments.size+Dt.removedDocuments.size>0})(U,k,A)&&g.push(i.Ur.updateTargetData(h,k))}));let _=Ii(),v=Ct();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(CS(h,d,e.documentUpdates).next((A=>{_=A.Ps,v=A.Is}))),!s.isEqual(pt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(h).next((O=>i.Ur.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(A)}return X.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.os=o,h)))}function CS(a,e,i){let s=Ct(),o=Ct();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=Ii();return i.forEach(((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Ps:d,Is:o}}))}function VS(a,e){const i=yt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function IS(a,e){const i=yt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Ur.getTargetData(s,e).next((h=>h?(o=h,X.resolve(o)):i.Ur.allocateTargetId(s).next((d=>(o=new lr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(e,s.targetId)),s}))}async function zf(a,e,i){const s=yt(a),o=s.os.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fl(d))throw d;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Ay(a,e,i){const s=yt(a);let o=pt.min(),h=Ct();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const O=yt(_),U=O._s.get(A);return U!==void 0?X.resolve(O.os.get(U)):O.Ur.getTargetData(v,A)})(s,d,$n(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(d,g.targetId).next((_=>{h=_}))})).next((()=>s.ss.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?h:Ct()))).next((g=>(NS(s,TA(e),g),{documents:g,Ts:h})))))}function NS(a,e,i){let s=a.us.get(e)||pt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.us.set(e,s)}class Sy{constructor(){this.activeTargetIds=DA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.so=new Sy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,s){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu=null;function pf(){return wu===null?wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():wu++,"0x"+wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class LS extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${o}/databases/${h}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${h}`}get Fo(){return!1}Mo(i,s,o,h,d){const g=pf(),_=this.xo(i,s.toUriEncodedString());st("RestConnection",`Sending RPC '${i}' ${g}:`,_,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,h,d),this.No(i,_,v,o).then((A=>(st("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw rs("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",_,"request:",o),A}))}Lo(i,s,o,h,d,g){return this.Mo(i,s,o,h,d)}Oo(i,s,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ds})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((h,d)=>i[d]=h)),o&&o.headers.forEach(((h,d)=>i[d]=h))}xo(i,s){const o=xS[i];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,s,o){const h=pf();return new Promise(((d,g)=>{const _=new n_;_.setWithCredentials(!0),_.listenOnce(i_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Du.NO_ERROR:const A=_.getResponseJson();st(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Du.TIMEOUT:st(Ge,`RPC '${e}' ${h} timed out`),g(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const O=_.getStatus();if(st(Ge,`RPC '${e}' ${h} failed with status:`,O,"response text:",_.getResponseText()),O>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const k=U==null?void 0:U.error;if(k&&k.status&&k.message){const J=(function(tt){const Dt=tt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Dt)>=0?Dt:Y.UNKNOWN})(k.status);g(new it(J,k.message))}else g(new it(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it(Y.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{st(Ge,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);st(Ge,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,s,15)}))}Bo(e,i,s){const o=pf(),h=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=s_(),g=a_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");st(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const O=d.createWebChannel(A,_);let U=!1,k=!1;const J=new US({Io:tt=>{k?st(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(U||(st(Ge,`Opening RPC '${e}' stream ${o} transport.`),O.open(),U=!0),st(Ge,`RPC '${e}' stream ${o} sending:`,tt),O.send(tt))},To:()=>O.close()}),rt=(tt,Dt,At)=>{tt.listen(Dt,(_t=>{try{At(_t)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return rt(O,Vl.EventType.OPEN,(()=>{k||(st(Ge,`RPC '${e}' stream ${o} transport opened.`),J.yo())})),rt(O,Vl.EventType.CLOSE,(()=>{k||(k=!0,st(Ge,`RPC '${e}' stream ${o} transport closed`),J.So())})),rt(O,Vl.EventType.ERROR,(tt=>{k||(k=!0,rs(Ge,`RPC '${e}' stream ${o} transport errored:`,tt),J.So(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),rt(O,Vl.EventType.MESSAGE,(tt=>{var Dt;if(!k){const At=tt.data[0];Gt(!!At);const _t=At,Bt=_t.error||((Dt=_t[0])===null||Dt===void 0?void 0:Dt.error);if(Bt){st(Ge,`RPC '${e}' stream ${o} received error:`,Bt);const vt=Bt.status;let Lt=(function(w){const V=ge[w];if(V!==void 0)return O_(V)})(vt),I=Bt.message;Lt===void 0&&(Lt=Y.INTERNAL,I="Unknown error status: "+vt+" with message "+Bt.message),k=!0,J.So(new it(Lt,I)),O.close()}else st(Ge,`RPC '${e}' stream ${o} received:`,At),J.bo(At)}})),rt(g,r_.STAT_EVENT,(tt=>{tt.stat===wf.PROXY?st(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===wf.NOPROXY&&st(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.wo()}),0),J}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(a){return new FA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=o,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,i,s,o,h,d,g,_){this.ui=e,this.Ho=s,this.Jo=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new G_(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===i&&this.P_(s,o)}),(s=>{e((()=>{const o=new it(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,i){const s=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zS extends Q_{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=XA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Jn(d.readTime):pt.min()})(e);return this.listener.d_(i,s)}A_(e){const i={};i.database=Lf(this.serializer),i.addTarget=(function(h,d){let g;const _=d.target;if(g=If(_)?{documents:JA(h,_)}:{query:WA(h,_)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=U_(h,d.resumeToken);const v=Mf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=qu(h,d.snapshotVersion.toTimestamp());const v=Mf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=eS(this.serializer,e);s&&(i.labels=s),this.a_(i)}R_(e){const i={};i.database=Lf(this.serializer),i.removeTarget=e,this.a_(i)}}class PS extends Q_{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=$A(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.g_(s,i)}p_(){const e={};e.database=Lf(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>ZA(this.serializer,s)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends class{}{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Mo(e,xf(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(Y.UNKNOWN,h.toString())}))}Lo(e,i,s,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(e,xf(i,s),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class qS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(i),this.D_=!1):st("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o((d=>{s.enqueueAndForget((async()=>{ra(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await(async function(_){const v=yt(_);v.L_.add(4),await Zl(v),v.q_.set("Unknown"),v.L_.delete(4),await Ju(v)})(this))}))})),this.q_=new qS(s,o)}}async function Ju(a){if(ra(a))for(const e of a.B_)await e(!0)}async function Zl(a){for(const e of a.B_)await e(!1)}function F_(a,e){const i=yt(a);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),ud(i)?od(i):ps(i).r_()&&ld(i,e))}function sd(a,e){const i=yt(a),s=ps(i);i.N_.delete(e),s.r_()&&Y_(i,e),i.N_.size===0&&(s.r_()?s.o_():ra(i)&&i.q_.set("Unknown"))}function ld(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ps(a).A_(e)}function Y_(a,e){a.Q_.xe(e),ps(a).R_(e)}function od(a){a.Q_=new kA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),ps(a).start(),a.q_.v_()}function ud(a){return ra(a)&&!ps(a).n_()&&a.N_.size>0}function ra(a){return yt(a).L_.size===0}function K_(a){a.Q_=void 0}async function kS(a){a.q_.set("Online")}async function HS(a){a.N_.forEach(((e,i)=>{ld(a,e)}))}async function GS(a,e){K_(a),ud(a)?(a.q_.M_(e),od(a)):a.q_.set("Unknown")}async function QS(a,e,i){if(a.q_.set("Online"),e instanceof x_&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.N_.delete(g),o.Q_.removeTarget(g))})(a,e)}catch(s){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ju(a,s)}else if(e instanceof Iu?a.Q_.Ke(e):e instanceof M_?a.Q_.He(e):a.Q_.We(e),!i.isEqual(pt.min()))try{const s=await H_(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Q_.rt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.N_.get(v);A&&h.N_.set(v,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const A=h.N_.get(_);if(!A)return;h.N_.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Y_(h,_);const O=new lr(A.target,_,v,A.sequenceNumber);ld(h,O)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){st("RemoteStore","Failed to raise snapshot:",s),await ju(a,s)}}async function ju(a,e,i){if(!Fl(e))throw e;a.L_.add(1),await Zl(a),a.q_.set("Offline"),i||(i=()=>H_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st("RemoteStore","Retrying IndexedDB access"),await i(),a.L_.delete(1),await Ju(a)}))}function X_(a,e){return e().catch((i=>ju(a,i,e)))}async function Wu(a){const e=yt(a),i=dr(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;FS(e);)try{const o=await VS(e.localStore,s);if(o===null){e.O_.length===0&&i.o_();break}s=o.batchId,YS(e,o)}catch(o){await ju(e,o)}Z_(e)&&$_(e)}function FS(a){return ra(a)&&a.O_.length<10}function YS(a,e){a.O_.push(e);const i=dr(a);i.r_()&&i.V_&&i.m_(e.mutations)}function Z_(a){return ra(a)&&!dr(a).n_()&&a.O_.length>0}function $_(a){dr(a).start()}async function KS(a){dr(a).p_()}async function XS(a){const e=dr(a);for(const i of a.O_)e.m_(i.mutations)}async function ZS(a,e,i){const s=a.O_.shift(),o=td.from(s,e,i);await X_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Wu(a)}async function $S(a,e){e&&dr(a).V_&&await(async function(s,o){if((function(d){return BA(d)&&d!==Y.ABORTED})(o.code)){const h=s.O_.shift();dr(s).s_(),await X_(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Wu(s)}})(a,e),Z_(a)&&$_(a)}async function Ry(a,e){const i=yt(a);i.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const s=ra(i);i.L_.add(3),await Zl(i),s&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await Ju(i)}async function JS(a,e){const i=yt(a);e?(i.L_.delete(2),await Ju(i)):e||(i.L_.add(2),await Zl(i),i.q_.set("Unknown"))}function ps(a){return a.K_||(a.K_=(function(i,s,o){const h=yt(i);return h.w_(),new zS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Eo:kS.bind(null,a),Ro:HS.bind(null,a),mo:GS.bind(null,a),d_:QS.bind(null,a)}),a.B_.push((async e=>{e?(a.K_.s_(),ud(a)?od(a):a.q_.set("Unknown")):(await a.K_.stop(),K_(a))}))),a.K_}function dr(a){return a.U_||(a.U_=(function(i,s,o){const h=yt(i);return h.w_(),new PS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:KS.bind(null,a),mo:$S.bind(null,a),f_:XS.bind(null,a),g_:ZS.bind(null,a)}),a.B_.push((async e=>{e?(a.U_.s_(),await Wu(a)):(await a.U_.stop(),a.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))}))),a.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new cd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(a,e){if(Vi("AsyncQueue",`${e}: ${a}`),Fl(a))return new it(Y.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Il(),this.sortedSet=new ne(this.comparator)}static emptySet(e){return new ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ns)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ns;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.W_=new ne(ut.comparator)}track(e){const i=e.doc.key,s=this.W_.get(i);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(i,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(i):e.type===1&&s.type===2?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,s)=>{e.push(s)})),e}}class us{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new us(e,i,ns.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class t1{constructor(){this.queries=Dy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,s){const o=yt(i),h=o.queries;o.queries=Dy(),h.forEach(((d,g)=>{for(const _ of g.j_)_.onError(s)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Dy(){return new gs((a=>v_(a)),Fu)}async function J_(a,e){const i=yt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.H_()&&e.J_()&&(s=2):(h=new WS,s=e.J_()?0:1);try{switch(s){case 0:h.z_=await i.onListen(o,!0);break;case 1:h.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=hd(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.j_.push(e),e.Z_(i.onlineState),h.z_&&e.X_(h.z_)&&fd(i)}async function W_(a,e){const i=yt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.j_.indexOf(e);d>=0&&(h.j_.splice(d,1),h.j_.length===0?o=e.J_()?0:1:!h.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function e1(a,e){const i=yt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.j_)g.X_(o)&&(s=!0);d.z_=o}}s&&fd(i)}function n1(a,e,i){const s=yt(a),o=s.queries.get(e);if(o)for(const h of o.j_)h.onError(i);s.queries.delete(e)}function fd(a){a.Y_.forEach((e=>{e.next()}))}var Pf,Cy;(Cy=Pf||(Pf={})).ea="default",Cy.Cache="cache";class tv{constructor(e,i,s){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const s=i!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this.key=e}}class nv{constructor(e){this.key=e}}class i1{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ct(),this.mutatedKeys=Ct(),this.Aa=E_(e),this.Ra=new ns(this.Aa)}get Va(){return this.Ta}ma(e,i){const s=i?i.fa:new wy,o=i?i.Ra:this.Ra;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,O)=>{const U=o.get(A),k=Yu(this.query,O)?O:null,J=!!U&&this.mutatedKeys.has(U.key),rt=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let tt=!1;U&&k?U.data.isEqual(k.data)?J!==rt&&(s.track({type:3,doc:k}),tt=!0):this.ga(U,k)||(s.track({type:2,doc:k}),tt=!0,(_&&this.Aa(k,_)>0||v&&this.Aa(k,v)<0)&&(g=!0)):!U&&k?(s.track({type:0,doc:k}),tt=!0):U&&!k&&(s.track({type:1,doc:U}),tt=!0,(_||v)&&(g=!0)),tt&&(k?(d=d.add(k),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ra:d,fa:s,ns:g,mutatedKeys:h}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((A,O)=>(function(k,J){const rt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return rt(k)-rt(J)})(A.type,O.type)||this.Aa(A.doc,O.doc))),this.pa(s),o=o!=null&&o;const g=i&&!o?this.ya():[],_=this.da.size===0&&this.current&&!o?1:0,v=_!==this.Ea;return this.Ea=_,d.length!==0||v?{snapshot:new us(this.query,e.Ra,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ct(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const i=[];return e.forEach((s=>{this.da.has(s)||i.push(new nv(s))})),this.da.forEach((s=>{e.has(s)||i.push(new ev(s))})),i}ba(e){this.Ta=e.Ts,this.da=Ct();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class r1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class a1{constructor(e){this.key=e,this.va=!1}}class s1{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new gs((g=>v_(g)),Fu),this.Ma=new Map,this.xa=new Set,this.Oa=new ne(ut.comparator),this.Na=new Map,this.La=new id,this.Ba={},this.ka=new Map,this.qa=os.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function l1(a,e,i=!0){const s=ov(a);let o;const h=s.Fa.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Da()):o=await iv(s,e,i,!0),o}async function o1(a,e){const i=ov(a);await iv(i,e,!0,!1)}async function iv(a,e,i,s){const o=await IS(a.localStore,$n(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await u1(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&F_(a.remoteStore,o),g}async function u1(a,e,i,s,o){a.Ka=(O,U,k)=>(async function(rt,tt,Dt,At){let _t=tt.view.ma(Dt);_t.ns&&(_t=await Ay(rt.localStore,tt.query,!1).then((({documents:I})=>tt.view.ma(I,_t))));const Bt=At&&At.targetChanges.get(tt.targetId),vt=At&&At.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(_t,rt.isPrimaryClient,Bt,vt);return Iy(rt,tt.targetId,Lt.wa),Lt.snapshot})(a,O,U,k);const h=await Ay(a.localStore,e,!0),d=new i1(e,h.Ts),g=d.ma(h.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);Iy(a,i,v.wa);const A=new r1(e,i,d);return a.Fa.set(e,A),a.Ma.has(i)?a.Ma.get(i).push(e):a.Ma.set(i,[e]),v.snapshot}async function c1(a,e,i){const s=yt(a),o=s.Fa.get(e),h=s.Ma.get(o.targetId);if(h.length>1)return s.Ma.set(o.targetId,h.filter((d=>!Fu(d,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&sd(s.remoteStore,o.targetId),Bf(s,o.targetId)})).catch(Ql)):(Bf(s,o.targetId),await zf(s.localStore,o.targetId,!0))}async function h1(a,e){const i=yt(a),s=i.Fa.get(e),o=i.Ma.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sd(i.remoteStore,s.targetId))}async function f1(a,e,i){const s=v1(a);try{const o=await(function(d,g){const _=yt(d),v=Se.now(),A=g.reduce(((k,J)=>k.add(J.key)),Ct());let O,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let J=Ii(),rt=Ct();return _.cs.getEntries(k,A).next((tt=>{J=tt,J.forEach(((Dt,At)=>{At.isValidDocument()||(rt=rt.add(Dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(k,J))).next((tt=>{O=tt;const Dt=[];for(const At of g){const _t=xA(At,O.get(At.key).overlayedDocument);_t!=null&&Dt.push(new ia(At.key,_t,h_(_t.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,Dt,g)})).next((tt=>{U=tt;const Dt=tt.applyToLocalDocumentSet(O,rt);return _.documentOverlayCache.saveOverlays(k,tt.batchId,Dt)}))})).then((()=>({batchId:U.batchId,changes:A_(O)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.Ba[d.currentUser.toKey()];v||(v=new ne(Ut)),v=v.insert(g,_),d.Ba[d.currentUser.toKey()]=v})(s,o.batchId,i),await $l(s,o.changes),await Wu(s.remoteStore)}catch(o){const h=hd(o,"Failed to persist write");i.reject(h)}}async function rv(a,e){const i=yt(a);try{const s=await DS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Na.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?Gt(d.va):o.removedDocuments.size>0&&(Gt(d.va),d.va=!1))})),await $l(i,s,e)}catch(s){await Ql(s)}}function Vy(a,e,i){const s=yt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Fa.forEach(((h,d)=>{const g=d.view.Z_(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=yt(d);_.onlineState=g;let v=!1;_.queries.forEach(((A,O)=>{for(const U of O.j_)U.Z_(g)&&(v=!0)})),v&&fd(_)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function d1(a,e,i){const s=yt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Na.get(e),h=o&&o.key;if(h){let d=new ne(ut.comparator);d=d.insert(h,Fe.newNoDocument(h,pt.min()));const g=Ct().add(h),_=new Zu(pt.min(),new Map,new ne(Ut),d,g);await rv(s,_),s.Oa=s.Oa.remove(h),s.Na.delete(e),dd(s)}else await zf(s.localStore,e,!1).then((()=>Bf(s,e,i))).catch(Ql)}async function m1(a,e){const i=yt(a),s=e.batch.batchId;try{const o=await wS(i.localStore,e);sv(i,s,null),av(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await $l(i,o)}catch(o){await Ql(o)}}async function g1(a,e,i){const s=yt(a);try{const o=await(function(d,g){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next((O=>(Gt(O!==null),A=O.keys(),_.mutationQueue.removeMutationBatch(v,O)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,e);sv(s,e,i),av(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await $l(s,o)}catch(o){await Ql(o)}}function av(a,e){(a.ka.get(e)||[]).forEach((i=>{i.resolve()})),a.ka.delete(e)}function sv(a,e,i){const s=yt(a);let o=s.Ba[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Bf(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Ma.get(e))a.Fa.delete(s),i&&a.Ca.$a(s,i);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach((s=>{a.La.containsKey(s)||lv(a,s)}))}function lv(a,e){a.xa.delete(e.path.canonicalString());const i=a.Oa.get(e);i!==null&&(sd(a.remoteStore,i),a.Oa=a.Oa.remove(e),a.Na.delete(i),dd(a))}function Iy(a,e,i){for(const s of i)s instanceof ev?(a.La.addReference(s.key,e),p1(a,s)):s instanceof nv?(st("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,e),a.La.containsKey(s.key)||lv(a,s.key)):gt()}function p1(a,e){const i=e.key,s=i.path.canonicalString();a.Oa.get(i)||a.xa.has(s)||(st("SyncEngine","New document in limbo: "+i),a.xa.add(s),dd(a))}function dd(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const i=new ut(Jt.fromString(e)),s=a.qa.next();a.Na.set(s,new a1(i)),a.Oa=a.Oa.insert(i,s),F_(a.remoteStore,new lr($n(Jf(i.path)),s,"TargetPurposeLimboResolution",Ff.oe))}}async function $l(a,e,i){const s=yt(a),o=[],h=[],d=[];s.Fa.isEmpty()||(s.Fa.forEach(((g,_)=>{d.push(s.Ka(_,e,i).then((v=>{var A;if((v||i)&&s.isPrimaryClient){const O=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,O?"current":"not-current")}if(v){o.push(v);const O=ad.Wi(_.targetId,v);h.push(O)}})))})),await Promise.all(d),s.Ca.d_(o),await(async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>X.forEach(v,(U=>X.forEach(U.$i,(k=>A.persistence.referenceDelegate.addReference(O,U.targetId,k))).next((()=>X.forEach(U.Ui,(k=>A.persistence.referenceDelegate.removeReference(O,U.targetId,k)))))))))}catch(O){if(!Fl(O))throw O;st("LocalStore","Failed to update sequence numbers: "+O)}for(const O of v){const U=O.targetId;if(!O.fromCache){const k=A.os.get(U),J=k.snapshotVersion,rt=k.withLastLimboFreeSnapshotVersion(J);A.os=A.os.insert(U,rt)}}})(s.localStore,h))}async function y1(a,e){const i=yt(a);if(!i.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const s=await k_(i.localStore,e);i.currentUser=e,(function(h,d){h.ka.forEach((g=>{g.forEach((_=>{_.reject(new it(Y.CANCELLED,d))}))})),h.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $l(i,s.hs)}}function _1(a,e){const i=yt(a),s=i.Na.get(e);if(s&&s.va)return Ct().add(s.key);{let o=Ct();const h=i.Ma.get(e);if(!h)return o;for(const d of h){const g=i.Fa.get(d);o=o.unionWith(g.view.Va)}return o}}function ov(a){const e=yt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=rv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d1.bind(null,e),e.Ca.d_=e1.bind(null,e.eventManager),e.Ca.$a=n1.bind(null,e.eventManager),e}function v1(a){const e=yt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g1.bind(null,e),e}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$u(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return RS(this.persistence,new SS,e.initialUser,this.serializer)}Ga(e){return new ES(rd.Zr,this.serializer)}Wa(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=y1.bind(null,this.syncEngine),await JS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t1})()}createDatastore(e){const i=$u(e.databaseInfo.databaseId),s=(function(h){return new LS(h)})(e.databaseInfo);return(function(h,d,g,_){return new BS(h,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,g){return new jS(s,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Vy(this.syncEngine,i,0)),(function(){return by.D()?new by:new MS})())}createSyncEngine(e,i){return(function(o,h,d,g,_,v,A){const O=new s1(o,h,d,g,_,v);return A&&(O.Qa=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=yt(o);st("RemoteStore","RemoteStore shutting down."),h.L_.add(5),await Zl(h),h.k_.shutdown(),h.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=o_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{st("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=hd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _f(a,e){a.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await k_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function Ny(a,e){a.asyncQueue.verifyOperationInProgress();const i=await T1(a);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Ry(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>Ry(e.remoteStore,o))),a._onlineComponents=e}async function T1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await _f(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;rs("Error using user provided cache. Falling back to memory cache: "+i),await _f(a,new ku)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await _f(a,new ku);return a._offlineComponents}async function cv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await Ny(a,a._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await Ny(a,new qf))),a._onlineComponents}function A1(a){return cv(a).then((e=>e.syncEngine))}async function hv(a){const e=await cv(a),i=e.eventManager;return i.onListen=l1.bind(null,e.syncEngine),i.onUnlisten=c1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=o1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=h1.bind(null,e.syncEngine),i}function S1(a,e,i={}){const s=new wi;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,_,v){const A=new uv({next:U=>{A.Za(),d.enqueueAndForget((()=>W_(h,O)));const k=U.docs.has(g);!k&&U.fromCache?v.reject(new it(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&U.fromCache&&_&&_.source==="server"?v.reject(new it(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),O=new tv(Jf(g.path),A,{includeMetadataChanges:!0,_a:!0});return J_(h,O)})(await hv(a),a.asyncQueue,e,i,s))),s.promise}function b1(a,e,i={}){const s=new wi;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,_,v){const A=new uv({next:U=>{A.Za(),d.enqueueAndForget((()=>W_(h,O))),U.fromCache&&_.source==="server"?v.reject(new it(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(U)},error:U=>v.reject(U)}),O=new tv(g,A,{includeMetadataChanges:!0,_a:!0});return J_(h,O)})(await hv(a),a.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(a,e,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function R1(a,e,i,s){if(e===!0&&s===!0)throw new it(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function My(a){if(!ut.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function xy(a){if(ut.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function tc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":gt()}function cs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tc(a);throw new it(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ec{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HT;switch(s.type){case"firstParty":return new YT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Oy.get(i);s&&(st("ComponentProvider","Removing Datastore"),Oy.delete(i),s.terminate())})(this),Promise.resolve()}}function w1(a,e,i,s={}){var o;const h=(a=cs(a,ec))._getSettings(),d=`${e}:${i}`;if(h.host!=="firestore.googleapis.com"&&h.host!==d&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Qe.MOCK_USER;else{g=bE(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Qe(v)}a._authCredentials=new GT(new l_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class cr extends ys{constructor(e,i,s){super(e,i,Jf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ut(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function jf(a,e,...i){if(a=is(a),dv("collection","path",e),a instanceof ec){const s=Jt.fromString(e,...i);return xy(s),new cr(a,null,s)}{if(!(a instanceof cn||a instanceof cr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return xy(s),new cr(a.firestore,null,s)}}function mv(a,e,...i){if(a=is(a),arguments.length===1&&(e=o_.newId()),dv("doc","path",e),a instanceof ec){const s=Jt.fromString(e,...i);return My(s),new cn(a,null,new ut(s))}{if(!(a instanceof cn||a instanceof cr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return My(s),new cn(a.firestore,a instanceof cr?a.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new G_(this,"async_queue_retry"),this.Vu=()=>{const s=yf();s&&st("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new wi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fl(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(s);throw Vi("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=cd.createAndSchedule(this,e,i,s,(h=>this.yu(h)));return this.Tu.push(o),o}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class nc extends ec{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Ly,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ly(e),this._firestoreClient=void 0,await e}}}function D1(a,e){const i=typeof a=="object"?a:MT(),s=typeof a=="string"?a:"(default)",o=VT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=AE("firestore");h&&w1(o,...h)}return o}function md(a){if(a._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||C1(a),a._firestoreClient}function C1(a){var e,i,s;const o=a._freezeSettings(),h=(function(g,_,v,A){return new sA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,fv(A.experimentalLongPollingOptions),A.useFetchStreams)})(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new E1(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(qe.fromBase64String(e))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new hs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=/^__.*__$/;class I1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function pv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class _d{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.vu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pv(this.Cu)&&V1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class N1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||$u(e)}Qu(e,i,s,o=!1){return new _d({Cu:e,methodName:i,qu:s,path:Pe.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yv(a){const e=a._freezeSettings(),i=$u(a._databaseId);return new N1(a._databaseId,!!e.ignoreUndefinedProperties,i)}function O1(a,e,i,s,o,h={}){const d=a.Qu(h.merge||h.mergeFields?2:0,e,i,o);Ev("Data must be an object, but it was:",d,s);const g=_v(s,d);let _,v;if(h.merge)_=new On(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const U=x1(e,O,i);if(!d.contains(U))throw new it(Y.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);L1(A,U)||A.push(U)}_=new On(A),v=d.fieldTransforms.filter((O=>_.covers(O.field)))}else _=null,v=d.fieldTransforms;return new I1(new bn(g),_,v)}function M1(a,e,i,s=!1){return vd(i,a.Qu(s?4:3,e))}function vd(a,e){if(vv(a=is(a)))return Ev("Unsupported field value:",e,a),_v(a,e);if(a instanceof gv)return(function(s,o){if(!pv(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const g of s){let _=vd(g,o.Lu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,o){if((s=is(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Se.fromDate(s);return{timestampValue:qu(o.serializer,h)}}if(s instanceof Se){const h=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qu(o.serializer,h)}}if(s instanceof pd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hs)return{bytesValue:U_(o.serializer,s._byteString)};if(s instanceof cn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:nd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yd)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Bu("VectorValues must only contain numeric values.");return Wf(g.serializer,_)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${tc(s)}`)})(a,e)}function _v(a,e){const i={};return u_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(a,((s,o)=>{const h=vd(o,e.Mu(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function vv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof pd||a instanceof hs||a instanceof cn||a instanceof gv||a instanceof yd)}function Ev(a,e,i){if(!vv(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const s=tc(i);throw s==="an object"?e.Bu(a+" a custom object"):e.Bu(a+" "+s)}}function x1(a,e,i){if((e=is(e))instanceof gd)return e._internalPath;if(typeof e=="string")return Tv(a,e);throw Hu("Field path arguments must be of type string or ",a,!1,void 0,i)}const U1=new RegExp("[~\\*/\\[\\]]");function Tv(a,e,i){if(e.search(U1)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new gd(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Hu(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new it(Y.INVALID_ARGUMENT,g+a+_)}function L1(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ed("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class z1 extends Av{data(){return super.data()}}function Ed(a,e){return typeof e=="string"?Tv(a,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Td{}class B1 extends Td{}function q1(a,e,...i){let s=[];e instanceof Td&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((_=>_ instanceof Ad)).length,g=h.filter((_=>_ instanceof ic)).length;if(d>1||d>0&&g>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class ic extends B1{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new ic(e,i,s)}_apply(e){const i=this._parse(e);return Sv(e._query,i),new ys(e.firestore,e.converter,Nf(e._query,i))}_parse(e){const i=yv(e.firestore);return(function(h,d,g,_,v,A,O){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Py(O,A);const k=[];for(const J of O)k.push(zy(_,h,J));U={arrayValue:{values:k}}}else U=zy(_,h,O)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Py(O,A),U=M1(g,d,O,A==="in"||A==="not-in");return ye.create(v,A,U)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function j1(a,e,i){const s=e,o=Ed("where",a);return ic._create(o,s,i)}class Ad extends Td{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ad(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)Sv(d,_),d=Nf(d,_)})(e._query,i),new ys(e.firestore,e.converter,Nf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zy(a,e,i){if(typeof(i=is(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__(e)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ay(a,new ut(s))}if(i instanceof cn)return ay(a,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(i)}.`)}function Py(a,e){if(!Array.isArray(a)||a.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sv(a,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class k1{convertValue(e,i="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ms(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>ce(d.doubleValue)));return new yd(h)}convertGeoPoint(e){return new pd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Kf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=fr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);Gt(j_(s));const o=new jl(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return o.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bv extends Av{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Ed("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Nu extends bv{data(e={}){return super.data(e)}}class G1{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Nu(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Nu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ol(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const _=new Nu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ol(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Q1(g.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Q1(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(a){a=cs(a,cn);const e=cs(a.firestore,nc);return S1(md(e),a._key).then((i=>Z1(e,a,i)))}class Rv extends k1{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function Y1(a){a=cs(a,ys);const e=cs(a.firestore,nc),i=md(e),s=new Rv(e);return P1(a._query),b1(i,a._query).then((o=>new G1(e,s,a,o)))}function K1(a,e){const i=cs(a.firestore,nc),s=mv(a),o=H1(a.converter,e);return X1(i,[O1(yv(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then((()=>s))}function X1(a,e){return(function(s,o){const h=new wi;return s.asyncQueue.enqueueAndForget((async()=>f1(await A1(s),o,h))),h.promise})(md(a),e)}function Z1(a,e,i){const s=i.docs.get(e._key),o=new Rv(a);return new bv(a,o,e._key,s,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ds=o})(OT),xu(new zl("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new nc(new QT(s.getProvider("auth-internal")),new XT(s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(v.options.projectId,A)})(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),es(ty,"4.7.3",e),es(ty,"4.7.3","esm2017")})();var $1="firebase",J1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es($1,J1,"app");const vf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var By={};const $a=a=>{if(typeof import.meta<"u"&&vf&&vf[a])return vf[a];if(typeof process<"u"&&By[a])return By[a];throw new Error(`Missing environment variable: ${a}`)},W1={apiKey:$a("FIREBASE_API_KEY"),authDomain:$a("FIREBASE_AUTH_DOMAIN"),projectId:$a("FIREBASE_PROJECT_ID"),storageBucket:$a("FIREBASE_STORAGE_BUCKET"),messagingSenderId:$a("FIREBASE_MESSAGING_SENDER_ID"),appId:$a("FIREBASE_APP_ID")},tb=Jy(W1),Gu=D1(tb),qy=[{id:"1",text:"Yo nunca he fingido que me gustaba un regalo.",isPremium:!1},{id:"2",text:"Yo nunca he espiado el móvil de mi pareja.",isPremium:!1},{id:"3",text:"Yo nunca he usado el cepillo de dientes de otra persona.",isPremium:!1},{id:"4",text:"Yo nunca he vuelto con un ex.",isPremium:!1},{id:"5",text:"Yo nunca me he reído en un momento inoportuno.",isPremium:!1}],eb=async a=>{console.log(`Fetching phrases... ${a?"with":"without"} premium.`);try{let e;a?e=jf(Gu,"phrases"):e=q1(jf(Gu,"phrases"),j1("isPremium","==",!1));const i=await Y1(e),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(e){return console.error("Error fetching phrases:",e),a?qy:qy.filter(i=>!i.isPremium)}},nb=async a=>{console.log(`Adding suggestion: "${a}"`);try{await K1(jf(Gu,"suggestions"),{text:a,createdAt:new Date,status:"pending"}),console.log("Suggestion submitted successfully.")}catch(e){throw console.error("Error adding suggestion:",e),new Error("No se pudo enviar la sugerencia. Inténtalo más tarde.")}},pb=async()=>{try{const a=mv(Gu,"config","stripe_products"),e=await F1(a);return e.exists()?e.data():(console.log("No se encontraron claves de productos en Firestore"),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"})}catch(a){return console.error("Error obteniendo claves de productos:",a),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"}}},ib=({navigate:a,hasPremium:e})=>{const[i,s]=pe.useState([]),[o,h]=pe.useState(null),[d,g]=pe.useState(!0),[_,v]=pe.useState(null);pe.useEffect(()=>{(async()=>{try{g(!0),v(null);const k=await eb(e);k.length===0?v("No se encontraron frases. Inténtalo más tarde."):(s(k),h(k[Math.floor(Math.random()*k.length)]))}catch(k){v("No se pudieron cargar las frases. Revisa tu conexión."),console.error(k)}finally{g(!1)}})()},[e]);const A=pe.useCallback(()=>{if(i.length>0){const U=i.filter(k=>k.id!==(o==null?void 0:o.id));if(U.length>0){const k=U[Math.floor(Math.random()*U.length)];h(k)}else{const k=i[Math.floor(Math.random()*i.length)];h(k)}}},[i,o]),O=()=>d?W.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[W.jsx("i",{className:"fas fa-spinner fa-spin text-5xl text-cyan-400"}),W.jsx("p",{className:"mt-4 text-slate-300",children:"Cargando frases..."})]}):_?W.jsx("p",{className:"text-center text-red-400",children:_}):o&&W.jsxs("div",{className:"text-center text-2xl md:text-3xl font-semibold leading-relaxed animate-fadeIn",children:[W.jsx("span",{className:"text-slate-400",children:"Yo nunca..."}),W.jsx("br",{}),W.jsx("span",{className:"text-white drop-shadow-lg",children:o.text})]},o.id);return W.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-full p-4",children:[W.jsx("div",{className:"w-full flex justify-start",children:W.jsx("button",{onClick:()=>a(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:W.jsx("i",{className:"fas fa-arrow-left fa-lg"})})}),W.jsx("div",{className:"flex-grow flex items-center justify-center w-full max-w-md my-8",children:O()}),W.jsx("div",{className:"w-full max-w-xs",children:W.jsxs(sr,{onClick:A,disabled:d||i.length<=1,fullWidth:!0,size:"large",children:[W.jsx("i",{className:"fas fa-forward mr-2"}),"Siguiente"]})})]})},rb="modulepreload",ab=function(a){return"/"+a},jy={},sb=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let d=function(v){return Promise.all(v.map(A=>Promise.resolve(A).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));o=d(i.map(v=>{if(v=ab(v),v in jy)return;jy[v]=!0;const A=v.endsWith(".css"),O=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${O}`))return;const U=document.createElement("link");if(U.rel=A?"stylesheet":rb,A||(U.as="script"),U.crossOrigin="",U.href=v,_&&U.setAttribute("nonce",_),document.head.appendChild(U),A)return new Promise((k,J)=>{U.addEventListener("load",k),U.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&h(g.reason);return e().catch(h)})},ky=({icon:a,title:e,description:i,price:s,onClick:o,disabled:h,disabledText:d})=>W.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-6 flex flex-col items-center text-center backdrop-blur-sm border border-slate-700 transition-all ${h?"opacity-60":""}`,children:[W.jsx("i",{className:`text-5xl mb-4 text-cyan-400 ${a}`}),W.jsx("h3",{className:"text-xl font-bold mb-2",children:e}),W.jsx("p",{className:"text-slate-400 mb-4 flex-grow",children:i}),h?W.jsx("p",{className:"text-lg font-bold text-green-400",children:d||"¡Comprado!"}):W.jsx(sr,{onClick:o,fullWidth:!0,children:s})]}),lb=({navigate:a,onPurchaseRemoveAds:e,onPurchasePremium:i,showAds:s,hasPremium:o})=>{const h=async(d,g)=>{console.log(`Initiating ${g} purchase flow...`);try{const{handleRemoveAdsPayment:_,handlePremiumPayment:v}=await sb(async()=>{const{handleRemoveAdsPayment:O,handlePremiumPayment:U}=await import("./stripeService-a3z-eh9D.js");return{handleRemoveAdsPayment:O,handlePremiumPayment:U}},[]);let A=!1;g==="removeAds"?A=await _():g==="premium"&&(A=await v()),A&&d()}catch(_){console.error("Payment error:",_),alert("No se pudo procesar el pago. Inténtalo más tarde.")}};return W.jsxs("div",{className:"flex flex-col w-full h-full p-4 animate-fadeIn",children:[W.jsxs("div",{className:"flex justify-between items-center mb-8",children:[W.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500",children:"Tienda"}),W.jsx("button",{onClick:()=>a(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:W.jsx("i",{className:"fas fa-times fa-2x"})})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsx(ky,{icon:"fas fa-shield-halved",title:"Eliminar Anuncios",description:"Disfruta de una experiencia de juego ininterrumpida sin anuncios.",price:"Comprar por 2.99€",onClick:()=>h(e,"removeAds"),disabled:!s}),W.jsx(ky,{icon:"fas fa-star",title:"Paquete Premium",description:"Desbloquea cientos de frases extra, más atrevidas y divertidas.",price:"Comprar por 4.99€",onClick:()=>h(i,"premium"),disabled:o})]}),W.jsx("p",{className:"text-center text-slate-500 text-xs mt-8",children:"Las compras son procesadas de forma segura a través de Stripe."})]})},ob=({children:a,onClose:e})=>W.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:e,children:W.jsx("div",{className:"bg-slate-800 rounded-lg shadow-2xl w-full max-w-md border border-slate-700 animate-scaleUp",onClick:i=>i.stopPropagation(),children:a})}),ub=({onClose:a})=>{const[e,i]=pe.useState(""),[s,o]=pe.useState(!1),[h,d]=pe.useState(""),[g,_]=pe.useState(!1),v=async A=>{if(A.preventDefault(),e.trim().length<10){d("La frase debe tener al menos 10 caracteres.");return}d(""),o(!0);try{await nb(e),_(!0),setTimeout(()=>{a()},2e3)}catch{d("No se pudo enviar la sugerencia. Inténtalo de nuevo."),o(!1)}};return W.jsx(ob,{onClose:a,children:W.jsx("div",{className:"p-6",children:g?W.jsxs("div",{className:"text-center",children:[W.jsx("i",{className:"fas fa-check-circle text-5xl text-green-400 mb-4"}),W.jsx("h2",{className:"text-2xl font-bold mb-2",children:"¡Gracias!"}),W.jsx("p",{className:"text-slate-300",children:"Tu sugerencia ha sido enviada para revisión."})]}):W.jsxs(W.Fragment,{children:[W.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sugerir una Frase"}),W.jsx("p",{className:"text-slate-400 mb-6",children:"¿Tienes una idea genial? ¡Compártela con nosotros! Si es aprobada, aparecerá en el juego."}),W.jsxs("form",{onSubmit:v,children:[W.jsxs("div",{className:"relative",children:[W.jsx("span",{className:"absolute left-4 top-3 text-slate-400",children:"Yo nunca..."}),W.jsx("input",{type:"text",value:e,onChange:A=>i(A.target.value),placeholder:"he hecho...",className:"w-full bg-slate-700 border border-slate-600 rounded-md py-3 pr-4 pl-36 focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",disabled:s})]}),h&&W.jsx("p",{className:"text-red-400 text-sm mt-2",children:h}),W.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[W.jsx(sr,{type:"button",variant:"secondary",onClick:a,disabled:s,children:"Cancelar"}),W.jsx(sr,{type:"submit",disabled:s||e.trim()==="",children:s?W.jsxs(W.Fragment,{children:[W.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Enviando..."]}):"Enviar Sugerencia"})]})]})]})})})},cb=()=>{const a=pe.useRef(null);return pe.useEffect(()=>(a.current&&cE("ad-banner-container"),()=>{hE()}),[]),W.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-14 bg-slate-800 flex items-center justify-center z-50 animate-slideUp",children:W.jsx("div",{id:"ad-banner-container",ref:a,className:"w-full h-full flex items-center justify-center",children:W.jsxs("div",{className:"text-slate-400 text-sm flex items-center",children:[W.jsx("i",{className:"fas fa-ad mr-2"}),W.jsx("span",{children:"Cargando anuncio..."})]})})})},hb=()=>{const[a,e]=pe.useState(Nn.Home),[i,s]=pe.useState(!1),[o,h]=pe.useState(!0),[d,g]=pe.useState(!1);pe.useEffect(()=>{uE()},[]);const _=pe.useCallback(U=>{e(U)},[]),v=()=>{h(!1),alert("¡Gracias! Los anuncios han sido eliminados."),e(Nn.Home)},A=()=>{g(!0),alert("¡Gracias! Has comprado el paquete de frases premium."),e(Nn.Home)},O=()=>{switch(a){case Nn.Game:return W.jsx(ib,{navigate:_,hasPremium:d});case Nn.Store:return W.jsx(lb,{navigate:_,onPurchaseRemoveAds:v,onPurchasePremium:A,showAds:o,hasPremium:d});case Nn.Home:default:return W.jsx(fE,{navigate:_,onSuggestClick:()=>s(!0)})}};return W.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 overflow-hidden",children:[W.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),W.jsx("div",{className:"z-10 w-full max-w-md mx-auto flex-grow flex flex-col justify-center",children:O()}),i&&W.jsx(ub,{onClose:()=>s(!1)}),o&&W.jsx(cb,{})]})},wv=document.getElementById("root");if(!wv)throw new Error("Could not find root element to mount to");const fb=oE.createRoot(wv);fb.render(W.jsx(tE.StrictMode,{children:W.jsx(hb,{})}));export{pb as g};
