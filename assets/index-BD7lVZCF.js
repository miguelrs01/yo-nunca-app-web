(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function Yy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ch={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function eE(){if(Pp)return Dl;Pp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var Bp;function nE(){return Bp||(Bp=1,ch.exports=eE()),ch.exports}var tt=nE(),fh={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function iE(){if(qp)return Et;qp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,it={};function W(D,K,nt){this.props=D,this.context=K,this.refs=it,this.updater=nt||k}W.prototype.isReactComponent={},W.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Dt(){}Dt.prototype=W.prototype;function At(D,K,nt){this.props=D,this.context=K,this.refs=it,this.updater=nt||k}var _t=At.prototype=new Dt;_t.constructor=At,X(_t,W.prototype),_t.isPureReactComponent=!0;var Bt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function N(D,K,nt,$,ct,St){return nt=St.ref,{$$typeof:a,type:D,key:K,ref:nt!==void 0?nt:null,props:St}}function S(D,K){return N(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function V(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return K[nt]})}var O=/\/+/g;function x(D,K){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):K.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,K,nt,$,ct){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(St){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case a:case e:mt=!0;break;case A:return mt=D._init,ie(mt(D._payload),K,nt,$,ct)}}if(mt)return ct=ct(D),mt=$===""?"."+x(D,0):$,Bt(ct)?(nt="",mt!=null&&(nt=mt.replace(O,"$&/")+"/"),ie(ct,K,nt,"",function(xn){return xn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(O,"$&/")+"/")+mt)),K.push(ct)),1;mt=0;var be=$===""?".":$+":";if(Bt(D))for(var Zt=0;Zt<D.length;Zt++)$=D[Zt],St=be+x($,Zt),mt+=ie($,K,nt,St,ct);else if(Zt=L(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!($=D.next()).done;)$=$.value,St=be+x($,Zt++),mt+=ie($,K,nt,St,ct);else if(St==="object"){if(typeof D.then=="function")return ie(Ne(D),K,nt,$,ct);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,K,nt){if(D==null)return D;var $=[],ct=0;return ie(D,$,"","",function(St){return K.call(nt,St,ct++)}),$}function et(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return Et.Children={map:H,forEach:function(D,K,nt){H(D,function(){K.apply(this,arguments)},nt)},count:function(D){var K=0;return H(D,function(){K++}),K},toArray:function(D){return H(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=W,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=At,Et.StrictMode=s,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,K,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=X({},D.props),ct=D.key,St=void 0;if(K!=null)for(mt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(ct=""+K.key),K)!Lt.call(K,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&K.ref===void 0||($[mt]=K[mt]);var mt=arguments.length-2;if(mt===1)$.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];$.children=be}return N(D.type,ct,void 0,void 0,St,$)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},Et.createElement=function(D,K,nt){var $,ct={},St=null;if(K!=null)for($ in K.key!==void 0&&(St=""+K.key),K)Lt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ct[$]=K[$]);var mt=arguments.length-2;if(mt===1)ct.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];ct.children=be}if(D&&D.defaultProps)for($ in mt=D.defaultProps,mt)ct[$]===void 0&&(ct[$]=mt[$]);return N(D,St,void 0,void 0,null,ct)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=w,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Et.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},Et.startTransition=function(D){var K=vt.T,nt={};vt.T=nt;try{var $=D(),ct=vt.S;ct!==null&&ct(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ot)}catch(St){ot(St)}finally{vt.T=K}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(D){return vt.H.use(D)},Et.useActionState=function(D,K,nt){return vt.H.useActionState(D,K,nt)},Et.useCallback=function(D,K){return vt.H.useCallback(D,K)},Et.useContext=function(D){return vt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,K){return vt.H.useDeferredValue(D,K)},Et.useEffect=function(D,K,nt){var $=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,K)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(D,K,nt){return vt.H.useImperativeHandle(D,K,nt)},Et.useInsertionEffect=function(D,K){return vt.H.useInsertionEffect(D,K)},Et.useLayoutEffect=function(D,K){return vt.H.useLayoutEffect(D,K)},Et.useMemo=function(D,K){return vt.H.useMemo(D,K)},Et.useOptimistic=function(D,K){return vt.H.useOptimistic(D,K)},Et.useReducer=function(D,K,nt){return vt.H.useReducer(D,K,nt)},Et.useRef=function(D){return vt.H.useRef(D)},Et.useState=function(D){return vt.H.useState(D)},Et.useSyncExternalStore=function(D,K,nt){return vt.H.useSyncExternalStore(D,K,nt)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.1",Et}var jp;function Fh(){return jp||(jp=1,fh.exports=iE()),fh.exports}var fe=Fh();const rE=Yy(fe);var hh={exports:{}},Cl={},dh={exports:{}},mh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function aE(){return kp||(kp=1,(function(a){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var zt=ot-1>>>1,D=H[zt];if(0<o(D,et))H[zt]=et,H[ot]=D,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var zt=0,D=H.length,K=D>>>1;zt<K;){var nt=2*(zt+1)-1,$=H[nt],ct=nt+1,St=H[ct];if(0>o($,ot))ct<D&&0>o(St,$)?(H[zt]=St,H[ct]=ot,zt=ct):(H[zt]=$,H[nt]=ot,zt=nt);else if(ct<D&&0>o(St,ot))H[zt]=St,H[ct]=ot,zt=ct;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,I=null,L=3,k=!1,X=!1,it=!1,W=!1,Dt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function vt(H){if(it=!1,Bt(H),!X)if(i(_)!==null)X=!0,Lt||(Lt=!0,x());else{var et=i(v);et!==null&&ie(vt,et.startTime-H)}}var Lt=!1,N=-1,S=5,w=-1;function V(){return W?!0:!(a.unstable_now()-w<S)}function O(){if(W=!1,Lt){var H=a.unstable_now();w=H;var et=!0;try{t:{X=!1,it&&(it=!1,At(N),N=-1),k=!0;var ot=L;try{e:{for(Bt(H),I=i(_);I!==null&&!(I.expirationTime>H&&V());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,L=I.priorityLevel;var D=zt(I.expirationTime<=H);if(H=a.unstable_now(),typeof D=="function"){I.callback=D,Bt(H),et=!0;break e}I===i(_)&&s(_),Bt(H)}else s(_);I=i(_)}if(I!==null)et=!0;else{var K=i(v);K!==null&&ie(vt,K.startTime-H),et=!1}}break t}finally{I=null,L=ot,k=!1}et=void 0}}finally{et?x():Lt=!1}}}var x;if(typeof _t=="function")x=function(){_t(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=O,x=function(){Ne.postMessage(null)}}else x=function(){Dt(O,0)};function ie(H,et){N=Dt(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return L},a.unstable_next=function(H){switch(L){case 1:case 2:case 3:var et=3;break;default:et=L}var ot=L;L=et;try{return H()}finally{L=ot}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=L;L=H;try{return et()}finally{L=ot}},a.unstable_scheduleCallback=function(H,et,ot){var zt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>zt?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(it?(At(N),N=-1):it=!0,ie(vt,ot-zt))):(H.sortIndex=D,e(_,H),X||k||(X=!0,Lt||(Lt=!0,x()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var et=L;return function(){var ot=L;L=et;try{return H.apply(this,arguments)}finally{L=ot}}}})(mh)),mh}var Hp;function sE(){return Hp||(Hp=1,dh.exports=aE()),dh.exports}var gh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function lE(){if(Gp)return He;Gp=1;var a=Fh();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:L,fetchPriority:k}):A==="script"&&s.d.X(_,{crossOrigin:I,integrity:L,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var Qp;function oE(){if(Qp)return gh.exports;Qp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),gh.exports=lE(),gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function uE(){if(Fp)return Cl;Fp=1;var a=sE(),e=Fh(),i=oE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return g(c),t;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Dt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case W:return"Profiler";case it:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function K(t){return{current:t}}function nt(t){0>D||(t.current=zt[D],zt[D]=null,D--)}function $(t,n){D++,zt[D]=t.current,t.current=n}var ct=K(null),St=K(null),mt=K(null),be=K(null);function Zt(t,n){switch($(mt,n),$(St,t),$(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=hp(n),t=dp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),$(ct,t)}function xn(){nt(ct),nt(St),nt(mt)}function Ni(t){t.memoizedState!==null&&$(be,t);var n=ct.current,r=dp(n,t.type);n!==r&&($(St,t),$(ct,r))}function ti(t){St.current===t&&(nt(ct),nt(St)),be.current===t&&(nt(be),Al._currentValue=ot)}var mr=Object.prototype.hasOwnProperty,gr=a.unstable_scheduleCallback,pr=a.unstable_cancelCallback,vs=a.unstable_shouldYield,to=a.unstable_requestPaint,fn=a.unstable_now,uc=a.unstable_getCurrentPriorityLevel,Es=a.unstable_ImmediatePriority,sa=a.unstable_UserBlockingPriority,yr=a.unstable_NormalPriority,cc=a.unstable_LowPriority,la=a.unstable_IdlePriority,Ts=a.log,eo=a.unstable_setDisableYieldValue,re=null,jt=null;function tn(t){if(typeof Ts=="function"&&eo(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var je=Math.clz32?Math.clz32:_r,no=Math.log,fc=Math.LN2;function _r(t){return t>>>=0,t===0?32:31-(no(t)/fc|0)|0}var vr=256,Er=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):r||(r=E&~t,r!==0&&(c=Rn(r))))):(E=l&~h,E!==0?c=Rn(E):y!==0?c=Rn(y):r||(r=l&~t,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function Tr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function As(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var t=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),t}function bs(){var t=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),t}function ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rs(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-je(r),F=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Un(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ws(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Op(t.type))}function io(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,hn="__reactContainer$"+Wt,Ds="__reactEvents$"+Wt,hc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,ro="__reactResources$"+Wt,Ar="__reactMarker$"+Wt;function Ui(t){delete t[_e],delete t[he],delete t[Ds],delete t[hc],delete t[xi]}function ii(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=yp(t);t!==null;){if(r=t[_e])return r;t=yp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[ro];return n||(n=t[ro]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Ar]=!0}var Cs=new Set,ca={};function wn(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(ca[t]=n,t=0;t<n.length;t++)Cs.add(n[t])}var ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),so={},Sr={};function lo(t){return mr.call(Sr,t)?!0:mr.call(so,t)?!1:ao.test(t)?Sr[t]=!0:(so[t]=!0,!1)}function Li(t,n,r){if(lo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var br,oo;function ai(t){if(br===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);br=n&&n[1]||"",oo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+t+oo}var fa=!1;function ha(t,n){if(!t||fa)return"";fa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{fa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ai(r):""}function Vs(t){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return ai("Activity");default:return""}}function da(t){try{var n="";do n+=Vs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dc(t){var n=Is(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ma(t){t._valueTracker||(t._valueTracker=dc(t))}function Ns(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mc=/[\n"\\]/g;function de(t){return t.replace(mc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ke(n)):r!=null?zi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function wr(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,r){n==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function si(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Dr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Cr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Os(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uo(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&uo(t,h,n[h])}function Ms(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return pc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ui=null;function xs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ns(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&si(t,!!r.multiple,n,!1)}}}var Bn=!1;function co(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(oi!==null||ui!==null)&&(ru(),oi&&(n=oi,t=ui,ui=oi=null,xs(n),t)))for(n=0;n<t.length;n++)xs(t[n])}}function Vr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{gn=!1}var qn=null,Pi=null,ci=null;function Us(){if(ci)return ci;var t,n=Pi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Ls(){return!1}function Re(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kn:Ls,this.isPropagationStopped=Ls,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Re(qt),Nr=A({},qt,{view:0,detail:0}),fo=Re(Nr),ya,_a,Hn,Or=A({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(ya=t.screenX-Hn.screenX,_a=t.screenY-Hn.screenY):_a=ya=0,Hn=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),pn=Re(Or),ho=A({},Or,{dataTransfer:0}),yc=Re(ho),Mr=A({},Nr,{relatedTarget:0}),va=Re(Mr),zs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Re(zs),mo=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ta=Re(mo),_c=A({},qt,{data:0}),Ps=Re(_c),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=po[t])?!!n[t]:!1}function Ur(){return Bs}var yo=A({},Nr,{key:function(t){if(t.key){var n=xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?go[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Re(yo),_o=A({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Re(_o),fi=A({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),vo=Re(fi),Eo=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),To=Re(Eo),Ao=A({},Or,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Re(Ao),Xe=A({},qt,{newState:0,oldState:0}),So=Re(Xe),bo=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,p=Dn&&(!Gn||u&&8<u&&11>=u),T=" ",U=!1;function j(t,n){switch(t){case"keyup":return bo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Gn&&j(t,n)?(t=Us(),ci=Pi=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function hi(t,n,r,l){oi?ui?ui.push(l):ui=[l]:oi=l,n=cu(n,"onChange"),0<n.length&&(r=new pa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Qn=null;function js(t){lp(t,0)}function Ro(t){var n=zn(t);if(Ns(n))return t}function Cd(t,n){if(t==="change")return n}var Vd=!1;if(Dn){var vc;if(Dn){var Ec="oninput"in document;if(!Ec){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),Ec=typeof Id.oninput=="function"}vc=Ec}else vc=!1;Vd=vc&&(!document.documentMode||9<document.documentMode)}function Nd(){Me&&(Me.detachEvent("onpropertychange",Od),Qn=Me=null)}function Od(t){if(t.propertyName==="value"&&Ro(Qn)){var n=[];hi(n,Qn,t,mn(t)),co(js,n)}}function Nv(t,n,r){t==="focusin"?(Nd(),Me=n,Qn=r,Me.attachEvent("onpropertychange",Od)):t==="focusout"&&Nd()}function Ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(Qn)}function Mv(t,n){if(t==="click")return Ro(n)}function xv(t,n){if(t==="input"||t==="change")return Ro(n)}function Uv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Uv;function ks(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!mr.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,n){var r=Md(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Md(r)}}function Ud(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ud(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ld(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Rr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Rr(t.document)}return n}function Tc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Lv=Dn&&"documentMode"in document&&11>=document.documentMode,ba=null,Ac=null,Hs=null,Sc=!1;function zd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sc||ba==null||ba!==Rr(l)||(l=ba,"selectionStart"in l&&Tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hs&&ks(Hs,l)||(Hs=l,l=cu(Ac,"onSelect"),0<l.length&&(n=new pa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ba)))}function Lr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ra={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},bc={},Pd={};Dn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function zr(t){if(bc[t])return bc[t];if(!Ra[t])return t;var n=Ra[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pd)return bc[t]=n[r];return t}var Bd=zr("animationend"),qd=zr("animationiteration"),jd=zr("animationstart"),zv=zr("transitionrun"),Pv=zr("transitionstart"),Bv=zr("transitioncancel"),kd=zr("transitionend"),Hd=new Map,Rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rc.push("scrollEnd");function Cn(t,n){Hd.set(t,n),wn(n,[t])}var Gd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Gd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:da(n)},Gd.set(t,n),n)}return{value:t,source:n,stack:da(n)}}var _n=[],wa=0,wc=0;function wo(){for(var t=wa,n=wc=wa=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var h=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Qd(r,c,h)}}function Do(t,n,r,l){_n[wa++]=t,_n[wa++]=n,_n[wa++]=r,_n[wa++]=l,wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dc(t,n,r,l){return Do(t,n,r,l),Co(t)}function Da(t,n){return Do(t,null,null,n),Co(t)}function Qd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-je(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function Co(t){if(50<ml)throw ml=0,xf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function qv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,l){return new qv(t,n,r,l)}function Cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Fd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vo(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")Cc(t)&&(y=1);else if(typeof t=="string")y=k0(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=rn(31,r,n,c),t.elementType=w,t.lanes=h,t;case X:return Pr(r.children,c,h,n);case it:y=8,c|=24;break;case W:return t=rn(12,r,n,c|2),t.elementType=W,t.lanes=h,t;case vt:return t=rn(13,r,n,c),t.elementType=vt,t.lanes=h,t;case Lt:return t=rn(19,r,n,c),t.elementType=Lt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dt:case _t:y=10;break t;case At:y=9;break t;case Bt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Pr(t,n,r,l){return t=rn(7,t,l,n),t.lanes=r,t}function Vc(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function Ic(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Va=[],Ia=0,Io=null,No=0,vn=[],En=0,Br=null,mi=1,gi="";function qr(t,n){Va[Ia++]=No,Va[Ia++]=Io,Io=t,No=n}function Yd(t,n,r){vn[En++]=mi,vn[En++]=gi,vn[En++]=Br,Br=t;var l=mi;t=gi;var c=32-je(l)-1;l&=~(1<<c),r+=1;var h=32-je(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-je(n)+c|r<<c|l,gi=h+t}else mi=1<<h|r<<c|l,gi=t}function Nc(t){t.return!==null&&(qr(t,1),Yd(t,1,0))}function Oc(t){for(;t===Io;)Io=Va[--Ia],Va[Ia]=null,No=Va[--Ia],Va[Ia]=null;for(;t===Br;)Br=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null,mi=vn[--En],vn[En]=null}var Ze=null,ae=null,Pt=!1,jr=null,Fn=!1,Mc=Error(s(519));function kr(t){var n=Error(s(418,""));throw Fs(yn(n,t)),Mc}function Kd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<pl.length;r++)wt(pl[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),wr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ma(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Dr(n,l.value,l.defaultValue,l.children),ma(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||fp(n.textContent,r)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=fu),n=!0):n=!1,n||kr(t)}function Xd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function Gs(t){if(t!==Ze)return!1;if(!Pt)return Xd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zf(t.type,t.memoizedProps)),r=!r),r&&ae&&kr(t),Xd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=In(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,tr(t.type)?(t=th,th=null,ae=t):ae=n):ae=Ze?In(t.stateNode.nextSibling):null;return!0}function Qs(){ae=Ze=null,Pt=!1}function Zd(){var t=jr;return t!==null&&(We===null?We=t:We.push.apply(We,t),jr=null),t}function Fs(t){jr===null?jr=[t]:jr.push(t)}var xc=K(null),Hr=null,pi=null;function Bi(t,n,r){$(xc,n._currentValue),n._currentValue=r}function yi(t){t._currentValue=xc.current,nt(xc)}function Uc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Lc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),Uc(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),Uc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ys(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}c=c.return}t!==null&&Lc(n,t,r,l),n.flags|=262144}function Oo(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Hr=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return $d(Hr,t)}function Mo(t,n){return Hr===null&&Gr(t),$d(t,n)}function $d(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},pi===null){if(t===null)throw Error(s(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return r}var jv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},kv=a.unstable_scheduleCallback,Hv=a.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zc(){return{controller:new jv,data:new Map,refCount:0}}function Ks(t){t.refCount--,t.refCount===0&&kv(Hv,function(){t.controller.abort()})}var Xs=null,Pc=0,Na=0,Oa=null;function Gv(t,n){if(Xs===null){var r=Xs=[];Pc=0,Na=jf(),Oa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pc++,n.then(Jd,Jd),n}function Jd(){if(--Pc===0&&Xs!==null){Oa!==null&&(Oa.status="fulfilled");var t=Xs;Xs=null,Na=0,Oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Qv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Wd=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Gv(t,n),Wd!==null&&Wd(t,n)};var Qr=K(null);function Bc(){var t=Qr.current;return t!==null?t:$t.pooledCache}function xo(t,n){n===null?$(Qr,Qr.current):$(Qr,n.pool)}function tm(){var t=Bc();return t===null?null:{parent:Te._currentValue,pool:t}}var Zs=Error(s(460)),em=Error(s(474)),Uo=Error(s(542)),qc={then:function(){}};function nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lo(){}function im(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Lo,Lo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,am(t),t;default:if(typeof n.status=="string")n.then(Lo,Lo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,am(t),t}throw $s=n,Zs}}var $s=null;function rm(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function am(t){if(t===Zs||t===Uo)throw Error(s(483))}var qi=!1;function jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Co(t),Qd(t,null,r),n}return Do(t,l,n,r),Co(t)}function Js(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ws(t,r)}}function Hc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Gc=!1;function Ws(){if(Gc){var t=Oa;if(t!==null)throw t}}function tl(t,n,r,l){Gc=!1;var c=t.updateQueue;qi=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?h=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(h!==null){var F=c.baseState;y=0,G=P=b=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===Na&&(Gc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,ft=E;B=n;var Kt=r;switch(ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){F=dt.call(Kt,F,B);break t}F=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,B=typeof dt=="function"?dt.call(Kt,F,B):dt,B==null)break t;F=A({},F,B);break t;case 2:qi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,b=F):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=F}}function sm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function lm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)sm(r[t],n)}var Ma=K(null),zo=K(0);function om(t,n){t=bi,$(zo,t),$(Ma,n),bi=t|n.baseLanes}function Qc(){$(zo,bi),$(Ma,Ma.current)}function Fc(){bi=zo.current,nt(Ma),nt(zo)}var Hi=0,Tt=null,Ft=null,me=null,Po=!1,xa=!1,Fr=!1,Bo=0,el=0,Ua=null,Fv=0;function oe(){throw Error(s(321))}function Yc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function Kc(t,n,r,l,c,h){return Hi=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Qm:Fm,Fr=!1,h=r(l,c),Fr=!1,xa&&(h=cm(n,r,l,c)),um(t),h}function um(t){H.H=Qo;var n=Ft!==null&&Ft.next!==null;if(Hi=0,me=Ft=Tt=null,Po=!1,el=0,Ua=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Oo(t)&&(De=!0))}function cm(t,n,r,l){Tt=t;var c=0;do{if(xa&&(Ua=null),el=0,xa=!1,25<=c)throw Error(s(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=Wv,h=n(r,l)}while(xa);return h}function Yv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Tt.flags|=1024),n}function Xc(){var t=Bo!==0;return Bo=0,t}function Zc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function $c(t){if(Po){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Po=!1}Hi=0,me=Ft=Tt=null,xa=!1,el=Bo=0,Ua=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Tt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?Tt.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?Tt.memoizedState=me=t:me=me.next=t}return me}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var n=el;return el+=1,Ua===null&&(Ua=[]),t=im(Ua,t,n),n=Tt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Qm:Fm),t}function qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===_t)return ke(t)}throw Error(s(438,String(t)))}function Wc(t){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Jc(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function jo(t){var n=ge();return tf(n,Ft,t)}function tf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Nt&F)===F:(Hi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Na&&(G=!0);else if((Hi&B)===B){P=P.next,B===Na&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=h):b=b.next=F,Tt.lanes|=B,Zi|=B;F=P.action,Fr&&r(h,F),h=P.hasEagerState?P.eagerState:r(h,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=h):b=b.next=B,Tt.lanes|=F,Zi|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=h:b.next=E,!nn(h,t.memoizedState)&&(De=!0,G&&(r=Oa,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);nn(h,n.memoizedState)||(De=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function fm(t,n,r){var l=Tt,c=ge(),h=Pt;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!nn((Ft||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=mm.bind(null,l,c,t);if(il(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,La(9,ko(),dm.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));h||(Hi&124)!==0||hm(l,n,r)}return r}function hm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Jc(),Tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dm(t,n,r,l){n.value=r,n.getSnapshot=l,gm(n)&&pm(t)}function mm(t,n,r){return r(function(){gm(n)&&pm(t)})}function gm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function pm(t){var n=Da(t,2);n!==null&&un(n,t,2)}function nf(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Fr){tn(!0);try{r()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function ym(t,n,r,l){return t.baseState=r,tf(t,Ft,typeof l=="function"?l:_i)}function Kv(t,n,r,l,c){if(Go(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};H.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,_m(n,h)):(h.next=r.next,n.pending=r.next=h)}}function _m(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),vm(t,n,E)}catch(P){rf(t,n,P)}finally{H.T=h}}else try{h=r(c,l),vm(t,n,h)}catch(P){rf(t,n,P)}}function vm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Em(t,n,l)},function(l){return rf(t,n,l)}):Em(t,n,r)}function Em(t,n,r){n.status="fulfilled",n.value=r,Tm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_m(t,r)))}function rf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Tm(n),n=n.next;while(n!==l)}t.action=null}function Tm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Am(t,n){return n}function Sm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=Tt;if(Pt){if(ae){e:{for(var c=ae,h=Fn;c.nodeType!==8;){if(!h){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ae=In(c.nextSibling),l=c.data==="F!";break t}}kr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:n},r.queue=l,r=km.bind(null,Tt,l),l.dispatch=r,l=nf(!1),h=uf.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Kv.bind(null,Tt,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function bm(t){var n=ge();return Rm(n,Ft,t)}function Rm(t,n,r){if(n=tf(t,n,Am)[0],t=jo(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=nl(n)}catch(y){throw y===Zs?Uo:y}else l=n;n=ge();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,La(9,ko(),Xv.bind(null,c,r),null)),[l,h,t]}function Xv(t,n){t.action=n}function wm(t){var n=ge(),r=Ft;if(r!==null)return Rm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function La(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Jc(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ko(){return{destroy:void 0,resource:void 0}}function Dm(){return ge().memoizedState}function Ho(t,n,r,l){var c=$e();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=La(1|n,ko(),r,l)}function il(t,n,r,l){var c=ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Ft!==null&&l!==null&&Yc(l,Ft.memoizedState.deps)?c.memoizedState=La(n,h,r,l):(Tt.flags|=t,c.memoizedState=La(1|n,h,r,l))}function Cm(t,n){Ho(8390656,8,t,n)}function Vm(t,n){il(2048,8,t,n)}function Im(t,n){return il(4,2,t,n)}function Nm(t,n){return il(4,4,t,n)}function Om(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mm(t,n,r){r=r!=null?r.concat([t]):null,il(4,4,Om.bind(null,n,t),r)}function af(){}function xm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Yc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Um(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Yc(n,l[1]))return l[0];if(l=t(),Fr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l}function sf(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Pg(),Tt.lanes|=t,Zi|=t,r)}function Lm(t,n,r,l){return nn(r,n)?r:Ma.current!==null?(t=sf(t,r,l),nn(t,n)||(De=!0),t):(Hi&42)===0?(De=!0,t.memoizedState=r):(t=Pg(),Tt.lanes|=t,Zi|=t,n)}function zm(t,n,r,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=H.T,E={};H.T=E,uf(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=Qv(b,l);rl(t,n,G,on(t))}else rl(t,n,l,on(t))}catch(F){rl(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{et.p=h,H.T=y}}function Zv(){}function lf(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Pm(t).queue;zm(t,c,n,ot,r===null?Zv:function(){return Bm(t),r(l)})}function Pm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bm(t){var n=Pm(t).next.queue;rl(t,n,{},on())}function of(){return ke(Al)}function qm(){return ge().memoizedState}function jm(){return ge().memoizedState}function $v(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=ji(r);var l=ki(n,t,r);l!==null&&(un(l,n,r),Js(l,n,r)),n={cache:zc()},t.payload=n;return}n=n.return}}function Jv(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Go(t)?Hm(n,r):(r=Dc(t,n,r,l),r!==null&&(un(r,t,l),Gm(r,n,l)))}function km(t,n,r){var l=on();rl(t,n,r,l)}function rl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Go(t))Hm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return Do(t,n,c,0),$t===null&&wo(),!1}catch{}finally{}if(r=Dc(t,n,c,l),r!==null)return un(r,t,l),Gm(r,n,l),!0}return!1}function uf(t,n,r,l){if(l={lane:2,revertLane:jf(),action:l,hasEagerState:!1,eagerState:null,next:null},Go(t)){if(n)throw Error(s(479))}else n=Dc(t,r,l,2),n!==null&&un(n,t,2)}function Go(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Hm(t,n){xa=Po=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ws(t,r)}}var Qo={readContext:ke,use:qo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Qm={readContext:ke,use:qo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Cm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ho(4194308,4,Om.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ho(4194308,4,t,n)},useInsertionEffect:function(t,n){Ho(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Fr){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Fr){tn(!0);try{r(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Jv.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=nf(t);var n=t.queue,r=km.bind(null,Tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:af,useDeferredValue:function(t,n){var r=$e();return sf(r,t,n)},useTransition:function(){var t=nf(!1);return t=zm.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Tt,c=$e();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Nt&124)!==0||hm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,Cm(mm.bind(null,l,h,t),[t]),l.flags|=2048,La(9,ko(),dm.bind(null,l,h,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Pt){var r=gi,l=mi;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Bo++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Fv++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:of,useFormState:Sm,useActionState:Sm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=uf.bind(null,Tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Wc,useCacheRefresh:function(){return $e().memoizedState=$v.bind(null,Tt)}},Fm={readContext:ke,use:qo,useCallback:xm,useContext:ke,useEffect:Vm,useImperativeHandle:Mm,useInsertionEffect:Im,useLayoutEffect:Nm,useMemo:Um,useReducer:jo,useRef:Dm,useState:function(){return jo(_i)},useDebugValue:af,useDeferredValue:function(t,n){var r=ge();return Lm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=jo(_i)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:fm,useId:qm,useHostTransitionStatus:of,useFormState:bm,useActionState:bm,useOptimistic:function(t,n){var r=ge();return ym(r,Ft,t,n)},useMemoCache:Wc,useCacheRefresh:jm},Wv={readContext:ke,use:qo,useCallback:xm,useContext:ke,useEffect:Vm,useImperativeHandle:Mm,useInsertionEffect:Im,useLayoutEffect:Nm,useMemo:Um,useReducer:ef,useRef:Dm,useState:function(){return ef(_i)},useDebugValue:af,useDeferredValue:function(t,n){var r=ge();return Ft===null?sf(r,t,n):Lm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=ef(_i)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:fm,useId:qm,useHostTransitionStatus:of,useFormState:wm,useActionState:wm,useOptimistic:function(t,n){var r=ge();return Ft!==null?ym(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:jm},za=null,al=0;function Fo(t){var n=al;return al+=1,za===null&&(za=[]),im(za,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yo(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ym(t){var n=t._init;return n(t._payload)}function Km(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function h(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,Q){return C===null||C.tag!==6?(C=Vc(z,M.mode,Q),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,Q){var at=z.type;return at===X?G(M,C,z.props.children,Q,z.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Ym(at)===C.type)?(C=c(C,z.props),sl(C,z),C.return=M,C):(C=Vo(z.type,z.key,z.props,null,M.mode,Q),sl(C,z),C.return=M,C)}function P(M,C,z,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=Ic(z,M.mode,Q),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function G(M,C,z,Q,at){return C===null||C.tag!==7?(C=Pr(z,M.mode,Q,at),C.return=M,C):(C=c(C,z),C.return=M,C)}function F(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Vc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case L:return z=Vo(C.type,C.key,C.props,null,M.mode,z),sl(z,C),z.return=M,z;case k:return C=Ic(C,M.mode,z),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),F(M,C,z)}if(ie(C)||x(C))return C=Pr(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return F(M,Fo(C),z);if(C.$$typeof===_t)return F(M,Mo(M,C),z);Yo(M,C)}return null}function B(M,C,z,Q){var at=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,C,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return z.key===at?b(M,C,z,Q):null;case k:return z.key===at?P(M,C,z,Q):null;case S:return at=z._init,z=at(z._payload),B(M,C,z,Q)}if(ie(z)||x(z))return at!==null?null:G(M,C,z,Q,null);if(typeof z.then=="function")return B(M,C,Fo(z),Q);if(z.$$typeof===_t)return B(M,C,Mo(M,z),Q);Yo(M,z)}return null}function q(M,C,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(C,M,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:return M=M.get(Q.key===null?z:Q.key)||null,b(C,M,Q,at);case k:return M=M.get(Q.key===null?z:Q.key)||null,P(C,M,Q,at);case S:var bt=Q._init;return Q=bt(Q._payload),q(M,C,z,Q,at)}if(ie(Q)||x(Q))return M=M.get(z)||null,G(C,M,Q,at,null);if(typeof Q.then=="function")return q(M,C,z,Fo(Q),at);if(Q.$$typeof===_t)return q(M,C,z,Mo(C,Q),at);Yo(C,Q)}return null}function dt(M,C,z,Q){for(var at=null,bt=null,lt=C,ht=C=0,Ve=null;lt!==null&&ht<z.length;ht++){lt.index>ht?(Ve=lt,lt=null):Ve=lt.sibling;var xt=B(M,lt,z[ht],Q);if(xt===null){lt===null&&(lt=Ve);break}t&&lt&&xt.alternate===null&&n(M,lt),C=h(xt,C,ht),bt===null?at=xt:bt.sibling=xt,bt=xt,lt=Ve}if(ht===z.length)return r(M,lt),Pt&&qr(M,ht),at;if(lt===null){for(;ht<z.length;ht++)lt=F(M,z[ht],Q),lt!==null&&(C=h(lt,C,ht),bt===null?at=lt:bt.sibling=lt,bt=lt);return Pt&&qr(M,ht),at}for(lt=l(lt);ht<z.length;ht++)Ve=q(lt,M,ht,z[ht],Q),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?ht:Ve.key),C=h(Ve,C,ht),bt===null?at=Ve:bt.sibling=Ve,bt=Ve);return t&&lt.forEach(function(ar){return n(M,ar)}),Pt&&qr(M,ht),at}function ft(M,C,z,Q){if(z==null)throw Error(s(151));for(var at=null,bt=null,lt=C,ht=C=0,Ve=null,xt=z.next();lt!==null&&!xt.done;ht++,xt=z.next()){lt.index>ht?(Ve=lt,lt=null):Ve=lt.sibling;var ar=B(M,lt,xt.value,Q);if(ar===null){lt===null&&(lt=Ve);break}t&&lt&&ar.alternate===null&&n(M,lt),C=h(ar,C,ht),bt===null?at=ar:bt.sibling=ar,bt=ar,lt=Ve}if(xt.done)return r(M,lt),Pt&&qr(M,ht),at;if(lt===null){for(;!xt.done;ht++,xt=z.next())xt=F(M,xt.value,Q),xt!==null&&(C=h(xt,C,ht),bt===null?at=xt:bt.sibling=xt,bt=xt);return Pt&&qr(M,ht),at}for(lt=l(lt);!xt.done;ht++,xt=z.next())xt=q(lt,M,ht,xt.value,Q),xt!==null&&(t&&xt.alternate!==null&&lt.delete(xt.key===null?ht:xt.key),C=h(xt,C,ht),bt===null?at=xt:bt.sibling=xt,bt=xt);return t&&lt.forEach(function(tE){return n(M,tE)}),Pt&&qr(M,ht),at}function Kt(M,C,z,Q){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case L:t:{for(var at=z.key;C!==null;){if(C.key===at){if(at=z.type,at===X){if(C.tag===7){r(M,C.sibling),Q=c(C,z.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Ym(at)===C.type){r(M,C.sibling),Q=c(C,z.props),sl(Q,z),Q.return=M,M=Q;break t}r(M,C);break}else n(M,C);C=C.sibling}z.type===X?(Q=Pr(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Vo(z.type,z.key,z.props,null,M.mode,Q),sl(Q,z),Q.return=M,M=Q)}return y(M);case k:t:{for(at=z.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(M,C.sibling),Q=c(C,z.children||[]),Q.return=M,M=Q;break t}else{r(M,C);break}else n(M,C);C=C.sibling}Q=Ic(z,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return at=z._init,z=at(z._payload),Kt(M,C,z,Q)}if(ie(z))return dt(M,C,z,Q);if(x(z)){if(at=x(z),typeof at!="function")throw Error(s(150));return z=at.call(z),ft(M,C,z,Q)}if(typeof z.then=="function")return Kt(M,C,Fo(z),Q);if(z.$$typeof===_t)return Kt(M,C,Mo(M,z),Q);Yo(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(r(M,C.sibling),Q=c(C,z),Q.return=M,M=Q):(r(M,C),Q=Vc(z,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,C)}return function(M,C,z,Q){try{al=0;var at=Kt(M,C,z,Q);return za=null,at}catch(lt){if(lt===Zs||lt===Uo)throw lt;var bt=rn(29,lt,null,M.mode);return bt.lanes=Q,bt.return=M,bt}finally{}}}var Pa=Km(!0),Xm=Km(!1),Tn=K(null),Yn=null;function Gi(t){var n=t.alternate;$(Ae,Ae.current&1),$(Tn,t),Yn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Yn=t)}function Zm(t){if(t.tag===22){if($(Ae,Ae.current),$(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Qi()}function Qi(){$(Ae,Ae.current),$(Tn,Tn.current)}function vi(t){nt(Tn),Yn===t&&(Yn=null),nt(Ae)}var Ae=K(0);function Ko(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Wf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function cf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ff={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=ji(l);c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(un(n,t,l),Js(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(un(n,t,l),Js(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=ji(r);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,r),n!==null&&(un(n,t,r),Js(n,t,r))}};function $m(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!ks(r,l)||!ks(c,h):!0}function Jm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ff.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wm(t){Xo(t)}function tg(t){console.error(t)}function eg(t){Xo(t)}function Zo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ng(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function hf(t,n,r){return r=ji(r),r.tag=3,r.payload={element:null},r.callback=function(){Zo(t,n)},r}function ig(t){return t=ji(t),t.tag=3,t}function rg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){ng(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ng(n,r,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function t0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ys(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Yn===null?Lf():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===qc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Pf(t,l,c)),!1;case 22:return r.flags|=65536,l===qc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Pf(t,l,c)),!1}throw Error(s(435,r.tag))}return Pf(t,l,c),Lf(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Mc&&(t=Error(s(422),{cause:l}),Fs(yn(t,r)))):(l!==Mc&&(n=Error(s(423),{cause:l}),Fs(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=hf(t.stateNode,l,c),Hc(t,c),se!==4&&(se=2)),!1;var h=Error(s(520),{cause:l});if(h=yn(h,r),dl===null?dl=[h]:dl.push(h),se!==4&&(se=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=hf(r.stateNode,l,t),Hc(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&($i===null||!$i.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=ig(c),rg(c,t,r,l),Hc(r,c),!1}r=r.return}while(r!==null);return!1}var ag=Error(s(461)),De=!1;function xe(t,n,r,l){n.child=t===null?Xm(n,null,r,l):Pa(n,t.child,r,l)}function sg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Gr(n),l=Kc(t,n,r,y,h,c),E=Xc(),t!==null&&!De?(Zc(t,n,c),Ei(t,n,c)):(Pt&&E&&Nc(n),n.flags|=1,xe(t,n,l,c),n.child)}function lg(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!Cc(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,og(t,n,h,l,c)):(t=Vo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Ef(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:ks,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(h,l),t.ref=n.ref,t.return=n,n.child=t}function og(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(ks(h,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=h,Ef(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return df(t,n,r,l,c)}function ug(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return cg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xo(n,h!==null?h.cachePool:null),h!==null?om(n,h):Qc(),Zm(n);else return n.lanes=n.childLanes=536870912,cg(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(xo(n,h.cachePool),om(n,h),Qi(),n.memoizedState=null):(t!==null&&xo(n,null),Qc(),Qi());return xe(t,n,c,r),n.child}function cg(t,n,r,l){var c=Bc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&xo(n,null),Qc(),Zm(n),t!==null&&Ys(t,n,l,!0),null}function $o(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function df(t,n,r,l,c){return Gr(n),r=Kc(t,n,r,l,void 0,c),l=Xc(),t!==null&&!De?(Zc(t,n,c),Ei(t,n,c)):(Pt&&l&&Nc(n),n.flags|=1,xe(t,n,r,c),n.child)}function fg(t,n,r,l,c,h){return Gr(n),n.updateQueue=null,r=cm(n,l,r,c),um(t),l=Xc(),t!==null&&!De?(Zc(t,n,h),Ei(t,n,h)):(Pt&&l&&Nc(n),n.flags|=1,xe(t,n,r,h),n.child)}function hg(t,n,r,l,c){if(Gr(n),n.stateNode===null){var h=Ca,y=r.contextType;typeof y=="object"&&y!==null&&(h=ke(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ff,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},jc(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?ke(y):Ca,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(cf(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&ff.enqueueReplaceState(h,h.state,null),tl(n,l,h,c),Ws(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=Yr(r,E);h.props=b;var P=h.context,G=r.contextType;y=Ca,typeof G=="object"&&G!==null&&(y=ke(G));var F=r.getDerivedStateFromProps;G=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==y)&&Jm(n,h,l,y),qi=!1;var B=n.memoizedState;h.state=B,tl(n,l,h,c),Ws(),P=n.memoizedState,E||B!==P||qi?(typeof F=="function"&&(cf(n,r,F,l),P=n.memoizedState),(b=qi||$m(n,r,b,l,B,P,y))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,kc(t,n),y=n.memoizedProps,G=Yr(r,y),h.props=G,F=n.pendingProps,B=h.context,P=r.contextType,b=Ca,typeof P=="object"&&P!==null&&(b=ke(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==F||B!==b)&&Jm(n,h,l,b),qi=!1,B=n.memoizedState,h.state=B,tl(n,l,h,c),Ws();var q=n.memoizedState;y!==F||B!==q||qi||t!==null&&t.dependencies!==null&&Oo(t.dependencies)?(typeof E=="function"&&(cf(n,r,E,l),q=n.memoizedState),(G=qi||$m(n,r,G,l,B,q,b)||t!==null&&t.dependencies!==null&&Oo(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=b,l=G):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,$o(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Pa(n,t.child,null,c),n.child=Pa(n,null,r,c)):xe(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Ei(t,n,c),t}function dg(t,n,r,l){return Qs(),n.flags|=256,xe(t,n,r,l),n.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:tm()}}function pf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function mg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Gi(n):Qi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Fn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Br!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Wf(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Jo({mode:"hidden",children:E},c),l=Pr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=gf(r),c.childLanes=pf(t,y,r),n.memoizedState=mf,l):(Gi(n),yf(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Gi(n),n.flags&=-257,n=_f(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Jo({mode:"visible",children:l.children},E),c=Pr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Pa(n,t.child,null,r),l=n.child,l.memoizedState=gf(r),l.childLanes=pf(t,y,r),n.memoizedState=mf,n=c);else if(Gi(n),Wf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,Fs({value:l,source:null,stack:null}),n=_f(t,n,r)}else if(De||Ys(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Da(t,l),un(y,t,l),ag;E.data==="$?"||Lf(),n=_f(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=In(E.nextSibling),Ze=n,Pt=!0,jr=null,Fn=!1,t!==null&&(vn[En++]=mi,vn[En++]=gi,vn[En++]=Br,mi=t.id,gi=t.overflow,Br=n),n=yf(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=di(P,c):(c=Pr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=gf(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=tm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=pf(t,y,r),n.memoizedState=mf,l):(Gi(n),r=t.child,t=r.sibling,r=di(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function yf(t,n){return n=Jo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Jo(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _f(t,n,r){return Pa(n,t.child,null,r),t=yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Uc(t.return,n,r)}function vf(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function pg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(xe(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gg(t,r,n);else if(t.tag===19)gg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ko(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),vf(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ko(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}vf(n,!0,r,null,h);break;case"together":vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ys(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=di(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=di(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ef(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Oo(t)))}function e0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Bi(n,Te,t.memoizedState.cache),Qs();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?mg(t,n,r):(Gi(n),t=Ei(t,n,r),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ys(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return pg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,ug(t,n,r);case 24:Bi(n,Te,t.memoizedState.cache)}return Ei(t,n,r)}function yg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Ef(t,r)&&(n.flags&128)===0)return De=!1,e0(t,n,r);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&Yd(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Cc(l)?(t=Yr(l,t),n.tag=1,n=hg(null,n,l,t,r)):(n.tag=0,n=df(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Bt){n.tag=11,n=sg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=lg(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(s(306,n,""))}}return n;case 0:return df(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Yr(l,n.pendingProps),hg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,kc(t,n),tl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Bi(n,Te,l),l!==h.cache&&Lc(n,[Te],r,!0),Ws(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=dg(t,n,l,r);break t}else if(l!==c){c=yn(Error(s(424)),n),Fs(c),n=dg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=In(t.firstChild),Ze=n,Pt=!0,jr=null,Fn=!0,r=Xm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Qs(),l===c){n=Ei(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return $o(t,n),t===null?(r=Tp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=hu(mt.current).createElement(r),l[_e]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=Tp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Pt&&(l=n.stateNode=_p(n.type,n.pendingProps,mt.current),Ze=n,Fn=!0,c=ae,tr(n.type)?(th=c,ae=In(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),$o(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=V0(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ze=n,ae=In(l.firstChild),Fn=!1,c=!0):c=!1),c||kr(n)),Ni(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,Zf(c,h)?l=null:y!==null&&Zf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Kc(t,n,Yv,null,null,r),Al._currentValue=c),$o(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=I0(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||kr(n)),null;case 13:return mg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Pa(n,null,l,r):xe(t,n,l,r),n.child;case 11:return sg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Bi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Gr(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return lg(t,n,n.type,n.pendingProps,r);case 15:return og(t,n,n.type,n.pendingProps,r);case 19:return pg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Jo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=di(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return ug(t,n,r);case 24:return Gr(n),l=ke(Te),t===null?(c=Bc(),c===null&&(c=$t,h=zc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},jc(n),Bi(n,Te,c)):((t.lanes&r)!==0&&(kc(t,n),tl(n,null,null,r),Ws()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Bi(n,Te,l)):(l=h.cache,Bi(n,Te,l),l!==c.cache&&Lc(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ti(t){t.flags|=4}function _g(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wp(n)){if(n=Tn.current,n!==null&&((Nt&4194048)===Nt?Yn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Yn))throw $s=qc,em;t.flags|=8192}}function Wo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bs():536870912,t.lanes|=n,ka|=n)}function ll(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function n0(t,n,r){var l=n.pendingProps;switch(Oc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(Te),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zd())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ti(n),r!==null?(ee(n),_g(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ti(n),ee(n),_g(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),ee(n),n.flags&=-16777217),null;case 27:ti(n),r=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ct.current,Gs(n)?Kd(n):(t=_p(c,l,r),n.stateNode=t,Ti(n))}return ee(n),null;case 5:if(ti(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ct.current,Gs(n))Kd(n);else{switch(c=hu(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mt.current,Gs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||fp(t.nodeValue,r)),t||kr(n)}else t=hu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Wo(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Qf(n.stateNode.containerInfo),ee(n),null;case 10:return yi(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)ll(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Ko(t),h!==null){for(n.flags|=128,ll(c,!1),t=h.updateQueue,n.updateQueue=t,Wo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Fd(r,t),r=r.sibling;return $(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>nu&&(n.flags|=128,l=!0,ll(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ko(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wo(n,t),ll(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Pt)return ee(n),null}else 2*fn()-c.renderingStartTime>nu&&r!==536870912&&(n.flags|=128,l=!0,ll(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,$(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return vi(n),Fc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Wo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),yi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function i0(t,n){switch(Oc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return xn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),Fc(),t!==null&&nt(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(Te),null;case 25:return null;default:return null}}function vg(t,n){switch(Oc(n),n.tag){case 3:yi(Te),xn();break;case 26:case 27:case 5:ti(n);break;case 4:xn();break;case 13:vi(n);break;case 19:nt(Ae);break;case 10:yi(n.type);break;case 22:case 23:vi(n),Fc(),t!==null&&nt(Qr);break;case 24:yi(Te)}}function ol(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Fi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==h)}}catch(G){Xt(n,n.return,G)}}function Eg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{lm(n,r)}catch(l){Xt(t,t.return,l)}}}function Tg(t,n,r){r.props=Yr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Ag(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Tf(t,n,r){try{var l=t.stateNode;b0(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Sg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Af(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fu));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Sf(t,n,r),t=t.sibling;t!==null;)Sf(t,n,r),t=t.sibling}function tu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(tu(t,n,r),t=t.sibling;t!==null;)tu(t,n,r),t=t.sibling}function bg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[_e]=t,n[he]=r}catch(h){Xt(t,t.return,h)}}var Ai=!1,ue=!1,bf=!1,Rg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function r0(t,n){if(t=t.containerInfo,Kf=_u,t=Ld(t),Tc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==h||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===h&&++G===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xf={focusedElem:t,selectionRange:r},_u=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var dt=Yr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(dt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Jf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r),l&4&&ol(5,r);break;case 1:if(Yi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Eg(r),l&512&&ul(r,r.return);break;case 3:if(Yi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{lm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&bg(r);case 26:case 5:Yi(t,r),n===null&&l&4&&Ag(r),l&512&&ul(r,r.return);break;case 12:Yi(t,r);break;case 13:Yi(t,r),l&4&&Vg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=d0.bind(null,r),N0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ai;var h=ue;Ai=l,(ue=n)&&!h?Ki(t,r,(r.subtreeFlags&8772)!==0):Yi(t,r),Ai=c,ue=h}break;case 30:break;default:Yi(t,r)}}function Dg(t){var n=t.alternate;n!==null&&(t.alternate=null,Dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Si(t,n,r){for(r=r.child;r!==null;)Cg(t,n,r),r=r.sibling}function Cg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ue||Kn(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Kn(r,n);var l=te,c=Je;tr(r.type)&&(te=r.stateNode,Je=!1),Si(t,n,r),_l(r.stateNode),te=l,Je=c;break;case 5:ue||Kn(r,n);case 6:if(l=te,c=Je,te=null,Si(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(h){Xt(r,n,h)}else try{te.removeChild(r.stateNode)}catch(h){Xt(r,n,h)}break;case 18:te!==null&&(Je?(t=te,pp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),wl(t)):pp(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,Si(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:ue||Fi(2,r,n),ue||Fi(4,r,n),Si(t,n,r);break;case 1:ue||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Tg(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,Si(t,n,r),ue=l;break;default:Si(t,n,r)}}function Vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(r){Xt(n,n.return,r)}}function a0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Rg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Rg),n;default:throw Error(s(435,t.tag))}}function Rf(t,n){var r=a0(t);n.forEach(function(l){var c=m0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function an(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));Cg(h,y,c),te=null,Je=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ig(n,t),n=n.sibling}var Vn=null;function Ig(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(Fi(3,t,t.return),ol(3,t),Fi(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Vn;if(an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ar]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,r),h[_e]=t,le(h),l=h;break t;case"link":var y=bp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;case"meta":if(y=bp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,le(h),l=h}t.stateNode=l}else Rp(c,t.type,t.stateNode);else t.stateNode=Sp(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Rp(c,t.type,t.stateNode):Sp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Tf(t,t.memoizedProps,r.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),r!==null&&l&4&&Tf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(ue||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Tf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bf=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(gu=null,c=Vn,Vn=du(n.containerInfo),an(n,t),Vn=c,sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(q){Xt(t,t.return,q)}bf&&(bf=!1,Ng(t));break;case 4:l=Vn,Vn=du(t.stateNode.containerInfo),an(n,t),sn(t),Vn=l;break;case 12:an(n,t),sn(t);break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Nf=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rf(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ai,G=ue;if(Ai=P||c,ue=G||b,an(n,t),ue=G,Ai=P,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ai||ue||Kr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(h=b.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rf(t,r))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rf(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Sg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,h=Af(t);tu(t,h,c);break;case 5:var y=r.stateNode;r.flags&32&&(dn(y,""),r.flags&=-33);var E=Af(t);tu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Af(t);Sf(t,P,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wg(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),Kr(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Tg(n,n.return,r),Kr(n);break;case 27:_l(n.stateNode);case 26:case 5:Kn(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Ki(c,h,r),ol(4,h);break;case 1:if(Ki(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)sm(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Eg(h),ul(h,h.return);break;case 27:bg(h);case 26:case 5:Ki(c,h,r),r&&l===null&&y&4&&Ag(h),ul(h,h.return);break;case 12:Ki(c,h,r);break;case 13:Ki(c,h,r),r&&y&4&&Vg(c,h);break;case 22:h.memoizedState===null&&Ki(c,h,r),ul(h,h.return);break;case 30:break;default:Ki(c,h,r)}n=n.sibling}}function wf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ks(r))}function Df(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Og(t,n,r,l),n=n.sibling}function Og(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&ol(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?Xn(t,n,r,l):cl(t,n):h._visibility&2?Xn(t,n,r,l):(h._visibility|=2,Ba(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wf(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Df(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ba(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ba(h,y,E,b,c),ol(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ba(h,y,E,b,c):cl(h,y):(G._visibility|=2,Ba(h,y,E,b,c)),c&&P&2048&&wf(y.alternate,y);break;case 24:Ba(h,y,E,b,c),c&&P&2048&&Df(y.alternate,y);break;default:Ba(h,y,E,b,c)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:cl(r,l),c&2048&&wf(l.alternate,l);break;case 24:cl(r,l),c&2048&&Df(l.alternate,l);break;default:cl(r,l)}n=n.sibling}}var fl=8192;function qa(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 26:qa(t),t.flags&fl&&t.memoizedState!==null&&G0(Vn,t.memoizedState,t.memoizedProps);break;case 5:qa(t);break;case 3:case 4:var n=Vn;Vn=du(t.stateNode.containerInfo),qa(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,qa(t),fl=n):qa(t));break;default:qa(t)}}function xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Lg(l,t)}xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,eu(t)):hl(t);break;default:hl(t)}}function eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Lg(l,t)}xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),eu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,eu(n));break;default:eu(n)}t=t.sibling}}function Lg(t,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:Fi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ce=l;else t:for(r=t;Ce!==null;){l=Ce;var c=l.sibling,h=l.return;if(Dg(l),l===r){Ce=null;break t}if(c!==null){c.return=h,Ce=c;break t}Ce=h}}}var s0={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},l0=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,Rt=null,Nt=0,Ht=0,ln=null,Xi=!1,ja=!1,Cf=!1,bi=0,se=0,Zi=0,Xr=0,Vf=0,An=0,ka=0,dl=null,We=null,If=!1,Nf=0,nu=1/0,iu=null,$i=null,Ue=0,Ji=null,Ha=null,Ga=0,Of=0,Mf=null,zg=null,ml=0,xf=null;function on(){if((kt&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=Na;return t!==0?t:jf()}return Mi()}function Pg(){An===0&&(An=(Nt&536870912)===0||Pt?Ss():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function un(t,n,r){(t===$t&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Wi(t,Nt,An,!1)),ni(t,r),((kt&2)===0||t!==$t)&&(t===$t&&((kt&2)===0&&(Xr|=r),se===4&&Wi(t,Nt,An,!1)),Zn(t))}function Bg(t,n,r){if((kt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Tr(t,n),c=l?c0(t,n):zf(t,n,!0),h=l;do{if(c===0){ja&&!l&&Wi(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!o0(r)){c=zf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=dl;var b=E.current.memoizedState.isDehydrated;if(b&&(Qa(E,y).flags|=256),y=zf(E,y,!1),y!==2){if(Cf&&!b){E.errorRecoveryDisabledLanes|=h,Xr|=h,c=4;break t}h=We,We=c,h!==null&&(We===null?We=h:We.push.apply(We,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){Qa(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,An,!Xi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Nf+300-fn(),10<c)){if(Wi(l,n,An,!Xi),oa(l,0,!0)!==0)break t;l.timeoutHandle=mp(qg.bind(null,l,r,We,iu,If,n,An,Xr,ka,Xi,h,2,-0,0),c);break t}qg(l,r,We,iu,If,n,An,Xr,ka,Xi,h,0,-0,0)}}break}while(!0);Zn(t)}function qg(t,n,r,l,c,h,y,E,b,P,G,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:H0},Mg(n),F=Q0(),F!==null)){t.cancelPendingCommit=F(Yg.bind(null,t,n,h,r,l,c,y,E,b,G,1,B,q)),Wi(t,h,y,!P);return}Yg(t,n,h,r,l,c,y,E,b)}function o0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!nn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,r,l){n&=~Vf,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-je(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&Un(t,r,n)}function ru(){return(kt&6)===0?(gl(0),!1):!0}function Uf(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,pi=Hr=null,$c(t),za=null,al=0,t=Rt;for(;t!==null;)vg(t.alternate,t),t=t.return;Rt=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,w0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Uf(),$t=t,Rt=r=di(t.current,null),Nt=n,Ht=0,ln=null,Xi=!1,ja=Tr(t,n),Cf=!1,ka=An=Vf=Xr=Zi=se=0,We=dl=null,If=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),h=1<<c;n|=t[c],l&=~h}return bi=n,wo(),r}function jg(t,n){Tt=null,H.H=Qo,n===Zs||n===Uo?(n=rm(),Ht=3):n===em?(n=rm(),Ht=4):Ht=n===ag?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Rt===null&&(se=1,Zo(t,yn(n,t.current)))}function kg(){var t=H.H;return H.H=Qo,t===null?Qo:t}function Hg(){var t=H.A;return H.A=s0,t}function Lf(){se=4,Xi||(Nt&4194048)!==Nt&&Tn.current!==null||(ja=!0),(Zi&134217727)===0&&(Xr&134217727)===0||$t===null||Wi($t,Nt,An,!1)}function zf(t,n,r){var l=kt;kt|=2;var c=kg(),h=Hg();($t!==t||Nt!==n)&&(iu=null,Qa(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=ln;switch(Ht){case 8:Uf(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Ht;if(Ht=0,ln=null,Fa(t,E,b,P),r&&ja){y=0;break t}break;default:P=Ht,Ht=0,ln=null,Fa(t,E,b,P)}}u0(),y=se;break}catch(G){jg(t,G)}while(!0);return n&&t.shellSuspendCounter++,pi=Hr=null,kt=l,H.H=c,H.A=h,Rt===null&&($t=null,Nt=0,wo()),y}function u0(){for(;Rt!==null;)Gg(Rt)}function c0(t,n){var r=kt;kt|=2;var l=kg(),c=Hg();$t!==t||Nt!==n?(iu=null,nu=fn()+500,Qa(t,n)):ja=Tr(t,n);t:do try{if(Ht!==0&&Rt!==null){n=Rt;var h=ln;e:switch(Ht){case 1:Ht=0,ln=null,Fa(t,n,h,1);break;case 2:case 9:if(nm(h)){Ht=0,ln=null,Qg(n);break}n=function(){Ht!==2&&Ht!==9||$t!==t||(Ht=7),Zn(t)},h.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:nm(h)?(Ht=0,ln=null,Qg(n)):(Ht=0,ln=null,Fa(t,n,h,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||wp(y)){Ht=0,ln=null;var b=E.sibling;if(b!==null)Rt=b;else{var P=E.return;P!==null?(Rt=P,au(P)):Rt=null}break e}}Ht=0,ln=null,Fa(t,n,h,5);break;case 6:Ht=0,ln=null,Fa(t,n,h,6);break;case 8:Uf(),se=6;break t;default:throw Error(s(462))}}f0();break}catch(G){jg(t,G)}while(!0);return pi=Hr=null,H.H=l,H.A=c,kt=r,Rt!==null?0:($t=null,Nt=0,wo(),se)}function f0(){for(;Rt!==null&&!vs();)Gg(Rt)}function Gg(t){var n=yg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?au(t):Rt=n}function Qg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=fg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:$c(n);default:vg(r,n),n=Rt=Fd(n,bi),n=yg(r,n,bi)}t.memoizedProps=t.pendingProps,n===null?au(t):Rt=n}function Fa(t,n,r,l){pi=Hr=null,$c(n),za=null,al=0;var c=n.return;try{if(t0(t,c,n,r,Nt)){se=1,Zo(t,yn(r,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;se=1,Zo(t,yn(r,t.current)),Rt=null;return}n.flags&32768?(Pt||l===1?t=!0:ja||(Nt&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):au(n)}function au(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,Xi);return}t=n.return;var r=n0(n.alternate,n,bi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);se===0&&(se=5)}function Fg(t,n){do{var r=i0(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);se=6,Rt=null}function Yg(t,n,r,l,c,h,y,E,b){t.cancelPendingCommit=null;do su();while(Ue!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=wc,Rs(t,r,h,y,E,b),t===$t&&(Rt=$t=null,Nt=0),Ha=n,Ji=t,Ga=r,Of=h,Mf=c,zg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g0(yr,function(){return Jg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=kt,kt|=4;try{r0(t,n,r)}finally{kt=y,et.p=c,H.T=l}}Ue=1,Kg(),Xg(),Zg()}}function Kg(){if(Ue===1){Ue=0;var t=Ji,n=Ha,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Ig(n,t);var h=Xf,y=Ld(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ud(E.ownerDocument.documentElement,E)){if(b!==null&&Tc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),dt=E.textContent.length,ft=Math.min(b.start,dt),Kt=b.end===void 0?ft:Math.min(b.end,dt);!q.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var M=xd(E,ft),C=xd(E,Kt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var z=F.createRange();z.setStart(M.node,M.offset),q.removeAllRanges(),ft>Kt?(q.addRange(z),q.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),q.addRange(z))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_u=!!Kf,Xf=Kf=null}finally{kt=c,et.p=l,H.T=r}}t.current=n,Ue=2}}function Xg(){if(Ue===2){Ue=0;var t=Ji,n=Ha,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{wg(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=r}}Ue=3}}function Zg(){if(Ue===4||Ue===3){Ue=0,to();var t=Ji,n=Ha,r=Ga,l=zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ha=Ji=null,$g(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),ua(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Ga&3)!==0&&su(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===xf?ml++:(ml=0,xf=t):ml=0,gl(0)}}function $g(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ks(n)))}function su(t){return Kg(),Xg(),Zg(),Jg()}function Jg(){if(Ue!==5)return!1;var t=Ji,n=Of;Of=0;var r=ua(Ga),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Mf,Mf=null;var h=Ji,y=Ga;if(Ue=0,Ha=Ji=null,Ga=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,Ug(h.current),Og(h,h.current,y,r),kt=E,gl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,h)}catch{}return!0}finally{et.p=c,H.T=l,$g(t,n)}}function Wg(t,n,r){n=yn(r,n),n=hf(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)Wg(t,t,r);else for(;n!==null;){if(n.tag===3){Wg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=yn(r,t),r=ig(2),l=ki(n,r,2),l!==null&&(rg(r,l,n,t),ni(l,2),Zn(l));break}}n=n.return}}function Pf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new l0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Cf=!0,c.add(r),t=h0.bind(null,t,n,r),n.then(t,t))}function h0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Nt&r)===r&&(se===4||se===3&&(Nt&62914560)===Nt&&300>fn()-Nf?(kt&2)===0&&Qa(t,0):Vf|=r,ka===Nt&&(ka=0)),Zn(t)}function tp(t,n){n===0&&(n=bs()),t=Da(t,n),t!==null&&(ni(t,n),Zn(t))}function d0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),tp(t,r)}function m0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),tp(t,r)}function g0(t,n){return gr(t,n)}var lu=null,Ya=null,Bf=!1,ou=!1,qf=!1,Zr=0;function Zn(t){t!==Ya&&t.next===null&&(Ya===null?lu=Ya=t:Ya=Ya.next=t),ou=!0,Bf||(Bf=!0,y0())}function gl(t,n){if(!qf&&ou){qf=!0;do for(var r=!1,l=lu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-je(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,rp(l,h))}else h=Nt,h=oa(l,l===$t?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Tr(l,h)||(r=!0,rp(l,h));l=l.next}while(r);qf=!1}}function p0(){ep()}function ep(){ou=Bf=!1;var t=0;Zr!==0&&(R0()&&(t=Zr),Zr=0);for(var n=fn(),r=null,l=lu;l!==null;){var c=l.next,h=np(l,n);h===0?(l.next=null,r===null?lu=c:r.next=c,c===null&&(Ya=r)):(r=l,(t!==0||(h&3)!==0)&&(ou=!0)),l=c}gl(t)}function np(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-je(h),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=As(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=$t,r=Nt,r=oa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Tr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&pr(l),ua(r)){case 2:case 8:r=sa;break;case 32:r=yr;break;case 268435456:r=la;break;default:r=yr}return l=ip.bind(null,t),r=gr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function ip(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(su()&&t.callbackNode!==r)return null;var l=Nt;return l=oa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Bg(t,l,n),np(t,fn()),t.callbackNode!=null&&t.callbackNode===r?ip.bind(null,t):null)}function rp(t,n){if(su())return null;Bg(t,n,!0)}function y0(){D0(function(){(kt&6)!==0?gr(Es,p0):ep()})}function jf(){return Zr===0&&(Zr=Ss()),Zr}function ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function sp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function _0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=ap((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?ap(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new pa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var b=y?sp(c,y):new FormData(c);lf(r,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?sp(c,y):new FormData(c),lf(r,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var kf=0;kf<Rc.length;kf++){var Hf=Rc[kf],v0=Hf.toLowerCase(),E0=Hf[0].toUpperCase()+Hf.slice(1);Cn(v0,"on"+E0)}Cn(Bd,"onAnimationEnd"),Cn(qd,"onAnimationIteration"),Cn(jd,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(zv,"onTransitionRun"),Cn(Pv,"onTransitionStart"),Cn(Bv,"onTransitionCancel"),Cn(kd,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function lp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(G){Xo(G)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(G){Xo(G)}c.currentTarget=null,h=b}}}}function wt(t,n){var r=n[Ds];r===void 0&&(r=n[Ds]=new Set);var l=t+"__bubble";r.has(l)||(op(n,t,2,!1),r.add(l))}function Gf(t,n,r){var l=0;n&&(l|=4),op(r,t,l,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Qf(t){if(!t[uu]){t[uu]=!0,Cs.forEach(function(r){r!=="selectionchange"&&(T0.has(r)||Gf(r,!1,t),Gf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uu]||(n[uu]=!0,Gf("selectionchange",!1,n))}}function op(t,n,r,l){switch(Op(n)){case 2:var c=K0;break;case 8:c=X0;break;default:c=ah}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Ff(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}co(function(){var P=h,G=mn(r),F=[];t:{var B=Hd.get(t);if(B!==void 0){var q=pa,dt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Aa;break;case"focusin":dt="focus",q=va;break;case"focusout":dt="blur",q=va;break;case"beforeblur":case"afterblur":q=va;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vo;break;case Bd:case qd:case jd:q=Ea;break;case kd:q=To;break;case"scroll":case"scrollend":q=fo;break;case"wheel":q=Sa;break;case"copy":case"cut":case"paste":q=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qs;break;case"toggle":case"beforetoggle":q=So}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?B!==null?B+"Capture":null:B;ft=[];for(var C=P,z;C!==null;){var Q=C;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Vr(C,M),Q!=null&&ft.push(yl(C,Q,z))),Kt)break;C=C.return}0<ft.length&&(B=new q(B,dt,null,r,G),F.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==li&&(dt=r.relatedTarget||r.fromElement)&&(ii(dt)||dt[hn]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(dt=r.relatedTarget||r.toElement,q=P,dt=dt?ii(dt):null,dt!==null&&(Kt=f(dt),ft=dt.tag,dt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(dt=null)):(q=null,dt=P),q!==dt)){if(ft=pn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ft=qs,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=q==null?B:zn(q),z=dt==null?B:zn(dt),B=new ft(Q,C+"leave",q,r,G),B.target=Kt,B.relatedTarget=z,Q=null,ii(G)===P&&(ft=new ft(M,C+"enter",dt,r,G),ft.target=z,ft.relatedTarget=Kt,Q=ft),Kt=Q,q&&dt)e:{for(ft=q,M=dt,C=0,z=ft;z;z=Ka(z))C++;for(z=0,Q=M;Q;Q=Ka(Q))z++;for(;0<C-z;)ft=Ka(ft),C--;for(;0<z-C;)M=Ka(M),z--;for(;C--;){if(ft===M||M!==null&&ft===M.alternate)break e;ft=Ka(ft),M=Ka(M)}ft=null}else ft=null;q!==null&&up(F,B,q,ft,!1),dt!==null&&Kt!==null&&up(F,Kt,dt,ft,!0)}}t:{if(B=P?zn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Cd;else if(Ee(B))if(Vd)at=xv;else{at=Ov;var bt=Nv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ms(P.elementType)&&(at=Cd):at=Mv;if(at&&(at=at(t,P))){hi(F,at,r,G);break t}bt&&bt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zi(B,"number",B.value)}switch(bt=P?zn(P):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(ba=bt,Ac=P,Hs=null);break;case"focusout":Hs=Ac=ba=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,zd(F,r,G);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":zd(F,r,G)}var lt;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?j(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(lt=Us()):(qn=G,Pi="value"in qn?qn.value:qn.textContent,Vt=!0)),bt=cu(P,ht),0<bt.length&&(ht=new Ps(ht,t,null,r,G),F.push({event:ht,listeners:bt}),lt?ht.data=lt:(lt=J(r),lt!==null&&(ht.data=lt)))),(lt=m?ve(t,r):It(t,r))&&(ht=cu(P,"onBeforeInput"),0<ht.length&&(bt=new Ps("onBeforeInput","beforeinput",null,r,G),F.push({event:bt,listeners:ht}),bt.data=lt)),_0(F,t,P,r,G)}lp(F,n)})}function yl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Vr(t,r),c!=null&&l.unshift(yl(t,c,h)),c=Vr(t,n),c!=null&&l.push(yl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function up(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Vr(r,h),P!=null&&y.unshift(yl(r,P,b))):c||(P=Vr(r,h),P!=null&&y.push(yl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var A0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function cp(t){return(typeof t=="string"?t:""+t).replace(A0,`
`).replace(S0,"")}function fp(t,n){return n=cp(n),cp(t)===n}function fu(){}function Yt(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Os(t,l,h);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ga(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ga(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fu);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gc.get(r)||r,Li(t,r,l))}}function Yf(t,n,r,l,c,h){switch(r){case"style":Os(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[he]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Li(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,h,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":wt("invalid",t);var E=h=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}wr(t,h,E,b,P,y,c,!1),ma(t);return;case"select":wt("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):r!=null&&si(t,!!l,r,!0);return;case"textarea":wt("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}Dr(t,l,c,h),ma(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)wt(pl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Ms(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Yf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function b0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,P=null,G=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":h=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Yt(t,n,B,q,l,F)}}en(t,y,E,b,P,G,h,c);return;case"select":q=y=E=B=null;for(h in r)if(b=r[h],r.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(h)||Yt(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=r[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&Yt(t,n,c,h,l,b)}n=E,r=y,l=q,B!=null?si(t,!!r,B,!1):!!l!=!!r&&(n!=null?si(t,!!r,n,!0):si(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Yt(t,n,y,c,l,h)}Qt(t,B,q);return;case"option":for(var dt in r)if(B=r[dt],r.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Yt(t,n,dt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(Ms(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&Yf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],q=r[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Yf(t,n,G,B,l,q);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Yt(t,n,F,B,l,q)}var Kf=null,Xf=null;function hu(t){return t.nodeType===9?t:t.ownerDocument}function hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $f=null;function R0(){var t=window.event;return t&&t.type==="popstate"?t===$f?!1:($f=t,!0):($f=null,!1)}var mp=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(t){return gp.resolve(null).then(t).catch(C0)}:mp;function C0(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function pp(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&_l(y.documentElement),r&2&&_l(y.body),r&4)for(r=y.head,_l(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ar]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(h),wl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);wl(n)}function Jf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jf(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function V0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function I0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=In(t.nextSibling),t===null))return null;return t}function Wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function N0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var th=null;function yp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function _p(t,n,r){switch(n=hu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Sn=new Map,vp=new Set;function du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=et.d;et.d={f:O0,r:M0,D:x0,C:U0,L:L0,m:z0,X:B0,S:P0,M:q0};function O0(){var t=Ri.f(),n=ru();return t||n}function M0(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Bm(n):Ri.r(t)}var Xa=typeof document>"u"?null:document;function Ep(t,n,r){var l=Xa;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),vp.has(c)||(vp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function x0(t){Ri.D(t),Ep("dns-prefetch",t,null)}function U0(t,n){Ri.C(t,n),Ep("preconnect",t,n)}function L0(t,n,r){Ri.L(t,n,r);var l=Xa;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var h=c;switch(n){case"style":h=Za(t);break;case"script":h=$a(t)}Sn.has(h)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(vl(h))||n==="script"&&l.querySelector(El(h))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function z0(t,n){Ri.m(t,n);var r=Xa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=$a(t)}if(!Sn.has(h)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(El(h)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function P0(t,n,r){Ri.S(t,n,r);var l=Xa;if(l&&t){var c=Ye(l).hoistableStyles,h=Za(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(vl(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(h))&&eh(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function B0(t,n){Ri.X(t,n);var r=Xa;if(r&&t){var l=Ye(r).hoistableScripts,c=$a(t),h=l.get(c);h||(h=r.querySelector(El(c)),h||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&nh(t,n),h=r.createElement("script"),le(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function q0(t,n){Ri.M(t,n);var r=Xa;if(r&&t){var l=Ye(r).hoistableScripts,c=$a(t),h=l.get(c);h||(h=r.querySelector(El(c)),h||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&nh(t,n),h=r.createElement("script"),le(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Tp(t,n,r,l){var c=(c=mt.current)?du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var h=Ye(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(vl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),h||j0(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+de(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Ap(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function j0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function $a(t){return'[src="'+de(t)+'"]'}function El(t){return"script[async]"+t}function Sp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),mu(l,r.precedence,t),n.instance=l;case"stylesheet":c=Za(r.href);var h=t.querySelector(vl(c));if(h)return n.state.loading|=4,n.instance=h,le(h),h;l=Ap(r),(c=Sn.get(c))&&eh(l,c),h=(t.ownerDocument||t).createElement("link"),le(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",l),n.state.loading|=4,mu(h,r.precedence,t),n.instance=h;case"script":return h=$a(r.src),(c=t.querySelector(El(h)))?(n.instance=c,le(c),c):(l=r,(c=Sn.get(h))&&(l=A({},r),nh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mu(l,r.precedence,t));return n.instance}function mu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function eh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gu=null;function bp(t,n,r){if(gu===null){var l=new Map,c=gu=new Map;c.set(r,l)}else c=gu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Ar]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Rp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function k0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function H0(){}function G0(t,n,r){if(Tl===null)throw Error(s(475));var l=Tl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Za(r.href),h=t.querySelector(vl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,le(h);return}h=t.ownerDocument||t,r=Ap(r),(c=Sn.get(c))&&eh(r,c),h=h.createElement("link"),le(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Q0(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&ih(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yu=null;function ih(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yu=new Map,n.forEach(F0,t),yu=null,pu.call(t))}function F0(t,n){if(!(n.state.loading&4)){var r=yu.get(t);if(r)var l=r.get(null);else{r=new Map,yu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Al={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function Y0(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dp(t,n,r,l,c,h,y,E,b,P,G,F){return t=new Y0(t,n,r,y,E,b,P,F),n=1,h===!0&&(n|=24),h=rn(3,null,null,n),t.current=h,h.stateNode=t,n=zc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},jc(h),t}function Cp(t){return t?(t=Ca,t):Ca}function Vp(t,n,r,l,c,h){c=Cp(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=ki(t,l,n),r!==null&&(un(r,t,n),Js(r,t,n))}function Ip(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function rh(t,n){Ip(t,n),(t=t.alternate)&&Ip(t,n)}function Np(t){if(t.tag===13){var n=Da(t,67108864);n!==null&&un(n,t,67108864),rh(t,67108864)}}var _u=!0;function K0(t,n,r,l){var c=H.T;H.T=null;var h=et.p;try{et.p=2,ah(t,n,r,l)}finally{et.p=h,H.T=c}}function X0(t,n,r,l){var c=H.T;H.T=null;var h=et.p;try{et.p=8,ah(t,n,r,l)}finally{et.p=h,H.T=c}}function ah(t,n,r,l){if(_u){var c=sh(l);if(c===null)Ff(t,n,l,vu,r),Mp(t,l);else if($0(c,t,n,r,l))l.stopPropagation();else if(Mp(t,l),n&4&&-1<Z0.indexOf(t)){for(;c!==null;){var h=Ln(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Rn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Zn(h),(kt&6)===0&&(nu=fn()+500,gl(0))}}break;case 13:E=Da(h,2),E!==null&&un(E,h,2),ru(),rh(h,2)}if(h=sh(l),h===null&&Ff(t,n,l,vu,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else Ff(t,n,l,null,r)}}function sh(t){return t=mn(t),lh(t)}var vu=null;function lh(t){if(vu=null,t=ii(t),t!==null){var n=f(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vu=t,null}function Op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uc()){case Es:return 2;case sa:return 8;case yr:case cc:return 32;case la:return 268435456;default:return 32}default:return 32}}var oh=!1,er=null,nr=null,ir=null,Sl=new Map,bl=new Map,rr=[],Z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Rl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Np(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function $0(t,n,r,l,c){switch(n){case"focusin":return er=Rl(er,t,n,r,l,c),!0;case"dragenter":return nr=Rl(nr,t,n,r,l,c),!0;case"mouseover":return ir=Rl(ir,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Sl.set(h,Rl(Sl.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,bl.set(h,Rl(bl.get(h)||null,t,n,r,l,c)),!0}return!1}function xp(t){var n=ii(t.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,io(t.priority,function(){if(r.tag===13){var l=on();l=Oi(l);var c=Da(r,l);c!==null&&un(c,r,l),rh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=sh(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);li=l,r.target.dispatchEvent(l),li=null}else return n=Ln(r),n!==null&&Np(n),t.blockedOn=r,!1;n.shift()}return!0}function Up(t,n,r){Eu(t)&&r.delete(n)}function J0(){oh=!1,er!==null&&Eu(er)&&(er=null),nr!==null&&Eu(nr)&&(nr=null),ir!==null&&Eu(ir)&&(ir=null),Sl.forEach(Up),bl.forEach(Up)}function Tu(t,n){t.blockedOn===n&&(t.blockedOn=null,oh||(oh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,J0)))}var Au=null;function Lp(t){Au!==t&&(Au=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(lh(l||r)===null)continue;break}var h=Ln(r);h!==null&&(t.splice(n,3),n-=3,lf(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function wl(t){function n(b){return Tu(b,t)}er!==null&&Tu(er,t),nr!==null&&Tu(nr,t),ir!==null&&Tu(ir,t),Sl.forEach(n),bl.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)xp(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[he]||null;if(typeof h=="function")y||Lp(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[he]||null)E=y.formAction;else if(lh(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Lp(r)}}}function uh(t){this._internalRoot=t}Su.prototype.render=uh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=on();Vp(r,l,t,n,null,null)},Su.prototype.unmount=uh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vp(t.current,2,null,t,null,null),ru(),n[hn]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&xp(t)}};var zp=e.version;if(zp!=="19.1.1")throw Error(s(527,zp,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var W0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{re=bu.inject(W0),jt=bu}catch{}}return Cl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Wm,h=tg,y=eg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Dp(t,1,!1,null,null,r,l,c,h,y,E,null),t[hn]=n.current,Qf(t),new uh(n)},Cl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",h=Wm,y=tg,E=eg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Dp(t,1,!0,n,r??null,l,c,h,y,E,b,P),n.context=Cp(null),r=n.current,l=on(),l=Oi(l),c=ji(l),c.callback=null,ki(r,c,l),r=l,n.current.lanes=r,ni(n,r),Zn(n),t[hn]=n.current,Qf(t),new Su(n)},Cl.version="19.1.1",Cl}var Yp;function cE(){if(Yp)return hh.exports;Yp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),hh.exports=uE(),hh.exports}var fE=cE();const hE=Yy(fE),dE="modulepreload",mE=function(a){return"/yo-nunca-app-web/"+a},Kp={},Pl=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let d=function(v){return Promise.all(v.map(A=>Promise.resolve(A).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));o=d(i.map(v=>{if(v=mE(v),v in Kp)return;Kp[v]=!0;const A=v.endsWith(".css"),I=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${I}`))return;const L=document.createElement("link");if(L.rel=A?"stylesheet":dE,A||(L.as="script"),L.crossOrigin="",L.href=v,_&&L.setAttribute("nonce",_),document.head.appendChild(L),A)return new Promise((k,X)=>{L.addEventListener("load",k),L.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${v}`)))})}))}function f(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&f(g.reason);return e().catch(f)})},gE=async()=>{var a,e;(e=(a=window.Capacitor)==null?void 0:a.isNativePlatform)!=null&&e.call(a)&&await(await Pl(()=>import("./admobNative-Cl2O_gsC.js"),[])).initMobApp()},pE=async()=>{var a,e;(e=(a=window.Capacitor)==null?void 0:a.isNativePlatform)!=null&&e.call(a)&&await(await Pl(()=>import("./admobNative-Cl2O_gsC.js"),[])).showBannerAd()},yE=async()=>{var a,e;(e=(a=window.Capacitor)==null?void 0:a.isNativePlatform)!=null&&e.call(a)&&await(await Pl(()=>import("./admobNative-Cl2O_gsC.js"),[])).hideBannerAd()};var Nn=(a=>(a.Home="HOME",a.Game="GAME",a.Store="STORE",a))(Nn||{});const sr=({children:a,variant:e="primary",size:i="normal",fullWidth:s=!1,className:o="",...f})=>{const d="font-bold rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 flex items-center justify-center",g={primary:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white hover:opacity-90 shadow-lg shadow-cyan-500/20 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-cyan-400",secondary:"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-slate-500"},_={normal:"py-2 px-4 text-base",large:"py-3 px-6 text-lg"},v=s?"w-full":"w-auto",A=`${d} ${g[e]} ${_[i]} ${v} ${o}`;return tt.jsx("button",{className:A,...f,children:a})},_E=({navigate:a,onSuggestClick:e,onStartGame:i})=>{const[s,o]=fe.useState(!1),[f,d]=fe.useState(!1),g=async()=>{const _="https://play.google.com/store/apps/details?id=com.mrodr.yonunca";if(navigator.share)try{await navigator.share({title:"Yo Nunca",text:"Descarga Yo Nunca y juega con tus amigos!",url:_})}catch(v){console.error("Error compartiendo la app:",v)}else try{await navigator.clipboard.writeText(_),d(!0),setTimeout(()=>d(!1),2e3)}catch(v){console.error("No se pudo copiar al portapapeles",v)}};return tt.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 animate-fadeIn",children:[tt.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500 mb-4 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Yo Nunca"}),tt.jsx("p",{className:"text-slate-300 mb-12 text-lg",children:"El juego para revelar secretos."}),tt.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[tt.jsxs(sr,{onClick:()=>{i(s),a(Nn.Game)},fullWidth:!0,size:"large",children:[tt.jsx("i",{className:"fas fa-play mr-2"}),"Iniciar Partida"]}),tt.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[tt.jsx("input",{id:"include-adult",type:"checkbox",checked:s,onChange:_=>o(_.target.checked),className:"h-5 w-5"}),tt.jsx("label",{htmlFor:"include-adult",className:"text-sm text-slate-300",children:"Incluir +18"})]}),tt.jsxs(sr,{onClick:e,variant:"secondary",fullWidth:!0,children:[tt.jsx("i",{className:"fas fa-lightbulb mr-2"}),"Sugerir Frase"]}),tt.jsxs(sr,{onClick:()=>a(Nn.Store),variant:"secondary",fullWidth:!0,children:[tt.jsx("i",{className:"fas fa-store mr-2"}),"Tienda"]}),tt.jsxs(sr,{onClick:g,variant:"secondary",fullWidth:!0,children:[tt.jsx("i",{className:"fas fa-share-alt mr-2"}),f?"Enlace copiado!":"Compartir App"]})]})]})};var Xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vE=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},Xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=f>>2,I=(f&3)<<4|g>>4;let L=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(L=64)),s.push(i[A],i[I],i[L],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Ky(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):vE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const I=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||g==null||v==null||I==null)throw new EE;const L=f<<2|g>>4;if(s.push(L),v!==64){const k=g<<4&240|v>>2;if(s.push(k),I!==64){const X=v<<6&192|I;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TE=function(a){const e=Ky(a);return Xy.encodeByteArray(e,!0)},Lu=function(a){return TE(a).replace(/\./g,"")},AE=function(a){try{return Xy.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=()=>SE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof Xp>"u")return;const a=Xp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},wE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&AE(a[1]);return e&&JSON.parse(e)},Yh=()=>{try{return bE()||RE()||wE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},DE=a=>{var e,i;return(i=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},CE=a=>{const e=DE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Zy=()=>{var a;return(a=Yh())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Lu(JSON.stringify(i)),Lu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OE(){var a;const e=(a=Yh())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ME(){return!OE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function UE(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="FirebaseError";class ds extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=LE,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$y.prototype.create)}}class $y{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?zE(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ds(o,g,s)}}function zE(a,e){return a.replace(PE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PE=/\{\$([^}]+)}/g;function Rh(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=a[o],d=e[o];if(Zp(f)&&Zp(d)){if(!Rh(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Zp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(a){return a&&a._delegate?a._delegate:a}class Bl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new VE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jE(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&e(d,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qE(a){return a===$r?void 0:a}function jE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const HE={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},GE=Mt.INFO,QE={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},FE=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=QE[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=GE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const YE=(a,e)=>e.some(i=>a instanceof i);let $p,Jp;function KE(){return $p||($p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XE(){return Jp||(Jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wy=new WeakMap,wh=new WeakMap,t_=new WeakMap,ph=new WeakMap,Kh=new WeakMap;function ZE(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(or(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Wy.set(i,a)}).catch(()=>{}),Kh.set(e,a),e}function $E(a){if(wh.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});wh.set(a,e)}let Dh={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return wh.get(a);if(e==="objectStoreNames")return a.objectStoreNames||t_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function JE(a){Dh=a(Dh)}function WE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(yh(this),e,...i);return t_.set(s,e.sort?e.sort():[e]),or(s)}:XE().includes(a)?function(...e){return a.apply(yh(this),e),or(Wy.get(this))}:function(...e){return or(a.apply(yh(this),e))}}function tT(a){return typeof a=="function"?WE(a):(a instanceof IDBTransaction&&$E(a),YE(a,KE())?new Proxy(a,Dh):a)}function or(a){if(a instanceof IDBRequest)return ZE(a);if(ph.has(a))return ph.get(a);const e=tT(a);return e!==a&&(ph.set(a,e),Kh.set(e,a)),e}const yh=a=>Kh.get(a);function eT(a,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(a,e),g=or(d);return s&&d.addEventListener("upgradeneeded",_=>{s(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const nT=["get","getKey","getAll","getAllKeys","count"],iT=["put","add","delete","clear"],_h=new Map;function Wp(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(_h.get(e))return _h.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=iT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nT.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return _h.set(e,f),f}JE(a=>({...a,get:(e,i,s)=>Wp(e,i)||a.get(e,i,s),has:(e,i)=>!!Wp(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function aT(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ch="@firebase/app",ty="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Jy("@firebase/app"),sT="@firebase/app-compat",lT="@firebase/analytics-compat",oT="@firebase/analytics",uT="@firebase/app-check-compat",cT="@firebase/app-check",fT="@firebase/auth",hT="@firebase/auth-compat",dT="@firebase/database",mT="@firebase/data-connect",gT="@firebase/database-compat",pT="@firebase/functions",yT="@firebase/functions-compat",_T="@firebase/installations",vT="@firebase/installations-compat",ET="@firebase/messaging",TT="@firebase/messaging-compat",AT="@firebase/performance",ST="@firebase/performance-compat",bT="@firebase/remote-config",RT="@firebase/remote-config-compat",wT="@firebase/storage",DT="@firebase/storage-compat",CT="@firebase/firestore",VT="@firebase/vertexai-preview",IT="@firebase/firestore-compat",NT="firebase",OT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="[DEFAULT]",MT={[Ch]:"fire-core",[sT]:"fire-core-compat",[oT]:"fire-analytics",[lT]:"fire-analytics-compat",[cT]:"fire-app-check",[uT]:"fire-app-check-compat",[fT]:"fire-auth",[hT]:"fire-auth-compat",[dT]:"fire-rtdb",[mT]:"fire-data-connect",[gT]:"fire-rtdb-compat",[pT]:"fire-fn",[yT]:"fire-fn-compat",[_T]:"fire-iid",[vT]:"fire-iid-compat",[ET]:"fire-fcm",[TT]:"fire-fcm-compat",[AT]:"fire-perf",[ST]:"fire-perf-compat",[bT]:"fire-rc",[RT]:"fire-rc-compat",[wT]:"fire-gcs",[DT]:"fire-gcs-compat",[CT]:"fire-fst",[IT]:"fire-fst-compat",[VT]:"fire-vertex","fire-js":"fire-js",[NT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,xT=new Map,Ih=new Map;function ey(a,e){try{a.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Pu(a){const e=a.name;if(Ih.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Ih.set(e,a);for(const i of zu.values())ey(i,a);for(const i of xT.values())ey(i,a);return!0}function UT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new $y("app","Firebase",LT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=OT;function e_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=Zy()),!i)throw ur.create("no-options");const f=zu.get(o);if(f){if(Rh(i,f.options)&&Rh(s,f.config))return f;throw ur.create("duplicate-app",{appName:o})}const d=new kE(o);for(const _ of Ih.values())d.addComponent(_);const g=new zT(i,s,d);return zu.set(o,g),g}function BT(a=Vh){const e=zu.get(a);if(!e&&a===Vh&&Zy())return e_();if(!e)throw ur.create("no-app",{appName:a});return e}function ns(a,e,i){var s;let o=(s=MT[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const f=o.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${o}" with version "${e}":`];f&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(g.join(" "));return}Pu(new Bl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebase-heartbeat-database",jT=1,ql="firebase-heartbeat-store";let vh=null;function n_(){return vh||(vh=eT(qT,jT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(a=>{throw ur.create("idb-open",{originalErrorMessage:a.message})})),vh}async function kT(a){try{const i=(await n_()).transaction(ql),s=await i.objectStore(ql).get(i_(a));return await i.done,s}catch(e){if(e instanceof ds)Ci.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function ny(a,e){try{const s=(await n_()).transaction(ql,"readwrite");await s.objectStore(ql).put(e,i_(a)),await s.done}catch(i){if(i instanceof ds)Ci.warn(i.message);else{const s=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(s.message)}}}function i_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1024,GT=720*60*60*1e3;class QT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new YT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=iy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=GT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=iy(),{heartbeatsToSend:s,unsentEntries:o}=FT(this._heartbeatsCache.heartbeats),f=Lu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Ci.warn(i),""}}}function iy(){return new Date().toISOString().substring(0,10)}function FT(a,e=HT){const i=[];let s=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),ry(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ry(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class YT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?UE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ry(a){return Lu(JSON.stringify({version:2,heartbeats:a})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(a){Pu(new Bl("platform-logger",e=>new rT(e),"PRIVATE")),Pu(new Bl("heartbeat",e=>new QT(e),"PRIVATE")),ns(Ch,ty,a),ns(Ch,ty,"esm2017"),ns("fire-js","")}KT("");var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,r_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,O,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)V[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)V[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],O=N.g[2];var x=N.g[3],R=S+(x^w&(O^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[2]+606105819&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[6]+2821735955&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[10]+4294925233&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[14]+2792965006&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^x&(w^O))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[11]+643717713&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[15]+3634488961&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[3]+4107603335&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[7]+1735328473&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[11]+1839030562&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[7]+4139469664&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[3]+3572445317&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[15]+530742520&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[14]+2878612391&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[10]+4293915773&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[6]+2734768916&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[2]+718787259&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,O=this.h,x=0;x<S;){if(O==0)for(;x<=w;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(V[O++]=N.charCodeAt(x++),O==this.blockSize){o(this,V),O=0;break}}else for(;x<S;)if(V[O++]=N[x++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function f(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],V=!0,O=N.length-1;0<=O;O--){var x=N[O]|0;V&&x==S||(w[O]=x,V=!1)}this.g=w}var g={};function _(N){return-128<=N&&128>N?f(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return W(v(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=I,O=0;O<N.length;O+=8){var x=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+x),S);8>x?(x=v(Math.pow(S,x)),V=V.j(x).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var I=_(0),L=_(1),k=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-W(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(it(this))return"-"+W(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,V="";;){var O=Bt(w,S).g;w=Dt(w,O.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,X(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}a.l=function(N){return N=Dt(this,N),it(N)?-1:X(N)?0:1};function W(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(L)}a.abs=function(){return it(this)?W(this):this},a.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,O=0;O<=S;O++){var x=V+(this.i(O)&65535)+(N.i(O)&65535),R=(x>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,x&=65535,R&=65535,w[O]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Dt(N,S){return N.add(W(S))}a.j=function(N){if(X(this)||X(N))return I;if(it(this))return it(N)?W(this).j(W(N)):W(W(this).j(N));if(it(N))return W(this.j(W(N)));if(0>this.l(k)&&0>N.l(k))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<N.g.length;O++){var x=this.i(V)>>>16,R=this.i(V)&65535,Ne=N.i(O)>>>16,ie=N.i(O)&65535;w[2*V+2*O]+=R*ie,At(w,2*V+2*O),w[2*V+2*O+1]+=x*ie,At(w,2*V+2*O+1),w[2*V+2*O+1]+=R*Ne,At(w,2*V+2*O+1),w[2*V+2*O+2]+=x*Ne,At(w,2*V+2*O+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function At(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function _t(N,S){this.g=N,this.h=S}function Bt(N,S){if(X(S))throw Error("division by zero");if(X(N))return new _t(I,I);if(it(N))return S=Bt(W(N),S),new _t(W(S.g),W(S.h));if(it(S))return S=Bt(N,W(S)),new _t(W(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=L,V=S;0>=V.l(N);)w=vt(w),V=vt(V);var O=Lt(w,1),x=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!X(V);){var R=x.add(V);0>=R.l(N)&&(O=O.add(w),x=R),V=Lt(V,1),w=Lt(w,1)}return S=Dt(N,O.j(S)),new _t(O,S)}for(O=I;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=v(w),R=x.j(S);it(R)||0<R.l(N);)w-=V,x=v(w),R=x.j(S);X(x)&&(x=L),O=O.add(x),N=Dt(N,R)}return new _t(O,N)}a.A=function(N){return Bt(this,N).h},a.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},a.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},a.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function vt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function Lt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,O=[],x=0;x<V;x++)O[x]=0<S?N.i(x+w)>>>S|N.i(x+w+1)<<32-S:N.i(x+w);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,r_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ta=d}).apply(typeof ay<"u"?ay:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a_,Il,s_,Nu,Nh,l_,o_,u_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function L(u,m,p){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,L.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var J=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)J[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,J)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function W(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let J=0;J<j;J++)u[U+J]=T[J]}else u.push(T)}}class Dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Bt(u){return Bt[" "](u),u}Bt[" "]=function(){};var vt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Dt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,zt=new Ne,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function St(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Bt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}X(St,$);var mt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Ni(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,m,p,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var J=gr(u,m,T,U);return-1<J?(m=u[J],p||(m.fa=!1)):(m=new xn(m,this.src,j,!!T,U),m.fa=p,u.push(m)),m};function mr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(Ni(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function gr(u,m,p,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),vs={};function to(u,m,p,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)to(u,m[j],p,T,U);return null}return p=eo(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,U):fn(u,m,p,!1,T,U)}function fn(u,m,p,T,U,j){if(!m)throw Error("Invalid event type");var J=v(U)?!!U.capture:!!U,Vt=la(u);if(Vt||(u[pr]=Vt=new ti(u)),p=Vt.add(m,p,T,J,j),p.proxy)return p;if(T=uc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(yr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function uc(){function u(p){return m.call(u.src,u.listener,p)}const m=cc;return u}function Es(u,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Es(u,m[j],p,T,U);else T=v(T)?!!T.capture:!!T,p=eo(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=gr(j,p,T,U),-1<p&&(Ni(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=la(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gr(m,p,T,U)),(p=-1<u?m[u]:null)&&sa(p))}function sa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])mr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(yr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=la(m))?(mr(p,u),p.h==0&&(p.src=null,m[pr]=null)):Ni(u)}}}function yr(u){return u in vs?vs[u]:vs[u]="on"+u}function cc(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&sa(u),u=p.call(T,m)}return u}function la(u){return u=u[pr],u instanceof ti?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function re(){nt.call(this),this.i=new ti(this),this.M=this,this.F=null}X(re,nt),re.prototype[be]=!0,re.prototype.removeEventListener=function(u,m,p,T){Es(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(T,u),V(m,U)}if(U=!0,p)for(var j=p.length-1;0<=j;j--){var J=m.g=p[j];U=tn(J,T,!0,m)&&U}if(J=m.g=u,U=tn(J,T,!0,m)&&U,U=tn(J,T,!1,m)&&U,p)for(j=0;j<p.length;j++)J=m.g=p[j],U=tn(J,T,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ni(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function tn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==p){var Vt=J.listener,ve=J.ha||J.src;J.fa&&mr(u.i,J),U=Vt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function je(u,m,p){if(typeof u=="function")p&&(u=L(u,p));else if(u&&typeof u.handleEvent=="function")u=L(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function no(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,no(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){nt.call(this),this.h=u,this.g={}}X(_r,nt);var vr=[];function Er(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&sa(m)},u),u.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Er(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,oa=g.JSON.parse,Tr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function As(){}As.prototype.h=null;function Ss(u){return u.h||(u.h=u.i())}function bs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){$.call(this,"d")}X(ni,$);function Rs(){$.call(this,"c")}X(Rs,$);var Un={},ws=null;function Oi(){return ws=ws||new re}Un.La="serverreachability";function ua(u){$.call(this,Un.La,u)}X(ua,$);function Mi(u){const m=Oi();jt(m,new ua(m))}Un.STAT_EVENT="statevent";function io(u,m){$.call(this,Un.STAT_EVENT,u),this.stat=m}X(io,$);function Wt(u){const m=Oi();jt(m,new io(m,u))}Un.Ma="timingevent";function _e(u,m){$.call(this,Un.Ma,u),this.size=m}X(_e,$);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Ds(u,m,p,T,U,j){u.info(function(){if(u.g)if(j)for(var J="",Vt=j.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var we=It[0];It=It[1];var Ee=we.split("_");J=2<=Ee.length&&Ee[1]=="type"?J+(we+"="+It+"&"):J+(we+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+J})}function hc(u,m,p,T,U,j,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+J})}function xi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ar(u,p)+(T?" "+T:"")})}function ro(u,m){u.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Ar(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return Rn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}X(zn,As),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Cs={},ca={};function wn(u,m,p){u.L=1,u.v=Dr(en(m)),u.m=p,u.P=!0,ri(u,null)}function ri(u,m){u.F=Date.now(),Sr(u),u.A=en(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),xs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=To(u.j,p?m:null,!u.m),0<u.O&&(u.M=new fc(L(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(vr[0]=U.toString()),U=vr);for(var j=0;j<U.length;j++){var J=to(p,U[j],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Mi(),Ds(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&pn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=pn(this.g);var m=this.g.Ba();const hi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=hi?Mi(3):Mi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(ao(this)){var T=ho(this.g);u="";var U=T.length,j=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Pn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,hc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Vt)){var It=Vt;break e}}It=null}if(p=It)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),Pn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<J.length;)if(Me=so(this,J),Me==ca){Ee==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Cs){this.s=4,Wt(15),xi(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Me,null),br(this,Me);if(ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||J.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,J,"[Invalid Chunked Response]"),Oe(this),Pn(this);else if(0<J.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Ur(we),we.M=!0,Wt(11))}}else xi(this.i,this.l,J,null),br(this,J);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?_o(this.j,this):(this.o=!1,Sr(this)))}else yc(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),Pn(this)}}}catch{}finally{}};function ao(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function so(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ca:(p=Number(m.substring(p,T)),isNaN(p)?Cs:(T+=1,T+p>m.length?ca:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Sr(u){u.S=Date.now()+u.I,lo(u,u.I)}function lo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(L(u.ba,u),m)}function Li(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ro(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Oe(this),this.s=2,Pn(this)):lo(this,this.S-u)};function Pn(u){u.j.G==0||u.J||_o(u.j,u)}function Oe(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Er(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function br(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Vs(p.h,u))){if(!u.K&&Vs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Aa(p),Ea(p);else break t;Bs(p),Wt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(L(p.Za,p),6e3));if(1>=ha(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((u.K||p.g==u)&&Aa(p),!At(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let It=U[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const we=It[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const Ee=It[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const hi=It[5];hi!=null&&typeof hi=="number"&&0<hi&&(T=1.5*hi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var j=T.h;j.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(da(j,j.h),j.h=null))}if(T.D){const js=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.ya=js,Qt(T.I,T.D,js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var J=u;if(T.qa=Eo(T,T.J?T.ia:null,T.W),J.K){Ke(T.h,J);var Vt=J,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Li(Vt),Sr(Vt)),T.g=J}else po(T);0<p.i.length&&Ta(p)}else It[0]!="stop"&&It[0]!="close"||fi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?fi(p,7):zs(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Mi(4)}catch{}}var oo=class{constructor(u,m){this.g=u,this.map=m}};function ai(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ha(u){return u.h?1:u.g?u.g.size:0}function Vs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function da(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ai.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Is(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function dc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function ma(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ns(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=ma(u),T=dc(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],p&&p[j],u)}var Rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var j=u[p].substring(0,T);U=u[p].substring(T+1)}else j=u[p];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,wr(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var m=u.i,p=new li;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),si(this,p),this.m=u.m}else u&&(m=String(u).match(Rr))?(this.h=!1,wr(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),zi(this,m[4]),this.l=dn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Cr(m,Os,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,Os,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Cr(p,p.charAt(0)=="/"?gc:Ms,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Cr(p,ga)),u.join("")};function en(u){return new de(u)}function wr(u,m,p){u.j=p?dn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function si(u,m,p){m instanceof li?(u.i=m,co(u.i,u.h)):(p||(m=Cr(m,pc)),u.i=new li(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Dr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,uo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Os=/[#\/\?@]/g,Ms=/[#\?:]/g,gc=/[#\?]/g,pc=/[#\?@]/g,ga=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&mc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=li.prototype,a.add=function(u,m){mn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function oi(u,m){mn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ui(u,m){return mn(u),m=Bn(u,m),u.g.has(m)}a.forEach=function(u,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},a.na=function(){mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)p.push(m[T])}return p},a.V=function(u){mn(this);let m=[];if(typeof u=="string")ui(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return mn(this),this.i=null,u=Bn(this,u),ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function xs(u,m,p){oi(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),it(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var U=j;J[T]!==""&&(U+="="+encodeURIComponent(String(J[T]))),u.push(U)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function co(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(oi(this,T),xs(this,U,p))},u)),u.j=m}function Vr(u,m){const p=new hn;if(g.Image){const T=new Image;T.onload=k(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dn(u,m){const p=new hn,T=new AbortController,U=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),gn(p,"TestPingServer: error",!1,m)})}function gn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ir(){this.g=new Tr}function qn(u,m,p){const T=p||"";try{Ns(u,function(U,j){let J=U;v(U)&&(J=Rn(U)),m.push(T+j+"="+encodeURIComponent(J))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Pi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Pi,As),Pi.prototype.g=function(){return new ci(this.l,this.j)},Pi.prototype.i=(function(u){return function(){return u}})({});function ci(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(ci,re),a=ci.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Us(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Us(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):kn(this),this.readyState==3&&Us(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},a.Qa=function(u){this.g&&(this.response=u,jn(this))},a.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ls(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ls(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function qt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(qt,re);var pa=/^https?$/i,Nr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ss(this.o):Ss(Ln),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){fo(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Nr,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of p)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Or(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){fo(this,j)}};function fo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ya(u),Hn(u)}function ya(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},a.bb=function(){_a(this)};function _a(u){if(u.h&&typeof d<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)je(u.Ea,0,u);else if(jt(u,"readystatechange"),pn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=J===0){var U=String(u.D).match(Rr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!pa.test(U?U.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var j=2<pn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",ya(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){Or(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Or(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),oa(m)}};function ho(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yc(u){const m={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var p=O(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}N(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function va(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,u),this.cb=Mr("retryDelaySeedMs",1e4,u),this.Wa=Mr("forwardChannelMaxRetries",2,u),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(u&&u.concurrentRequestLimit),this.Da=new Ir,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=va.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Eo(this,null,this.W),Ta(this)};function zs(u){if(mo(u),u.G==3){var m=u.U++,p=en(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),xr(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Dr(en(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=To(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Sr(m)}vo(u)}function Ea(u){u.g&&(Ur(u),u.g.cancel(),u.g=null)}function mo(u){Ea(u),u.u&&(g.clearTimeout(u.u),u.u=null),Aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ta(u){if(!fa(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.B=0}}function _c(u,m){return ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(L(u.Ga,u,m),qs(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),V(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=go(this,U,m),p=en(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),xr(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Ls(j)))+"&"+m:this.m&&Re(p,this.m,j)),da(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,wn(U,p,null)):wn(U,p,m),this.G=2}}else this.G==3&&(u?Ps(this,u):this.i.length==0||fa(this.h)||Ps(this))};function Ps(u,m){var p;m?p=m.l:p=u.U++;const T=en(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),xr(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=go(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),da(u.h,p),wn(p,T,m)}function xr(u,m){u.H&&Lt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Ns({},function(p,T){Qt(m,T,p)})}function go(u,m,p){p=Math.min(u.i.length,p);var T=u.l?L(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const J=["count="+p];j==-1?0<p?(j=U[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Vt=!0;for(let ve=0;ve<p;ve++){let It=U[ve].g;const we=U[ve].map;if(It-=j,0>It)j=Math.max(0,U[ve].g-100),Vt=!1;else try{qn(we,J,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=J.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function po(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.v=0}}function Bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(L(u.Fa,u),qs(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(L(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ea(this),yo(this))};function Ur(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function yo(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=en(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Dr(en(m)),p.m=null,p.P=!0,ri(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ea(this),Bs(this),Wt(19))};function Aa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function _o(u,m){var p=null;if(u.g==m){Aa(u),Ur(u),u.g=null;var T=2}else if(Vs(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Oi(),jt(T,new _e(T,p)),Ta(u)}else po(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&_c(u,m)||T==2&&Bs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function qs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var p=L(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wr(T,"https"),Dr(T),U?Vr(T.toString(),p):Dn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),vo(u),mo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function vo(u){if(u.G=0,u.ka=[],u.l){const m=Is(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Eo(u,m,p){var T=p instanceof de?en(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new de(null);T&&wr(j,T),m&&(j.g=m),U&&zi(j,U),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),xr(u,T),T}function To(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Pi({eb:p})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ao(){}a=Ao.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Sa(){}Sa.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){re.call(this),this.g=new va(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}X(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){zs(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new oo(m.Ya++,u)),m.G==3&&Ta(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,Xe.aa.N.call(this)};function So(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(So,ni);function bo(){Rs.call(this),this.status=1}X(bo,Rs);function Gn(u){this.g=u}X(Gn,Ao),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new So(u))},Gn.prototype.sa=function(u){jt(this.g,new bo)},Gn.prototype.ra=function(){jt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,u_=function(){return new Sa},o_=function(){return Oi()},l_=Un,Nh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Nu=Ui,ii.COMPLETE="complete",s_=ii,bs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",re.prototype.listen=re.prototype.K,Il=bs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,a_=qt}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const sy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Jy("@firebase/firestore");function Vl(){return ea.logLevel}function st(a,...e){if(ea.logLevel<=Mt.DEBUG){const i=e.map(Xh);ea.debug(`Firestore (${ms}): ${a}`,...i)}}function Vi(a,...e){if(ea.logLevel<=Mt.ERROR){const i=e.map(Xh);ea.error(`Firestore (${ms}): ${a}`,...i)}}function as(a,...e){if(ea.logLevel<=Mt.WARN){const i=e.map(Xh);ea.warn(`Firestore (${ms}): ${a}`,...i)}}function Xh(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(a="Unexpected state"){const e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+a;throw Vi(e),new Error(e)}function Gt(a,e){a||gt()}function yt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class ZT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $T{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new wi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new wi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new c_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class JT{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WT{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new JT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Gt(this.o===void 0);const s=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new tA(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=nA(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%e.length))}return s}}function Ut(a,e){return a<e?-1:a>e?1:0}function ss(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new Se(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Se(0,0))}static max(){return new pt(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(),s===void 0?s=e.length-i:s>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=e.get(o),d=i.get(o);if(f<d)return-1;if(f>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Jt extends jl{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const iA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends jl{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return iA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}function rA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new fr(o,ut.empty(),e)}function aA(a){return new fr(a.readTime,a.key,-1)}class fr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new fr(pt.min(),ut.empty(),-1)}static max(){return new fr(pt.max(),ut.empty(),-1)}}function sA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,e.documentKey),i!==0?i:Ut(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==lA)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,f=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++f,d&&f===o&&i()}),(_=>s(_)))})),d=!0,f===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++g,g===f&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function uA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Kl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zh.oe=-1;function Ku(a){return a==null}function Bu(a){return a===0&&1/a==-1/0}function cA(a){return typeof a=="number"&&Number.isInteger(a)&&!Bu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function gs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function h_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,s,o,f){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new On([])}unionWith(e){let i=new Be(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new d_("Invalid base64 string: "+f):f}})(e);return new qe(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const fA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=fA.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function na(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Jh(a){const e=a.mapValue.fields.__previous_value__;return $h(e)?Jh(e):e}function kl(a){const e=hr(a.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i,s,o,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class Hl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={mapValue:{}};function ia(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?$h(a)?4:mA(a)?9007199254740991:dA(a)?10:11:gt()}function Wn(a,e){if(a===e)return!0;const i=ia(a);if(i!==ia(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return kl(a).isEqual(kl(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=hr(o.timestampValue),g=hr(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,f){return na(o.bytesValue).isEqual(na(f.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,f){return ce(o.geoPointValue.latitude)===ce(f.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(f.geoPointValue.longitude)})(a,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ce(o.integerValue)===ce(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ce(o.doubleValue),g=ce(f.doubleValue);return d===g?Bu(d)===Bu(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return ss(a.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(ly(d)!==ly(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Wn(d[_],g[_])))return!1;return!0})(a,e);default:return gt()}}function Gl(a,e){return(a.values||[]).find((i=>Wn(i,e)))!==void 0}function ls(a,e){if(a===e)return 0;const i=ia(a),s=ia(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(a.booleanValue,e.booleanValue);case 2:return(function(f,d){const g=ce(f.integerValue||f.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(a,e);case 3:return uy(a.timestampValue,e.timestampValue);case 4:return uy(kl(a),kl(e));case 5:return Ut(a.stringValue,e.stringValue);case 6:return(function(f,d){const g=na(f),_=na(d);return g.compareTo(_)})(a.bytesValue,e.bytesValue);case 7:return(function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Ut(g[v],_[v]);if(A!==0)return A}return Ut(g.length,_.length)})(a.referenceValue,e.referenceValue);case 8:return(function(f,d){const g=Ut(ce(f.latitude),ce(d.latitude));return g!==0?g:Ut(ce(f.longitude),ce(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return cy(a.arrayValue,e.arrayValue);case 10:return(function(f,d){var g,_,v,A;const I=f.fields||{},L=d.fields||{},k=(g=I.value)===null||g===void 0?void 0:g.arrayValue,X=(_=L.value)===null||_===void 0?void 0:_.arrayValue,it=Ut(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:cy(k,X)})(a.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Du.mapValue&&d===Du.mapValue)return 0;if(f===Du.mapValue)return 1;if(d===Du.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let I=0;I<_.length&&I<A.length;++I){const L=Ut(_[I],A[I]);if(L!==0)return L;const k=ls(g[_[I]],v[A[I]]);if(k!==0)return k}return Ut(_.length,A.length)})(a.mapValue,e.mapValue);default:throw gt()}}function uy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ut(a,e);const i=hr(a),s=hr(e),o=Ut(i.seconds,s.seconds);return o!==0?o:Ut(i.nanos,s.nanos)}function cy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=ls(i[o],s[o]);if(f)return f}return Ut(i.length,s.length)}function os(a){return Oh(a)}function Oh(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=hr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return na(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ut.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=Oh(f);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${Oh(i.fields[d])}`;return o+"}"})(a.mapValue):gt()}function fy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Mh(a){return!!a&&"integerValue"in a}function Wh(a){return!!a&&"arrayValue"in a}function hy(a){return!!a&&"nullValue"in a}function dy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ou(a){return!!a&&"mapValue"in a}function dA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function xl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return gs(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=xl(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function mA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ou(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=Pe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=xl(d):o.push(g.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Ou(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ou(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){gs(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new bn(xl(this.value))}}function m_(a){const e=[];return gs(a.fields,((i,s)=>{const o=new Pe([i]);if(Ou(s)){const f=m_(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,pt.min(),pt.min(),pt.min(),bn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,pt.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,pt.min(),pt.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,pt.min(),pt.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,i){this.position=e,this.inclusive=i}}function my(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const f=e[o],d=a.position[o];if(f.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=ls(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function gy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Wn(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,i="asc"){this.field=e,this.dir=i}}function gA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{}class ye extends g_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new yA(e,i,s):i==="array-contains"?new EA(e,s):i==="in"?new TA(e,s):i==="not-in"?new AA(e,s):i==="array-contains-any"?new SA(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new _A(e,s):new vA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ls(i,this.value)):i!==null&&ia(this.value)===ia(i)&&this.matchesComparison(ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends g_{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Mn(e,i)}matches(e){return p_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function p_(a){return a.op==="and"}function y_(a){return pA(a)&&p_(a)}function pA(a){for(const e of a.filters)if(e instanceof Mn)return!1;return!0}function xh(a){if(a instanceof ye)return a.field.canonicalString()+a.op.toString()+os(a.value);if(y_(a))return a.filters.map((e=>xh(e))).join(",");{const e=a.filters.map((i=>xh(i))).join(",");return`${a.op}(${e})`}}function __(a,e){return a instanceof ye?(function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&Wn(s.value,o.value)})(a,e):a instanceof Mn?(function(s,o){return o instanceof Mn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,g)=>f&&__(d,o.filters[g])),!0):!1})(a,e):void gt()}function v_(a){return a instanceof ye?(function(i){return`${i.field.canonicalString()} ${i.op} ${os(i.value)}`})(a):a instanceof Mn?(function(i){return i.op.toString()+" {"+i.getFilters().map(v_).join(" ,")+"}"})(a):"Filter"}class yA extends ye{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class _A extends ye{constructor(e,i){super(e,"in",i),this.keys=E_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class vA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=E_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function E_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>ut.fromName(s.referenceValue)))}class EA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wh(i)&&Gl(i.arrayValue,this.value)}}class TA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class AA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Gl(this.value.arrayValue,i)}}class SA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wh(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function py(a,e=null,i=[],s=[],o=null,f=null,d=null){return new bA(a,e,i,s,o,f,d)}function td(a){const e=yt(a);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>xh(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),Ku(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>os(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>os(s))).join(",")),e.ue=i}return e.ue}function ed(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!gA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!__(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!gy(a.startAt,e.startAt)&&gy(a.endAt,e.endAt)}function Uh(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RA(a,e,i,s,o,f,d,g){return new Xl(a,e,i,s,o,f,d,g)}function nd(a){return new Xl(a)}function yy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function T_(a){return a.collectionGroup!==null}function Ul(a){const e=yt(a);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(Pe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new ju(f,s))})),i.has(Pe.keyField().canonicalString())||e.ce.push(new ju(Pe.keyField(),s))}return e.ce}function $n(a){const e=yt(a);return e.le||(e.le=wA(e,Ul(a))),e.le}function wA(a,e){if(a.limitType==="F")return py(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new ju(o.field,f)}));const i=a.endAt?new qu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new qu(a.startAt.position,a.startAt.inclusive):null;return py(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Lh(a,e){const i=a.filters.concat([e]);return new Xl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function zh(a,e,i){return new Xl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Xu(a,e){return ed($n(a),$n(e))&&a.limitType===e.limitType}function A_(a){return`${td($n(a))}|lt:${a.limitType}`}function Wa(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>v_(o))).join(", ")}]`),Ku(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>os(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>os(o))).join(",")),`Target(${s})`})($n(a))}; limitType=${a.limitType})`}function Zu(a,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ut.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(a,e)&&(function(s,o){for(const f of Ul(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const v=my(d,g,_);return d.inclusive?v<=0:v<0})(s.startAt,Ul(s),o)||s.endAt&&!(function(d,g,_){const v=my(d,g,_);return d.inclusive?v>=0:v>0})(s.endAt,Ul(s),o))})(a,e)}function DA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function S_(a){return(e,i)=>{let s=!1;for(const o of Ul(a)){const f=CA(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function CA(a,e,i){const s=a.field.isKeyField()?ut.comparator(e.key,i.key):(function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?ls(_,v):gt()})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return h_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new ne(ut.comparator);function Ii(){return VA}const b_=new ne(ut.comparator);function Nl(...a){let e=b_;for(const i of a)e=e.insert(i.key,i);return e}function R_(a){let e=b_;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Wr(){return Ll()}function w_(){return Ll()}function Ll(){return new ps((a=>a.toString()),((a,e)=>a.isEqual(e)))}const IA=new ne(ut.comparator),NA=new Be(ut.comparator);function Ct(...a){let e=NA;for(const i of a)e=e.add(i);return e}const OA=new Be(Ut);function MA(){return OA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function D_(a){return{integerValue:""+a}}function xA(a,e){return cA(e)?D_(e):id(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function UA(a,e,i){return a instanceof ku?(function(o,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&$h(f)&&(f=Jh(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}})(i,e):a instanceof Ql?V_(a,e):a instanceof Fl?I_(a,e):(function(o,f){const d=C_(o,f),g=_y(d)+_y(o.Pe);return Mh(d)&&Mh(o.Pe)?D_(g):id(o.serializer,g)})(a,e)}function LA(a,e,i){return a instanceof Ql?V_(a,e):a instanceof Fl?I_(a,e):i}function C_(a,e){return a instanceof Hu?(function(s){return Mh(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class ku extends $u{}class Ql extends $u{constructor(e){super(),this.elements=e}}function V_(a,e){const i=N_(e);for(const s of a.elements)i.some((o=>Wn(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Fl extends $u{constructor(e){super(),this.elements=e}}function I_(a,e){let i=N_(e);for(const s of a.elements)i=i.filter((o=>!Wn(o,s)));return{arrayValue:{values:i}}}class Hu extends $u{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function _y(a){return ce(a.integerValue||a.doubleValue)}function N_(a){return Wh(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function zA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Fl&&o instanceof Fl?ss(s.elements,o.elements,Wn):s instanceof Hu&&o instanceof Hu?Wn(s.Pe,o.Pe):s instanceof ku&&o instanceof ku})(a.transform,e.transform)}class PA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ju{}function O_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new x_(a.key,Di.none()):new Zl(a.key,a.data,Di.none());{const i=a.data,s=bn.empty();let o=new Be(Pe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new ra(a.key,s,new On(o.toArray()),Di.none())}}function BA(a,e,i){a instanceof Zl?(function(o,f,d){const g=o.value.clone(),_=Ey(o.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof ra?(function(o,f,d){if(!Mu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Ey(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(M_(o)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zl(a,e,i,s){return a instanceof Zl?(function(f,d,g,_){if(!Mu(f.precondition,d))return g;const v=f.value.clone(),A=Ty(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,s):a instanceof ra?(function(f,d,g,_){if(!Mu(f.precondition,d))return g;const v=Ty(f.fieldTransforms,_,d),A=d.data;return A.setAll(M_(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((I=>I.field)))})(a,e,i,s):(function(f,d,g){return Mu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function qA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),f=C_(s.transform,o||null);f!=null&&(i===null&&(i=bn.empty()),i.set(s.field,f))}return i||null}function vy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ss(s,o,((f,d)=>zA(f,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Zl extends Ju{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Ju{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function M_(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function Ey(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const f=a[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,LA(d,g,i[o]))}return s}function Ty(a,e,i){const s=new Map;for(const o of a){const f=o.transform,d=i.data.field(o.field);s.set(o.field,UA(f,d,e))}return s}class x_ extends Ju{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends Ju{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&BA(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=w_();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const _=O_(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,((i,s)=>vy(i,s)))&&ss(this.baseMutations,e.baseMutations,((i,s)=>vy(i,s)))}}class rd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=(function(){return IA})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new rd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ot;function QA(a){switch(a){default:return gt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function U_(a){if(a===void 0)return Vi("GRPC error has no .code"),Y.UNKNOWN;switch(a){case pe.OK:return Y.OK;case pe.CANCELLED:return Y.CANCELLED;case pe.UNKNOWN:return Y.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Y.INTERNAL;case pe.UNAVAILABLE:return Y.UNAVAILABLE;case pe.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case pe.NOT_FOUND:return Y.NOT_FOUND;case pe.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case pe.ABORTED:return Y.ABORTED;case pe.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case pe.DATA_LOSS:return Y.DATA_LOSS;default:return gt()}}(Ot=pe||(pe={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new ta([4294967295,4294967295],0);function Ay(a){const e=FA().encode(a),i=new r_;return i.update(e),new Uint8Array(i.digest())}function Sy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new ta([i,s],0),new ta([o,f],0)]}class ad{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=ta.fromNumber(this.Ie)}Ee(e,i,s){let o=e.add(i.multiply(ta.fromNumber(s)));return o.compare(YA)===1&&(o=new ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=Ay(e),[s,o]=Sy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);if(!this.de(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new ad(f,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.Ie===0)return;const i=Ay(e),[s,o]=Sy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Wu(pt.min(),o,new ne(Ut),Ii(),Ct())}}class $l{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new $l(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,i,s,o){this.Re=e,this.removedTargetIds=i,this.key=s,this.Ve=o}}class L_{constructor(e,i){this.targetId=e,this.me=i}}class z_{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class by{constructor(){this.fe=0,this.ge=wy(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),i=Ct(),s=Ct();return this.ge.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt()}})),new $l(this.pe,this.ye,e,i,s)}Ce(){this.we=!1,this.ge=wy()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=Ry(),this.Qe=new ne(Ut)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const s=this.Ge(i);switch(e.state){case 0:this.ze(i)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(e.resumeToken));break;default:gt()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((s,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,s=e.me.count,o=this.Je(i);if(o){const f=o.target;if(Uh(f))if(s===0){const d=new ut(f.path);this.Ue(i,d,Fe.newNoDocument(d,pt.min()))}else Gt(s===1);else{const d=this.Ye(i);if(d!==s){const g=this.Ze(e),_=g?this.Xe(g,e,d):1;if(_!==0){this.je(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=na(s).toUint8Array()}catch(_){if(_ instanceof d_)return as("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ad(d,o,f)}catch(_){return as(_ instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ie===0?null:g}Xe(e,i,s){return i.me.count===s-this.nt(e,i.targetId)?0:2}nt(e,i){const s=this.Le.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,f,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((f,d)=>{const g=this.Je(d);if(g){if(f.current&&Uh(g.target)){const _=new ut(g.target.path);this.ke.get(_)!==null||this.it(d,_)||this.Ue(d,_,Fe.newNoDocument(_,e))}f.be&&(i.set(d,f.ve()),f.Ce())}}));let s=Ct();this.qe.forEach(((f,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.Je(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(f))})),this.ke.forEach(((f,d)=>d.setReadTime(e)));const o=new Wu(e,i,this.Qe,this.ke,s);return this.ke=Ii(),this.qe=Ry(),this.Qe=new ne(Ut),o}$e(e,i){if(!this.ze(e))return;const s=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new by,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Be(Ut),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new by),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function Ry(){return new ne(ut.comparator)}function wy(){return new ne(ut.comparator)}const XA={asc:"ASCENDING",desc:"DESCENDING"},ZA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$A={and:"AND",or:"OR"};class JA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ph(a,e){return a.useProto3Json||Ku(e)?e:{value:e}}function Gu(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function WA(a,e){return Gu(a,e.toTimestamp())}function Jn(a){return Gt(!!a),pt.fromTimestamp((function(i){const s=hr(i);return new Se(s.seconds,s.nanos)})(a))}function sd(a,e){return Bh(a,e).canonicalString()}function Bh(a,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function B_(a){const e=Jt.fromString(a);return Gt(G_(e)),e}function qh(a,e){return sd(a.databaseId,e.path)}function Eh(a,e){const i=B_(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(j_(i))}function q_(a,e){return sd(a.databaseId,e)}function tS(a){const e=B_(a);return e.length===4?Jt.emptyPath():j_(e)}function jh(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function j_(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Dy(a,e,i){return{name:qh(a,e),fields:i.value.mapValue.fields}}function eS(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?Y.UNKNOWN:U_(v.code);return new rt(A,v.message||"")})(d);i=new z_(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Eh(a,s.document.name),f=Jn(s.document.updateTime),d=s.document.createTime?Jn(s.document.createTime):pt.min(),g=new bn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,f,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new xu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Eh(a,s.document),f=s.readTime?Jn(s.readTime):pt.min(),d=Fe.newNoDocument(o,f),g=s.removedTargetIds||[];i=new xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Eh(a,s.document),f=s.removedTargetIds||[];i=new xu([],f,o,null)}else{if(!("filter"in e))return gt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new GA(o,f),g=s.targetId;i=new L_(g,d)}}return i}function nS(a,e){let i;if(e instanceof Zl)i={update:Dy(a,e.key,e.value)};else if(e instanceof x_)i={delete:qh(a,e.key)};else if(e instanceof ra)i={update:Dy(a,e.key,e.data),updateMask:fS(e.fieldMask)};else{if(!(e instanceof jA))return gt();i={verify:qh(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const g=d.transform;if(g instanceof ku)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hu)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw gt()})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:WA(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:gt()})(a,e.precondition)),i}function iS(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map((i=>(function(o,f){let d=o.updateTime?Jn(o.updateTime):Jn(f);return d.isEqual(pt.min())&&(d=Jn(f)),new PA(d,o.transformResults||[])})(i,e)))):[]}function rS(a,e){return{documents:[q_(a,e.path)]}}function aS(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=q_(a,o);const f=(function(v){if(v.length!==0)return H_(Mn.create(v,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(v){if(v.length!==0)return v.map((A=>(function(L){return{field:ts(L.field),direction:oS(L.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ph(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:i,parent:o}}function sS(a){let e=tS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(I){const L=k_(I);return L instanceof Mn&&y_(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((L=>(function(X){return new ju(es(X.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(L)))})(i.orderBy));let g=null;i.limit&&(g=(function(I){let L;return L=typeof I=="object"?I.value:I,Ku(L)?null:L})(i.limit));let _=null;i.startAt&&(_=(function(I){const L=!!I.before,k=I.values||[];return new qu(k,L)})(i.startAt));let v=null;return i.endAt&&(v=(function(I){const L=!I.before,k=I.values||[];return new qu(k,L)})(i.endAt)),RA(e,o,d,f,g,"F",_,v)}function lS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function k_(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=es(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=es(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=es(i.unaryFilter.field);return ye.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=es(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}})(a):a.fieldFilter!==void 0?(function(i){return ye.create(es(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Mn.create(i.compositeFilter.filters.map((s=>k_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}})(i.compositeFilter.op))})(a):gt()}function oS(a){return XA[a]}function uS(a){return ZA[a]}function cS(a){return $A[a]}function ts(a){return{fieldPath:a.canonicalString()}}function es(a){return Pe.fromServerFormat(a.fieldPath)}function H_(a){return a instanceof ye?(function(i){if(i.op==="=="){if(dy(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NAN"}};if(hy(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dy(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NOT_NAN"}};if(hy(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(i.field),op:uS(i.op),value:i.value}}})(a):a instanceof Mn?(function(i){const s=i.getFilters().map((o=>H_(o)));return s.length===1?s[0]:{compositeFilter:{op:cS(i.op),filters:s}}})(a):gt()}function fS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function G_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,s,o,f=pt.min(),d=pt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.ct=e}}function dS(a){const e=sS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.un=new gS}addToCollectionParentIndex(e,i){return this.un.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(fr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class gS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Be(Jt.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new us(0)}static kn(){return new us(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.changes=new ps((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&zl(s.mutation,o,On.empty(),Se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ct()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ct()){const o=Wr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=Nl();return f.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Wr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ct())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let f=Ii();const d=Ll(),g=(function(){return Ll()})();return i.forEach(((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ra)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),zl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,On.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var I;return g.set(v,new yS(A,(I=d.get(v))!==null&&I!==void 0?I:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=Ll();let o=new ne(((d,g)=>d-g)),f=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||On.empty();A=g.applyToLocalView(v,A),s.set(_,A);const I=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,I)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,I=w_();A.forEach((L=>{if(!f.has(L)){const k=O_(i.get(L),s.get(L));k!==null&&I.set(L,k),f=f.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):T_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):Z.resolve(Wr());let g=-1,_=f;return d.next((v=>Z.forEach(v,((A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),f.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((L=>{_=_.insert(A,L)}))))).next((()=>this.populateOverlays(e,v,f))).next((()=>this.computeViews(e,_,v,Ct()))).next((A=>({batchId:g,changes:R_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,f).next((g=>Z.forEach(g,(_=>{const v=(function(I,L){return new Xl(L,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((A=>{A.forEach(((I,L)=>{d=d.insert(I,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))}));let g=Nl();return d.forEach(((_,v)=>{const A=f.get(_);A!==void 0&&zl(A.mutation,v,On.empty(),Se.now()),Zu(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Jn(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:dS(o.bundledQuery),readTime:Jn(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.overlays=new ne(ut.comparator),this.Ir=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Wr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.ht(e,i,f)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.Ir.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Wr(),f=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ne(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=f.get(v.largestBatchId);A===null&&(A=Wr(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Wr(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=o)););return Z.resolve(g)}ht(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HA(i,s));let f=this.Ir.get(i);f===void 0&&(f=Ct(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.Tr=new Be(Ie.Er),this.dr=new Be(Ie.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Vr(new Ie(e,i))}mr(e,i){e.forEach((s=>this.removeReference(s,i)))}gr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1),f=[];return this.dr.forEachInRange([s,o],(d=>{this.Vr(d),f.push(d.key)})),f}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1);let f=Ct();return this.dr.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ie(e,0),s=this.Tr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ut.comparator(e.key,i.key)||Ut(e.wr,i.wr)}static Ar(e,i){return Ut(e.wr,i.wr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Be(Ie.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kA(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.br=this.br.add(new Ie(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.vr(s),f=o<0?0:o;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,o],(d=>{const g=this.Dr(d.wr);f.push(g)})),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Be(Ut);return i.forEach((o=>{const f=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,d],(g=>{s=s.add(g.wr)}))})),Z.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;ut.isDocumentKey(f)||(f=f.child(""));const d=new Ie(new ut(f),0);let g=new Be(Ut);return this.br.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.wr)),!0)}),d),Z.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Z.forEach(i.mutations,(o=>{const f=new Ie(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,i){const s=new Ie(i,0),o=this.br.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.Mr=e,this.docs=(function(){return new ne(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Ii();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Fe.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Ii();const d=i.path,g=new ut(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||sA(aA(A),s)<=0||(o.has(A.key)||Zu(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(e,i,s,o){gt()}Or(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new bS(this)}getSize(e){return Z.resolve(this.size)}}class bS extends pS{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.persistence=e,this.Nr=new ps((i=>td(i)),ed),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ld,this.targetCount=0,this.kr=us.Bn()}forEachTarget(e,i){return this.Nr.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new us(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Kn(i),Z.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Nr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(f).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Nr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Br.Rr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Br.mr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Br.yr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Zh(0),this.Kr=!1,this.Kr=!0,this.$r=new TS,this.referenceDelegate=e(this),this.Ur=new RS(this),this.indexManager=new mS,this.remoteDocumentCache=(function(o){return new SS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new hS(i),this.Gr=new vS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ES,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.qr[e.toKey()];return s||(s=new AS(i,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new DS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((f=>this.referenceDelegate.jr(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Hr(e,i){return Z.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,i))))}}class DS extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class od{constructor(e){this.persistence=e,this.Jr=new ld,this.Yr=null}static Zr(e){return new od(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.Xr.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(s=>{const o=ut.fromPath(s);return this.ei(e,o).next((f=>{f||i.removeEntry(o,pt.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.$i=s,this.Ui=o}static Wi(e,i){let s=Ct(),o=Ct();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new ud(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return ME()?8:uA(NE())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.Yi(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.Zi(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new CS;return this.Xi(e,i,d).next((g=>{if(f.result=g,this.zi)return this.es(e,i,d,g.size)}))})).next((()=>f.result))}es(e,i,s,o){return s.documentReadCount<this.ji?(Vl()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Vl()<=Mt.DEBUG&&st("QueryEngine","Query:",Wa(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Vl()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):Z.resolve())}Yi(e,i){if(yy(i))return Z.resolve(null);let s=$n(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=zh(i,null,"F"),s=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Ct(...f);return this.Ji.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.ts(i,g);return this.ns(i,v,d,_.readTime)?this.Yi(e,zh(i,null,"F")):this.rs(e,v,i,_)}))))})))))}Zi(e,i,s,o){return yy(i)||o.isEqual(pt.min())?Z.resolve(null):this.Ji.getDocuments(e,s).next((f=>{const d=this.ts(i,f);return this.ns(i,d,s,o)?Z.resolve(null):(Vl()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(i)),this.rs(e,d,i,rA(o,-1)).next((g=>g)))}))}ts(e,i){let s=new Be(S_(e));return i.forEach(((o,f)=>{Zu(e,f)&&(s=s.add(f))})),s}ns(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Xi(e,i,s){return Vl()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.Ji.getDocumentsMatchingQuery(e,i,fr.min(),s)}rs(e,i,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i,s,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new ne(Ut),this._s=new ps((f=>td(f)),ed),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _S(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function NS(a,e,i,s){return new IS(a,e,i,s)}async function Q_(a,e){const i=yt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.ls(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function OS(a,e){const i=yt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,A){const I=v.batch,L=I.keys();let k=Z.resolve();return L.forEach((X=>{k=k.next((()=>A.getEntry(_,X))).next((it=>{const W=v.docVersions.get(X);Gt(W!==null),it.version.compareTo(W)<0&&(I.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(_,I)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function F_(a){const e=yt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function MS(a,e){const i=yt(a),s=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];e.targetChanges.forEach(((A,I)=>{const L=o.get(I);if(!L)return;g.push(i.Ur.removeMatchingKeys(f,A.removedDocuments,I).next((()=>i.Ur.addMatchingKeys(f,A.addedDocuments,I))));let k=L.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(I)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),o=o.insert(I,k),(function(it,W,Dt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=3e8?!0:Dt.addedDocuments.size+Dt.modifiedDocuments.size+Dt.removedDocuments.size>0})(L,k,A)&&g.push(i.Ur.updateTargetData(f,k))}));let _=Ii(),v=Ct();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),g.push(xS(f,d,e.documentUpdates).next((A=>{_=A.Ps,v=A.Is}))),!s.isEqual(pt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(f).next((I=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,v))).next((()=>_))})).then((f=>(i.os=o,f)))}function xS(a,e,i){let s=Ct(),o=Ct();return i.forEach((f=>s=s.add(f))),e.getEntries(a,s).next((f=>{let d=Ii();return i.forEach(((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Ps:d,Is:o}}))}function US(a,e){const i=yt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LS(a,e){const i=yt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Ur.getTargetData(s,e).next((f=>f?(o=f,Z.resolve(o)):i.Ur.allocateTargetId(s).next((d=>(o=new lr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(e,s.targetId)),s}))}async function kh(a,e,i){const s=yt(a),o=s.os.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Kl(d))throw d;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Cy(a,e,i){const s=yt(a);let o=pt.min(),f=Ct();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const I=yt(_),L=I._s.get(A);return L!==void 0?Z.resolve(I.os.get(L)):I.Ur.getTargetData(v,A)})(s,d,$n(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(d,g.targetId).next((_=>{f=_}))})).next((()=>s.ss.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?f:Ct()))).next((g=>(zS(s,DA(e),g),{documents:g,Ts:f})))))}function zS(a,e,i){let s=a.us.get(e)||pt.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),a.us.set(e,s)}class Vy{constructor(){this.activeTargetIds=MA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PS{constructor(){this.so=new Vy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,s){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=null;function Th(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class kS extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${o}/databases/${f}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${f}`}get Fo(){return!1}Mo(i,s,o,f,d){const g=Th(),_=this.xo(i,s.toUriEncodedString());st("RestConnection",`Sending RPC '${i}' ${g}:`,_,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,f,d),this.No(i,_,v,o).then((A=>(st("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw as("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",_,"request:",o),A}))}Lo(i,s,o,f,d,g){return this.Mo(i,s,o,f,d)}Oo(i,s,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ms})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((f,d)=>i[d]=f)),o&&o.headers.forEach(((f,d)=>i[d]=f))}xo(i,s){const o=qS[i];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,s,o){const f=Th();return new Promise(((d,g)=>{const _=new a_;_.setWithCredentials(!0),_.listenOnce(s_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Nu.NO_ERROR:const A=_.getResponseJson();st(Ge,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),d(A);break;case Nu.TIMEOUT:st(Ge,`RPC '${e}' ${f} timed out`),g(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const I=_.getStatus();if(st(Ge,`RPC '${e}' ${f} failed with status:`,I,"response text:",_.getResponseText()),I>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const k=L==null?void 0:L.error;if(k&&k.status&&k.message){const X=(function(W){const Dt=W.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Dt)>=0?Dt:Y.UNKNOWN})(k.status);g(new rt(X,k.message))}else g(new rt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{st(Ge,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);st(Ge,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",v,s,15)}))}Bo(e,i,s){const o=Th(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=u_(),g=o_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=f.join("");st(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const I=d.createWebChannel(A,_);let L=!1,k=!1;const X=new jS({Io:W=>{k?st(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(L||(st(Ge,`Opening RPC '${e}' stream ${o} transport.`),I.open(),L=!0),st(Ge,`RPC '${e}' stream ${o} sending:`,W),I.send(W))},To:()=>I.close()}),it=(W,Dt,At)=>{W.listen(Dt,(_t=>{try{At(_t)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return it(I,Il.EventType.OPEN,(()=>{k||(st(Ge,`RPC '${e}' stream ${o} transport opened.`),X.yo())})),it(I,Il.EventType.CLOSE,(()=>{k||(k=!0,st(Ge,`RPC '${e}' stream ${o} transport closed`),X.So())})),it(I,Il.EventType.ERROR,(W=>{k||(k=!0,as(Ge,`RPC '${e}' stream ${o} transport errored:`,W),X.So(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),it(I,Il.EventType.MESSAGE,(W=>{var Dt;if(!k){const At=W.data[0];Gt(!!At);const _t=At,Bt=_t.error||((Dt=_t[0])===null||Dt===void 0?void 0:Dt.error);if(Bt){st(Ge,`RPC '${e}' stream ${o} received error:`,Bt);const vt=Bt.status;let Lt=(function(w){const V=pe[w];if(V!==void 0)return U_(V)})(vt),N=Bt.message;Lt===void 0&&(Lt=Y.INTERNAL,N="Unknown error status: "+vt+" with message "+Bt.message),k=!0,X.So(new rt(Lt,N)),I.close()}else st(Ge,`RPC '${e}' stream ${o} received:`,At),X.bo(At)}})),it(g,l_.STAT_EVENT,(W=>{W.stat===Nh.PROXY?st(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===Nh.NOPROXY&&st(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.wo()}),0),X}}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(a){return new JA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,i,s=1e3,o=1.5,f=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=o,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,i,s,o,f,d,g,_){this.ui=e,this.Ho=s,this.Jo=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Y_(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===i&&this.P_(s,o)}),(s=>{e((()=>{const o=new rt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,i){const s=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HS extends K_{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=eS(this.serializer,e),s=(function(f){if(!("targetChange"in f))return pt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Jn(d.readTime):pt.min()})(e);return this.listener.d_(i,s)}A_(e){const i={};i.database=jh(this.serializer),i.addTarget=(function(f,d){let g;const _=d.target;if(g=Uh(_)?{documents:rS(f,_)}:{query:aS(f,_)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=P_(f,d.resumeToken);const v=Ph(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=Gu(f,d.snapshotVersion.toTimestamp());const v=Ph(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=lS(this.serializer,e);s&&(i.labels=s),this.a_(i)}R_(e){const i={};i.database=jh(this.serializer),i.removeTarget=e,this.a_(i)}}class GS extends K_{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=iS(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.g_(s,i)}p_(){const e={};e.database=jh(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>nS(this.serializer,s)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends class{}{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Mo(e,Bh(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(Y.UNKNOWN,f.toString())}))}Lo(e,i,s,o,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(e,Bh(i,s),o,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(i),this.D_=!1):st("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o((d=>{s.enqueueAndForget((async()=>{aa(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await(async function(_){const v=yt(_);v.L_.add(4),await Jl(v),v.q_.set("Unknown"),v.L_.delete(4),await ec(v)})(this))}))})),this.q_=new FS(s,o)}}async function ec(a){if(aa(a))for(const e of a.B_)await e(!0)}async function Jl(a){for(const e of a.B_)await e(!1)}function X_(a,e){const i=yt(a);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),dd(i)?hd(i):ys(i).r_()&&fd(i,e))}function cd(a,e){const i=yt(a),s=ys(i);i.N_.delete(e),s.r_()&&Z_(i,e),i.N_.size===0&&(s.r_()?s.o_():aa(i)&&i.q_.set("Unknown"))}function fd(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ys(a).A_(e)}function Z_(a,e){a.Q_.xe(e),ys(a).R_(e)}function hd(a){a.Q_=new KA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),ys(a).start(),a.q_.v_()}function dd(a){return aa(a)&&!ys(a).n_()&&a.N_.size>0}function aa(a){return yt(a).L_.size===0}function $_(a){a.Q_=void 0}async function KS(a){a.q_.set("Online")}async function XS(a){a.N_.forEach(((e,i)=>{fd(a,e)}))}async function ZS(a,e){$_(a),dd(a)?(a.q_.M_(e),hd(a)):a.q_.set("Unknown")}async function $S(a,e,i){if(a.q_.set("Online"),e instanceof z_&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const g of f.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.N_.delete(g),o.Q_.removeTarget(g))})(a,e)}catch(s){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qu(a,s)}else if(e instanceof xu?a.Q_.Ke(e):e instanceof L_?a.Q_.He(e):a.Q_.We(e),!i.isEqual(pt.min()))try{const s=await F_(a.localStore);i.compareTo(s)>=0&&await(function(f,d){const g=f.Q_.rt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.N_.get(v);A&&f.N_.set(v,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const A=f.N_.get(_);if(!A)return;f.N_.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Z_(f,_);const I=new lr(A.target,_,v,A.sequenceNumber);fd(f,I)})),f.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){st("RemoteStore","Failed to raise snapshot:",s),await Qu(a,s)}}async function Qu(a,e,i){if(!Kl(e))throw e;a.L_.add(1),await Jl(a),a.q_.set("Offline"),i||(i=()=>F_(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st("RemoteStore","Retrying IndexedDB access"),await i(),a.L_.delete(1),await ec(a)}))}function J_(a,e){return e().catch((i=>Qu(a,i,e)))}async function nc(a){const e=yt(a),i=dr(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;JS(e);)try{const o=await US(e.localStore,s);if(o===null){e.O_.length===0&&i.o_();break}s=o.batchId,WS(e,o)}catch(o){await Qu(e,o)}W_(e)&&tv(e)}function JS(a){return aa(a)&&a.O_.length<10}function WS(a,e){a.O_.push(e);const i=dr(a);i.r_()&&i.V_&&i.m_(e.mutations)}function W_(a){return aa(a)&&!dr(a).n_()&&a.O_.length>0}function tv(a){dr(a).start()}async function t1(a){dr(a).p_()}async function e1(a){const e=dr(a);for(const i of a.O_)e.m_(i.mutations)}async function n1(a,e,i){const s=a.O_.shift(),o=rd.from(s,e,i);await J_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await nc(a)}async function i1(a,e){e&&dr(a).V_&&await(async function(s,o){if((function(d){return QA(d)&&d!==Y.ABORTED})(o.code)){const f=s.O_.shift();dr(s).s_(),await J_(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await nc(s)}})(a,e),W_(a)&&tv(a)}async function Ny(a,e){const i=yt(a);i.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const s=aa(i);i.L_.add(3),await Jl(i),s&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await ec(i)}async function r1(a,e){const i=yt(a);e?(i.L_.delete(2),await ec(i)):e||(i.L_.add(2),await Jl(i),i.q_.set("Unknown"))}function ys(a){return a.K_||(a.K_=(function(i,s,o){const f=yt(i);return f.w_(),new HS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(a.datastore,a.asyncQueue,{Eo:KS.bind(null,a),Ro:XS.bind(null,a),mo:ZS.bind(null,a),d_:$S.bind(null,a)}),a.B_.push((async e=>{e?(a.K_.s_(),dd(a)?hd(a):a.q_.set("Unknown")):(await a.K_.stop(),$_(a))}))),a.K_}function dr(a){return a.U_||(a.U_=(function(i,s,o){const f=yt(i);return f.w_(),new GS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:t1.bind(null,a),mo:i1.bind(null,a),f_:e1.bind(null,a),g_:n1.bind(null,a)}),a.B_.push((async e=>{e?(a.U_.s_(),await nc(a)):(await a.U_.stop(),a.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))}))),a.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new md(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(a,e){if(Vi("AsyncQueue",`${e}: ${a}`),Kl(a))return new rt(Y.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ne(this.comparator)}static emptySet(e){return new is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof is)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new is;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.W_=new ne(ut.comparator)}track(e){const i=e.doc.key,s=this.W_.get(i);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(i,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(i):e.type===1&&s.type===2?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,s)=>{e.push(s)})),e}}class cs{constructor(e,i,s,o,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new cs(e,i,is.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class s1{constructor(){this.queries=My(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,s){const o=yt(i),f=o.queries;o.queries=My(),f.forEach(((d,g)=>{for(const _ of g.j_)_.onError(s)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function My(){return new ps((a=>A_(a)),Xu)}async function ev(a,e){const i=yt(a);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.H_()&&e.J_()&&(s=2):(f=new a1,s=e.J_()?0:1);try{switch(s){case 0:f.z_=await i.onListen(o,!0);break;case 1:f.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=gd(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.j_.push(e),e.Z_(i.onlineState),f.z_&&e.X_(f.z_)&&pd(i)}async function nv(a,e){const i=yt(a),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.j_.indexOf(e);d>=0&&(f.j_.splice(d,1),f.j_.length===0?o=e.J_()?0:1:!f.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function l1(a,e){const i=yt(a);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.j_)g.X_(o)&&(s=!0);d.z_=o}}s&&pd(i)}function o1(a,e,i){const s=yt(a),o=s.queries.get(e);if(o)for(const f of o.j_)f.onError(i);s.queries.delete(e)}function pd(a){a.Y_.forEach((e=>{e.next()}))}var Hh,xy;(xy=Hh||(Hh={})).ea="default",xy.Cache="cache";class iv{constructor(e,i,s){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new cs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const s=i!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Hh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.key=e}}class av{constructor(e){this.key=e}}class u1{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ct(),this.mutatedKeys=Ct(),this.Aa=S_(e),this.Ra=new is(this.Aa)}get Va(){return this.Ta}ma(e,i){const s=i?i.fa:new Oy,o=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,I)=>{const L=o.get(A),k=Zu(this.query,I)?I:null,X=!!L&&this.mutatedKeys.has(L.key),it=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let W=!1;L&&k?L.data.isEqual(k.data)?X!==it&&(s.track({type:3,doc:k}),W=!0):this.ga(L,k)||(s.track({type:2,doc:k}),W=!0,(_&&this.Aa(k,_)>0||v&&this.Aa(k,v)<0)&&(g=!0)):!L&&k?(s.track({type:0,doc:k}),W=!0):L&&!k&&(s.track({type:1,doc:L}),W=!0,(_||v)&&(g=!0)),W&&(k?(d=d.add(k),f=it?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{Ra:d,fa:s,ns:g,mutatedKeys:f}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((A,I)=>(function(k,X){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return it(k)-it(X)})(A.type,I.type)||this.Aa(A.doc,I.doc))),this.pa(s),o=o!=null&&o;const g=i&&!o?this.ya():[],_=this.da.size===0&&this.current&&!o?1:0,v=_!==this.Ea;return this.Ea=_,d.length!==0||v?{snapshot:new cs(this.query,e.Ra,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Oy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ct(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const i=[];return e.forEach((s=>{this.da.has(s)||i.push(new av(s))})),this.da.forEach((s=>{e.has(s)||i.push(new rv(s))})),i}ba(e){this.Ta=e.Ts,this.da=Ct();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class c1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class f1{constructor(e){this.key=e,this.va=!1}}class h1{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new ps((g=>A_(g)),Xu),this.Ma=new Map,this.xa=new Set,this.Oa=new ne(ut.comparator),this.Na=new Map,this.La=new ld,this.Ba={},this.ka=new Map,this.qa=us.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function d1(a,e,i=!0){const s=fv(a);let o;const f=s.Fa.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.Da()):o=await sv(s,e,i,!0),o}async function m1(a,e){const i=fv(a);await sv(i,e,!0,!1)}async function sv(a,e,i,s){const o=await LS(a.localStore,$n(e)),f=o.targetId,d=a.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await g1(a,e,f,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&X_(a.remoteStore,o),g}async function g1(a,e,i,s,o){a.Ka=(I,L,k)=>(async function(it,W,Dt,At){let _t=W.view.ma(Dt);_t.ns&&(_t=await Cy(it.localStore,W.query,!1).then((({documents:N})=>W.view.ma(N,_t))));const Bt=At&&At.targetChanges.get(W.targetId),vt=At&&At.targetMismatches.get(W.targetId)!=null,Lt=W.view.applyChanges(_t,it.isPrimaryClient,Bt,vt);return Ly(it,W.targetId,Lt.wa),Lt.snapshot})(a,I,L,k);const f=await Cy(a.localStore,e,!0),d=new u1(e,f.Ts),g=d.ma(f.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);Ly(a,i,v.wa);const A=new c1(e,i,d);return a.Fa.set(e,A),a.Ma.has(i)?a.Ma.get(i).push(e):a.Ma.set(i,[e]),v.snapshot}async function p1(a,e,i){const s=yt(a),o=s.Fa.get(e),f=s.Ma.get(o.targetId);if(f.length>1)return s.Ma.set(o.targetId,f.filter((d=>!Xu(d,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kh(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&cd(s.remoteStore,o.targetId),Gh(s,o.targetId)})).catch(Yl)):(Gh(s,o.targetId),await kh(s.localStore,o.targetId,!0))}async function y1(a,e){const i=yt(a),s=i.Fa.get(e),o=i.Ma.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),cd(i.remoteStore,s.targetId))}async function _1(a,e,i){const s=R1(a);try{const o=await(function(d,g){const _=yt(d),v=Se.now(),A=g.reduce(((k,X)=>k.add(X.key)),Ct());let I,L;return _.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let X=Ii(),it=Ct();return _.cs.getEntries(k,A).next((W=>{X=W,X.forEach(((Dt,At)=>{At.isValidDocument()||(it=it.add(Dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(k,X))).next((W=>{I=W;const Dt=[];for(const At of g){const _t=qA(At,I.get(At.key).overlayedDocument);_t!=null&&Dt.push(new ra(At.key,_t,m_(_t.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,Dt,g)})).next((W=>{L=W;const Dt=W.applyToLocalDocumentSet(I,it);return _.documentOverlayCache.saveOverlays(k,W.batchId,Dt)}))})).then((()=>({batchId:L.batchId,changes:R_(I)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.Ba[d.currentUser.toKey()];v||(v=new ne(Ut)),v=v.insert(g,_),d.Ba[d.currentUser.toKey()]=v})(s,o.batchId,i),await Wl(s,o.changes),await nc(s.remoteStore)}catch(o){const f=gd(o,"Failed to persist write");i.reject(f)}}async function lv(a,e){const i=yt(a);try{const s=await MS(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Na.get(f);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?Gt(d.va):o.removedDocuments.size>0&&(Gt(d.va),d.va=!1))})),await Wl(i,s,e)}catch(s){await Yl(s)}}function Uy(a,e,i){const s=yt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Fa.forEach(((f,d)=>{const g=d.view.Z_(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=yt(d);_.onlineState=g;let v=!1;_.queries.forEach(((A,I)=>{for(const L of I.j_)L.Z_(g)&&(v=!0)})),v&&pd(_)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function v1(a,e,i){const s=yt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Na.get(e),f=o&&o.key;if(f){let d=new ne(ut.comparator);d=d.insert(f,Fe.newNoDocument(f,pt.min()));const g=Ct().add(f),_=new Wu(pt.min(),new Map,new ne(Ut),d,g);await lv(s,_),s.Oa=s.Oa.remove(f),s.Na.delete(e),yd(s)}else await kh(s.localStore,e,!1).then((()=>Gh(s,e,i))).catch(Yl)}async function E1(a,e){const i=yt(a),s=e.batch.batchId;try{const o=await OS(i.localStore,e);uv(i,s,null),ov(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Wl(i,o)}catch(o){await Yl(o)}}async function T1(a,e,i){const s=yt(a);try{const o=await(function(d,g){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next((I=>(Gt(I!==null),A=I.keys(),_.mutationQueue.removeMutationBatch(v,I)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,e);uv(s,e,i),ov(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Wl(s,o)}catch(o){await Yl(o)}}function ov(a,e){(a.ka.get(e)||[]).forEach((i=>{i.resolve()})),a.ka.delete(e)}function uv(a,e,i){const s=yt(a);let o=s.Ba[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Gh(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Ma.get(e))a.Fa.delete(s),i&&a.Ca.$a(s,i);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach((s=>{a.La.containsKey(s)||cv(a,s)}))}function cv(a,e){a.xa.delete(e.path.canonicalString());const i=a.Oa.get(e);i!==null&&(cd(a.remoteStore,i),a.Oa=a.Oa.remove(e),a.Na.delete(i),yd(a))}function Ly(a,e,i){for(const s of i)s instanceof rv?(a.La.addReference(s.key,e),A1(a,s)):s instanceof av?(st("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,e),a.La.containsKey(s.key)||cv(a,s.key)):gt()}function A1(a,e){const i=e.key,s=i.path.canonicalString();a.Oa.get(i)||a.xa.has(s)||(st("SyncEngine","New document in limbo: "+i),a.xa.add(s),yd(a))}function yd(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const i=new ut(Jt.fromString(e)),s=a.qa.next();a.Na.set(s,new f1(i)),a.Oa=a.Oa.insert(i,s),X_(a.remoteStore,new lr($n(nd(i.path)),s,"TargetPurposeLimboResolution",Zh.oe))}}async function Wl(a,e,i){const s=yt(a),o=[],f=[],d=[];s.Fa.isEmpty()||(s.Fa.forEach(((g,_)=>{d.push(s.Ka(_,e,i).then((v=>{var A;if((v||i)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){o.push(v);const I=ud.Wi(_.targetId,v);f.push(I)}})))})),await Promise.all(d),s.Ca.d_(o),await(async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Z.forEach(v,(L=>Z.forEach(L.$i,(k=>A.persistence.referenceDelegate.addReference(I,L.targetId,k))).next((()=>Z.forEach(L.Ui,(k=>A.persistence.referenceDelegate.removeReference(I,L.targetId,k)))))))))}catch(I){if(!Kl(I))throw I;st("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const L=I.targetId;if(!I.fromCache){const k=A.os.get(L),X=k.snapshotVersion,it=k.withLastLimboFreeSnapshotVersion(X);A.os=A.os.insert(L,it)}}})(s.localStore,f))}async function S1(a,e){const i=yt(a);if(!i.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const s=await Q_(i.localStore,e);i.currentUser=e,(function(f,d){f.ka.forEach((g=>{g.forEach((_=>{_.reject(new rt(Y.CANCELLED,d))}))})),f.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wl(i,s.hs)}}function b1(a,e){const i=yt(a),s=i.Na.get(e);if(s&&s.va)return Ct().add(s.key);{let o=Ct();const f=i.Ma.get(e);if(!f)return o;for(const d of f){const g=i.Fa.get(d);o=o.unionWith(g.view.Va)}return o}}function fv(a){const e=yt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v1.bind(null,e),e.Ca.d_=l1.bind(null,e.eventManager),e.Ca.$a=o1.bind(null,e.eventManager),e}function R1(a){const e=yt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T1.bind(null,e),e}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return NS(this.persistence,new VS,e.initialUser,this.serializer)}Ga(e){return new wS(od.Zr,this.serializer)}Wa(e){return new PS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class Qh{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Uy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=S1.bind(null,this.syncEngine),await r1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s1})()}createDatastore(e){const i=tc(e.databaseInfo.databaseId),s=(function(f){return new kS(f)})(e.databaseInfo);return(function(f,d,g,_){return new QS(f,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,g){return new YS(s,o,f,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Uy(this.syncEngine,i,0)),(function(){return Iy.D()?new Iy:new BS})())}createSyncEngine(e,i){return(function(o,f,d,g,_,v,A){const I=new h1(o,f,d,g,_,v);return A&&(I.Qa=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=yt(o);st("RemoteStore","RemoteStore shutting down."),f.L_.add(5),await Jl(f),f.k_.shutdown(),f.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Qh.provider={build:()=>new Qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=f_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{st("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=gd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sh(a,e){a.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Q_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function zy(a,e){a.asyncQueue.verifyOperationInProgress();const i=await D1(a);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Ny(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>Ny(e.remoteStore,o))),a._onlineComponents=e}async function D1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sh(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;as("Error using user provided cache. Falling back to memory cache: "+i),await Sh(a,new Fu)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await Sh(a,new Fu);return a._offlineComponents}async function dv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await zy(a,a._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await zy(a,new Qh))),a._onlineComponents}function C1(a){return dv(a).then((e=>e.syncEngine))}async function mv(a){const e=await dv(a),i=e.eventManager;return i.onListen=d1.bind(null,e.syncEngine),i.onUnlisten=p1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=m1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=y1.bind(null,e.syncEngine),i}function V1(a,e,i={}){const s=new wi;return a.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const A=new hv({next:L=>{A.Za(),d.enqueueAndForget((()=>nv(f,I)));const k=L.docs.has(g);!k&&L.fromCache?v.reject(new rt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&L.fromCache&&_&&_.source==="server"?v.reject(new rt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),I=new iv(nd(g.path),A,{includeMetadataChanges:!0,_a:!0});return ev(f,I)})(await mv(a),a.asyncQueue,e,i,s))),s.promise}function I1(a,e,i={}){const s=new wi;return a.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const A=new hv({next:L=>{A.Za(),d.enqueueAndForget((()=>nv(f,I))),L.fromCache&&_.source==="server"?v.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),I=new iv(g,A,{includeMetadataChanges:!0,_a:!0});return ev(f,I)})(await mv(a),a.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(a,e,i){if(!i)throw new rt(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function N1(a,e,i,s){if(e===!0&&s===!0)throw new rt(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function By(a){if(!ut.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qy(a){if(ut.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ic(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":gt()}function fs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ic(a);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XT;switch(s.type){case"firstParty":return new WT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Py.get(i);s&&(st("ComponentProvider","Removing Datastore"),Py.delete(i),s.terminate())})(this),Promise.resolve()}}function O1(a,e,i,s={}){var o;const f=(a=fs(a,rc))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Qe.MOCK_USER;else{g=IE(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Qe(v)}a._authCredentials=new ZT(new c_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class cr extends _s{constructor(e,i,s){super(e,i,nd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ut(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function yv(a,e,...i){if(a=rs(a),pv("collection","path",e),a instanceof rc){const s=Jt.fromString(e,...i);return qy(s),new cr(a,null,s)}{if(!(a instanceof cn||a instanceof cr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return qy(s),new cr(a.firestore,null,s)}}function _v(a,e,...i){if(a=rs(a),arguments.length===1&&(e=f_.newId()),pv("doc","path",e),a instanceof rc){const s=Jt.fromString(e,...i);return By(s),new cn(a,null,new ut(s))}{if(!(a instanceof cn||a instanceof cr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return By(s),new cn(a.firestore,a instanceof cr?a.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Y_(this,"async_queue_retry"),this.Vu=()=>{const s=Ah();s&&st("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=Ah();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Ah();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new wi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Kl(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(s);throw Vi("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=md.createAndSchedule(this,e,i,s,(f=>this.yu(f)));return this.Tu.push(o),o}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class ac extends rc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new ky,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ky(e),this._firestoreClient=void 0,await e}}}function M1(a,e){const i=typeof a=="object"?a:BT(),s=typeof a=="string"?a:"(default)",o=UT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=CE("firestore");f&&O1(o,...f)}return o}function _d(a){if(a._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||x1(a),a._firestoreClient}function x1(a){var e,i,s;const o=a._freezeSettings(),f=(function(g,_,v,A){return new hA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,gv(A.experimentalLongPollingOptions),A.useFetchStreams)})(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new w1(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(qe.fromBase64String(e))}catch(i){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new hs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=/^__.*__$/;class L1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(e,this.data,i,this.fieldTransforms)}}function Ev(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Ad{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Ev(this.Cu)&&U1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class z1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||tc(e)}Qu(e,i,s,o=!1){return new Ad({Cu:e,methodName:i,qu:s,path:Pe.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tv(a){const e=a._freezeSettings(),i=tc(a._databaseId);return new z1(a._databaseId,!!e.ignoreUndefinedProperties,i)}function P1(a,e,i,s,o,f={}){const d=a.Qu(f.merge||f.mergeFields?2:0,e,i,o);bv("Data must be an object, but it was:",d,s);const g=Av(s,d);let _,v;if(f.merge)_=new On(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const I of f.mergeFields){const L=q1(e,I,i);if(!d.contains(L))throw new rt(Y.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);k1(A,L)||A.push(L)}_=new On(A),v=d.fieldTransforms.filter((I=>_.covers(I.field)))}else _=null,v=d.fieldTransforms;return new L1(new bn(g),_,v)}function B1(a,e,i,s=!1){return Sd(i,a.Qu(s?4:3,e))}function Sd(a,e){if(Sv(a=rs(a)))return bv("Unsupported field value:",e,a),Av(a,e);if(a instanceof vv)return(function(s,o){if(!Ev(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const g of s){let _=Sd(g,o.Lu(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(a,e)}return(function(s,o){if((s=rs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Se.fromDate(s);return{timestampValue:Gu(o.serializer,f)}}if(s instanceof Se){const f=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gu(o.serializer,f)}}if(s instanceof Ed)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hs)return{bytesValue:P_(o.serializer,s._byteString)};if(s instanceof cn){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:sd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Td)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Bu("VectorValues must only contain numeric values.");return id(g.serializer,_)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${ic(s)}`)})(a,e)}function Av(a,e){const i={};return h_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(a,((s,o)=>{const f=Sd(o,e.Mu(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function Sv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof Ed||a instanceof hs||a instanceof cn||a instanceof vv||a instanceof Td)}function bv(a,e,i){if(!Sv(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const s=ic(i);throw s==="an object"?e.Bu(a+" a custom object"):e.Bu(a+" "+s)}}function q1(a,e,i){if((e=rs(e))instanceof vd)return e._internalPath;if(typeof e=="string")return Rv(a,e);throw Yu("Field path arguments must be of type string or ",a,!1,void 0,i)}const j1=new RegExp("[~\\*/\\[\\]]");function Rv(a,e,i){if(e.search(j1)>=0)throw Yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new vd(...e.split("."))._internalPath}catch{throw Yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Yu(a,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new rt(Y.INVALID_ARGUMENT,g+a+_)}function k1(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(bd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class H1 extends wv{data(){return super.data()}}function bd(a,e){return typeof e=="string"?Rv(a,e):e instanceof vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rd{}class Q1 extends Rd{}function bh(a,e,...i){let s=[];e instanceof Rd&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((_=>_ instanceof wd)).length,g=f.filter((_=>_ instanceof sc)).length;if(d>1||d>0&&g>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class sc extends Q1{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new sc(e,i,s)}_apply(e){const i=this._parse(e);return Dv(e._query,i),new _s(e.firestore,e.converter,Lh(e._query,i))}_parse(e){const i=Tv(e.firestore);return(function(f,d,g,_,v,A,I){let L;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gy(I,A);const k=[];for(const X of I)k.push(Hy(_,f,X));L={arrayValue:{values:k}}}else L=Hy(_,f,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gy(I,A),L=B1(g,d,I,A==="in"||A==="not-in");return ye.create(v,A,L)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Vu(a,e,i){const s=e,o=bd("where",a);return sc._create(o,s,i)}class wd extends Rd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new wd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const g=f.getFlattenedFilters();for(const _ of g)Dv(d,_),d=Lh(d,_)})(e._query,i),new _s(e.firestore,e.converter,Lh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hy(a,e,i){if(typeof(i=rs(i))=="string"){if(i==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T_(e)&&i.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fy(a,new ut(s))}if(i instanceof cn)return fy(a,i._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ic(i)}.`)}function Gy(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dv(a,e){const i=(function(o,f){for(const d of o)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class F1{convertValue(e,i="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return gs(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){var i,s,o;const f=(o=(s=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>ce(d.doubleValue)));return new Td(f)}convertGeoPoint(e){return new Ed(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const i=hr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);Gt(G_(s));const o=new Hl(s.get(1),s.get(3)),f=new ut(s.popFirst(5));return o.isEqual(i)||Vi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cv extends wv{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(bd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Uu extends Cv{data(e={}){return super.data(e)}}class K1{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Uu(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Uu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ml(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const _=new Uu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ml(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:X1(g.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function X1(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(a){a=fs(a,cn);const e=fs(a.firestore,ac);return V1(_d(e),a._key).then((i=>tb(e,a,i)))}class Vv extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function $1(a){a=fs(a,_s);const e=fs(a.firestore,ac),i=_d(e),s=new Vv(e);return G1(a._query),I1(i,a._query).then((o=>new K1(e,s,a,o)))}function J1(a,e){const i=fs(a.firestore,ac),s=_v(a),o=Y1(a.converter,e);return W1(i,[P1(Tv(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then((()=>s))}function W1(a,e){return(function(s,o){const f=new wi;return s.asyncQueue.enqueueAndForget((async()=>_1(await C1(s),o,f))),f.promise})(_d(a),e)}function tb(a,e,i){const s=i.docs.get(e._key),o=new Vv(a);return new Cv(a,o,e._key,s,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ms=o})(PT),Pu(new Bl("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new ac(new $T(s.getProvider("auth-internal")),new eA(s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(v.options.projectId,A)})(d,o),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),ns(sy,"4.7.3",e),ns(sy,"4.7.3","esm2017")})();var eb="firebase",nb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(eb,nb,"app");var Qy={};const Ja=a=>{const e=typeof import.meta<"u"?import.meta:void 0;if(e&&e.env&&e.env[a])return e.env[a];if(typeof process<"u"&&Qy[a])return Qy[a]},Dd=[],Jr={apiKey:Ja("VITE_FIREBASE_API_KEY"),authDomain:Ja("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Ja("VITE_FIREBASE_PROJECT_ID"),storageBucket:Ja("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Ja("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Ja("VITE_FIREBASE_APP_ID")};Object.entries(Jr).forEach(([a,e])=>{e||Dd.push(a)});const lc=Dd.length===0;let oc=null;if(!lc)console.warn("[firebaseConfig] Firebase no configurado. Las siguientes claves VITE_* faltan o no estuvieron disponibles en tiempo de build:",Dd),console.warn("[firebaseConfig] Para desarrollo local crea un archivo `.env.local` en la raz con las variables VITE_FIREBASE_*. En CI asegrate de inyectarlas antes de la compilacin. Ver `./.env.example` como referencia.");else{const a={apiKey:Jr.apiKey,authDomain:Jr.authDomain,projectId:Jr.projectId,storageBucket:Jr.storageBucket,messagingSenderId:Jr.messagingSenderId,appId:Jr.appId},e=e_(a);oc=M1(e)}const Iu=[{id:"1",text:"Yo nunca he fingido que me gustaba un regalo.",isPremium:!1},{id:"2",text:"Yo nunca he espiado el mvil de mi pareja.",isPremium:!1},{id:"3",text:"Yo nunca he usado el cepillo de dientes de otra persona.",isPremium:!1},{id:"4",text:"Yo nunca he vuelto con un ex.",isPremium:!1},{id:"5",text:"Yo nunca me he redo en un momento inoportuno.",isPremium:!1}],ib=async(a,e=!1)=>{if(console.log(`Fetching phrases... premium=${a} adult=${e}`),!lc)return console.warn("[fetchPhrases] Firebase no est configurado, devolviendo datos mock."),a?Iu:Iu.filter(i=>!i.isPremium);try{let i;const s=yv(oc,"phrases");a&&e?i=s:a&&!e?i=bh(s,Vu("isAdult","==",!1)):!a&&e?i=bh(s,Vu("isPremium","==",!1)):i=bh(s,Vu("isPremium","==",!1),Vu("isAdult","==",!1));const o=await $1(i),f=[];return o.forEach(d=>{f.push({id:d.id,...d.data()})}),f}catch(i){return console.error("Error fetching phrases:",i),a?Iu:Iu.filter(s=>!s.isPremium)}},rb=async a=>{console.log(`Adding suggestion: "${a}"`);try{if(!lc)throw console.warn("[addSuggestion] Firebase no est configurado. La sugerencia no se enviar en este entorno."),new Error("Firebase no configurado en este entorno.");await J1(yv(oc,"suggestions"),{text:a,createdAt:new Date,status:"pending"}),console.log("Suggestion submitted successfully.")}catch(e){throw console.error("Error adding suggestion:",e),new Error("No se pudo enviar la sugerencia. Intntalo ms tarde.")}},gb=async()=>{try{if(!lc)return console.warn("[getStripeProductKeys] Firebase no est configurado, devolviendo claves por defecto."),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"};const a=_v(oc,"config","stripe_products"),e=await Z1(a);return e.exists()?e.data():(console.log("No se encontraron claves de productos en Firestore"),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"})}catch(a){return console.error("Error obteniendo claves de productos:",a),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"}}},ab=({navigate:a,hasPremium:e,includeAdult:i})=>{const[s,o]=fe.useState([]),[f,d]=fe.useState(null),[g,_]=fe.useState(!0),[v,A]=fe.useState(null);fe.useEffect(()=>{(async()=>{try{_(!0),A(null);const X=await ib(e,!!i);X.length===0?A("No se encontraron frases. Intntalo ms tarde."):(o(X),d(X[Math.floor(Math.random()*X.length)]))}catch(X){A("No se pudieron cargar las frases. Revisa tu conexin."),console.error(X)}finally{_(!1)}})()},[e]);const I=fe.useCallback(()=>{if(s.length>0){const k=s.filter(X=>X.id!==(f==null?void 0:f.id));if(k.length>0){const X=k[Math.floor(Math.random()*k.length)];d(X)}else{const X=s[Math.floor(Math.random()*s.length)];d(X)}}},[s,f]),L=()=>g?tt.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[tt.jsx("i",{className:"fas fa-spinner fa-spin text-5xl text-cyan-400"}),tt.jsx("p",{className:"mt-4 text-slate-300",children:"Cargando frases..."})]}):v?tt.jsx("p",{className:"text-center text-red-400",children:v}):f&&tt.jsxs("div",{className:"text-center text-2xl md:text-3xl font-semibold leading-relaxed animate-fadeIn",children:[tt.jsx("span",{className:"text-slate-400",children:"Yo nunca..."}),tt.jsx("br",{}),tt.jsx("span",{className:"text-white drop-shadow-lg",children:f.text})]},f.id);return tt.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-full p-4",children:[tt.jsx("div",{className:"w-full flex justify-start",children:tt.jsx("button",{onClick:()=>a(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:tt.jsx("i",{className:"fas fa-arrow-left fa-lg"})})}),tt.jsx("div",{className:"flex-grow flex items-center justify-center w-full max-w-md my-8",children:L()}),tt.jsx("div",{className:"w-full max-w-xs",children:tt.jsxs(sr,{onClick:I,disabled:g||s.length<=1,fullWidth:!0,size:"large",children:[tt.jsx("i",{className:"fas fa-forward mr-2"}),"Siguiente"]})})]})},Fy=({icon:a,title:e,description:i,price:s,onClick:o,disabled:f,disabledText:d})=>tt.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-6 flex flex-col items-center text-center backdrop-blur-sm border border-slate-700 transition-all ${f?"opacity-60":""}`,children:[tt.jsx("i",{className:`text-5xl mb-4 text-cyan-400 ${a}`}),tt.jsx("h3",{className:"text-xl font-bold mb-2",children:e}),tt.jsx("p",{className:"text-slate-400 mb-4 flex-grow",children:i}),f?tt.jsx("p",{className:"text-lg font-bold text-green-400",children:d||"Comprado!"}):tt.jsx(sr,{onClick:o,fullWidth:!0,children:s})]}),sb=({navigate:a,onPurchaseRemoveAds:e,onPurchasePremium:i,showAds:s,hasPremium:o})=>{const f=async(d,g)=>{var v,A;console.log(`Initiating ${g} purchase flow...`);const _=((A=(v=window.Capacitor)==null?void 0:v.isNativePlatform)==null?void 0:A.call(v))??!1;try{if(_){const I=await Pl(()=>import("./purchaseService-Ch7OkBNR.js"),[]),L=g==="removeAds"?"remove_ads":"premium_phrases";await I.buyProduct(L)&&d()}else{const{handleRemoveAdsPayment:I,handlePremiumPayment:L}=await Pl(async()=>{const{handleRemoveAdsPayment:X,handlePremiumPayment:it}=await import("./stripeService-B1zS3RDH.js");return{handleRemoveAdsPayment:X,handlePremiumPayment:it}},[]);let k=!1;g==="removeAds"?k=await I():g==="premium"&&(k=await L()),k&&d()}}catch(I){console.error("Payment error:",I),alert("No se pudo procesar el pago. Intntalo ms tarde.")}};return tt.jsxs("div",{className:"flex flex-col w-full h-full p-4 animate-fadeIn",children:[tt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[tt.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500",children:"Tienda"}),tt.jsx("button",{onClick:()=>a(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:tt.jsx("i",{className:"fas fa-times fa-2x"})})]}),tt.jsxs("div",{className:"space-y-6",children:[tt.jsx(Fy,{icon:"fas fa-shield-halved",title:"Eliminar Anuncios",description:"Disfruta de una experiencia de juego ininterrumpida sin anuncios.",price:"Comprar por 2.99",onClick:()=>f(e,"removeAds"),disabled:!s}),tt.jsx(Fy,{icon:"fas fa-star",title:"Paquete Premium",description:"Desbloquea cientos de frases extra, ms atrevidas y divertidas.",price:"Comprar por 4.99",onClick:()=>f(i,"premium"),disabled:o})]}),tt.jsx("p",{className:"text-center text-slate-500 text-xs mt-8",children:"Las compras son procesadas de forma segura a travs de Stripe."})]})},lb=({children:a,onClose:e})=>tt.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:e,children:tt.jsx("div",{className:"bg-slate-800 rounded-lg shadow-2xl w-full max-w-md border border-slate-700 animate-scaleUp",onClick:i=>i.stopPropagation(),children:a})}),ob=({onClose:a})=>{const[e,i]=fe.useState(""),[s,o]=fe.useState(!1),[f,d]=fe.useState(""),[g,_]=fe.useState(!1),v=async A=>{if(A.preventDefault(),e.trim().length<10){d("La frase debe tener al menos 10 caracteres.");return}d(""),o(!0);try{await rb(e),_(!0),setTimeout(()=>{a()},2e3)}catch{d("No se pudo enviar la sugerencia. Intntalo de nuevo."),o(!1)}};return tt.jsx(lb,{onClose:a,children:tt.jsx("div",{className:"p-6",children:g?tt.jsxs("div",{className:"text-center",children:[tt.jsx("i",{className:"fas fa-check-circle text-5xl text-green-400 mb-4"}),tt.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Gracias!"}),tt.jsx("p",{className:"text-slate-300",children:"Tu sugerencia ha sido enviada para revisin."})]}):tt.jsxs(tt.Fragment,{children:[tt.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sugerir una Frase"}),tt.jsx("p",{className:"text-slate-400 mb-6",children:"Tienes una idea genial? Comprtela con nosotros! Si es aprobada, aparecer en el juego."}),tt.jsxs("form",{onSubmit:v,children:[tt.jsxs("div",{className:"relative",children:[tt.jsx("span",{className:"absolute left-4 top-3 text-slate-400",children:"Yo nunca..."}),tt.jsx("input",{type:"text",value:e,onChange:A=>i(A.target.value),placeholder:"he hecho...",className:"w-full bg-slate-700 border border-slate-600 rounded-md py-3 pr-4 pl-36 focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",disabled:s})]}),f&&tt.jsx("p",{className:"text-red-400 text-sm mt-2",children:f}),tt.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[tt.jsx(sr,{type:"button",variant:"secondary",onClick:a,disabled:s,children:"Cancelar"}),tt.jsx(sr,{type:"submit",disabled:s||e.trim()==="",children:s?tt.jsxs(tt.Fragment,{children:[tt.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Enviando..."]}):"Enviar Sugerencia"})]})]})]})})})},ub=()=>(fe.useEffect(()=>((async()=>{var e,i;try{(i=(e=window.Capacitor)==null?void 0:e.isNativePlatform)!=null&&i.call(e)&&await pE()}catch(s){console.error("Error al cargar el anuncio nativo:",s)}})(),()=>{yE().catch(()=>{})}),[]),null),cb=()=>{const[a,e]=fe.useState(Nn.Home),[i,s]=fe.useState(!1),[o,f]=fe.useState(!0),[d,g]=fe.useState(!1),[_,v]=fe.useState(!1);fe.useEffect(()=>{gE()},[]);const A=fe.useCallback(X=>{e(X)},[]),I=()=>{f(!1),alert("Gracias! Los anuncios han sido eliminados."),e(Nn.Home)},L=()=>{g(!0),alert("Gracias! Has comprado el paquete de frases premium."),e(Nn.Home)},k=()=>{switch(a){case Nn.Game:return tt.jsx(ab,{navigate:A,hasPremium:d,includeAdult:_});case Nn.Store:return tt.jsx(sb,{navigate:A,onPurchaseRemoveAds:I,onPurchasePremium:L,showAds:o,hasPremium:d});case Nn.Home:default:return tt.jsx(_E,{navigate:A,onSuggestClick:()=>s(!0),onStartGame:X=>v(X)})}};return tt.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 overflow-hidden",children:[tt.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),tt.jsx("div",{className:"z-10 w-full max-w-md mx-auto flex-grow flex flex-col justify-center",children:k()}),i&&tt.jsx(ob,{onClose:()=>s(!1)}),o&&tt.jsx(ub,{})]})},Iv=document.getElementById("root");if(!Iv)throw new Error("Could not find root element to mount to");const fb=hE.createRoot(Iv);fb.render(tt.jsx(rE.StrictMode,{children:tt.jsx(cb,{})}));export{Pl as _,gb as g};
//# sourceMappingURL=index-BD7lVZCF.js.map
