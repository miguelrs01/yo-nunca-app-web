import{registerPlugin as cE,Capacitor as fE}from"@capacitor/core";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function i_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fh={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function hE(){if(qp)return Dl;qp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var jp;function dE(){return jp||(jp=1,fh.exports=hE()),fh.exports}var tt=dE(),hh={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function mE(){if(kp)return Et;kp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,it={};function J(D,X,nt){this.props=D,this.context=X,this.refs=it,this.updater=nt||k}J.prototype.isReactComponent={},J.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Dt(){}Dt.prototype=J.prototype;function At(D,X,nt){this.props=D,this.context=X,this.refs=it,this.updater=nt||k}var _t=At.prototype=new Dt;_t.constructor=At,Y(_t,J.prototype),_t.isPureReactComponent=!0;var Pt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function N(D,X,nt,$,ct,St){return nt=St.ref,{$$typeof:r,type:D,key:X,ref:nt!==void 0?nt:null,props:St}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var O=/\/+/g;function x(D,X){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):X.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,X,nt,$,ct){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(St){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case r:case e:mt=!0;break;case A:return mt=D._init,ie(mt(D._payload),X,nt,$,ct)}}if(mt)return ct=ct(D),mt=$===""?"."+x(D,0):$,Pt(ct)?(nt="",mt!=null&&(nt=mt.replace(O,"$&/")+"/"),ie(ct,X,nt,"",function(xn){return xn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(O,"$&/")+"/")+mt)),X.push(ct)),1;mt=0;var be=$===""?".":$+":";if(Pt(D))for(var Zt=0;Zt<D.length;Zt++)$=D[Zt],St=be+x($,Zt),mt+=ie($,X,nt,St,ct);else if(Zt=z(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!($=D.next()).done;)$=$.value,St=be+x($,Zt++),mt+=ie($,X,nt,St,ct);else if(St==="object"){if(typeof D.then=="function")return ie(Ne(D),X,nt,$,ct);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,X,nt){if(D==null)return D;var $=[],ct=0;return ie(D,$,"","",function(St){return X.call(nt,St,ct++)}),$}function et(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return Et.Children={map:H,forEach:function(D,X,nt){H(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=J,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=At,Et.StrictMode=s,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=Y({},D.props),ct=D.key,St=void 0;if(X!=null)for(mt in X.ref!==void 0&&(St=void 0),X.key!==void 0&&(ct=""+X.key),X)!Lt.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||($[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)$.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];$.children=be}return N(D.type,ct,void 0,void 0,St,$)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},Et.createElement=function(D,X,nt){var $,ct={},St=null;if(X!=null)for($ in X.key!==void 0&&(St=""+X.key),X)Lt.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ct[$]=X[$]);var mt=arguments.length-2;if(mt===1)ct.children=nt;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];ct.children=be}if(D&&D.defaultProps)for($ in mt=D.defaultProps,mt)ct[$]===void 0&&(ct[$]=mt[$]);return N(D,St,void 0,void 0,null,ct)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=w,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Et.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},Et.startTransition=function(D){var X=vt.T,nt={};vt.T=nt;try{var $=D(),ct=vt.S;ct!==null&&ct(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ot)}catch(St){ot(St)}finally{vt.T=X}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(D){return vt.H.use(D)},Et.useActionState=function(D,X,nt){return vt.H.useActionState(D,X,nt)},Et.useCallback=function(D,X){return vt.H.useCallback(D,X)},Et.useContext=function(D){return vt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,X){return vt.H.useDeferredValue(D,X)},Et.useEffect=function(D,X,nt){var $=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,X)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(D,X,nt){return vt.H.useImperativeHandle(D,X,nt)},Et.useInsertionEffect=function(D,X){return vt.H.useInsertionEffect(D,X)},Et.useLayoutEffect=function(D,X){return vt.H.useLayoutEffect(D,X)},Et.useMemo=function(D,X){return vt.H.useMemo(D,X)},Et.useOptimistic=function(D,X){return vt.H.useOptimistic(D,X)},Et.useReducer=function(D,X,nt){return vt.H.useReducer(D,X,nt)},Et.useRef=function(D){return vt.H.useRef(D)},Et.useState=function(D){return vt.H.useState(D)},Et.useSyncExternalStore=function(D,X,nt){return vt.H.useSyncExternalStore(D,X,nt)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.1",Et}var Hp;function Kh(){return Hp||(Hp=1,hh.exports=mE()),hh.exports}var pe=Kh();const gE=i_(pe);var dh={exports:{}},Cl={},mh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function pE(){return Gp||(Gp=1,(function(r){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var zt=ot-1>>>1,D=H[zt];if(0<o(D,et))H[zt]=et,H[ot]=D,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var zt=0,D=H.length,X=D>>>1;zt<X;){var nt=2*(zt+1)-1,$=H[nt],ct=nt+1,St=H[ct];if(0>o($,ot))ct<D&&0>o(St,$)?(H[zt]=St,H[ct]=ot,zt=ct):(H[zt]=$,H[nt]=ot,zt=nt);else if(ct<D&&0>o(St,ot))H[zt]=St,H[ct]=ot,zt=ct;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,I=null,z=3,k=!1,Y=!1,it=!1,J=!1,Dt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function vt(H){if(it=!1,Pt(H),!Y)if(i(_)!==null)Y=!0,Lt||(Lt=!0,x());else{var et=i(v);et!==null&&ie(vt,et.startTime-H)}}var Lt=!1,N=-1,S=5,w=-1;function V(){return J?!0:!(r.unstable_now()-w<S)}function O(){if(J=!1,Lt){var H=r.unstable_now();w=H;var et=!0;try{t:{Y=!1,it&&(it=!1,At(N),N=-1),k=!0;var ot=z;try{e:{for(Pt(H),I=i(_);I!==null&&!(I.expirationTime>H&&V());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,z=I.priorityLevel;var D=zt(I.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){I.callback=D,Pt(H),et=!0;break e}I===i(_)&&s(_),Pt(H)}else s(_);I=i(_)}if(I!==null)et=!0;else{var X=i(v);X!==null&&ie(vt,X.startTime-H),et=!1}}break t}finally{I=null,z=ot,k=!1}et=void 0}}finally{et?x():Lt=!1}}}var x;if(typeof _t=="function")x=function(){_t(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=O,x=function(){Ne.postMessage(null)}}else x=function(){Dt(O,0)};function ie(H,et){N=Dt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(H){switch(z){case 1:case 2:case 3:var et=3;break;default:et=z}var ot=z;z=et;try{return H()}finally{z=ot}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=z;z=H;try{return et()}finally{z=ot}},r.unstable_scheduleCallback=function(H,et,ot){var zt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>zt?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(it?(At(N),N=-1):it=!0,ie(vt,ot-zt))):(H.sortIndex=D,e(_,H),Y||k||(Y=!0,Lt||(Lt=!0,x()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var et=z;return function(){var ot=z;z=et;try{return H.apply(this,arguments)}finally{z=ot}}}})(gh)),gh}var Qp;function yE(){return Qp||(Qp=1,mh.exports=pE()),mh.exports}var ph={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function _E(){if(Fp)return He;Fp=1;var r=Kh();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:z,fetchPriority:k}):A==="script"&&s.d.X(_,{crossOrigin:I,integrity:z,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var Yp;function vE(){if(Yp)return ph.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ph.exports=_E(),ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function EE(){if(Kp)return Cl;Kp=1;var r=yE(),e=Kh(),i=vE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return g(c),t;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=h;break}if(E===l){y=!0,l=c,a=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===a){y=!0,a=h,l=c;break}if(E===l){y=!0,l=h,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Dt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Pt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function X(t){return{current:t}}function nt(t){0>D||(t.current=zt[D],zt[D]=null,D--)}function $(t,n){D++,zt[D]=t.current,t.current=n}var ct=X(null),St=X(null),mt=X(null),be=X(null);function Zt(t,n){switch($(mt,n),$(St,t),$(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?mp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=mp(n),t=gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),$(ct,t)}function xn(){nt(ct),nt(St),nt(mt)}function Ni(t){t.memoizedState!==null&&$(be,t);var n=ct.current,a=gp(n,t.type);n!==a&&($(St,t),$(ct,a))}function ti(t){St.current===t&&(nt(ct),nt(St)),be.current===t&&(nt(be),Al._currentValue=ot)}var ma=Object.prototype.hasOwnProperty,ga=r.unstable_scheduleCallback,pa=r.unstable_cancelCallback,vs=r.unstable_shouldYield,Wl=r.unstable_requestPaint,fn=r.unstable_now,cc=r.unstable_getCurrentPriorityLevel,Es=r.unstable_ImmediatePriority,sr=r.unstable_UserBlockingPriority,ya=r.unstable_NormalPriority,fc=r.unstable_LowPriority,lr=r.unstable_IdlePriority,Ts=r.log,to=r.unstable_setDisableYieldValue,ae=null,jt=null;function tn(t){if(typeof Ts=="function"&&to(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:_a,eo=Math.log,hc=Math.LN2;function _a(t){return t>>>=0,t===0?32:31-(eo(t)/hc|0)|0}var va=256,Ea=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):a||(a=E&~t,a!==0&&(c=Rn(a))))):(E=l&~h,E!==0?c=Rn(E):y!==0?c=Rn(y):a||(a=l&~t,a!==0&&(c=Rn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Ta(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function As(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var t=va;return va<<=1,(va&4194048)===0&&(va=256),t}function bs(){var t=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),t}function ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rs(t,n,a,l,c,h){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-je(a),F=1<<G;E[G]=0,b[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&Un(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Un(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ws(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-je(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ur(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:xp(t.type))}function no(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,fe="__reactProps$"+Wt,hn="__reactContainer$"+Wt,Ds="__reactEvents$"+Wt,dc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,io="__reactResources$"+Wt,Aa="__reactMarker$"+Wt;function Ui(t){delete t[_e],delete t[fe],delete t[Ds],delete t[dc],delete t[xi]}function ii(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=vp(t);t!==null;){if(a=t[_e])return a;t=vp(t)}return n}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[io];return n||(n=t[io]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Aa]=!0}var Cs=new Set,cr={};function wn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(cr[t]=n,t=0;t<n.length;t++)Cs.add(n[t])}var ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},Sa={};function so(t){return ma.call(Sa,t)?!0:ma.call(ro,t)?!1:ao.test(t)?Sa[t]=!0:(ro[t]=!0,!1)}function Li(t,n,a){if(so(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Bn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ba,lo;function ri(t){if(ba===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ba=n&&n[1]||"",lo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+t+lo}var fr=!1;function hr(t,n){if(!t||fr)return"";fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var P=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){P=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){P=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Vs(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return hr(t.type,!1);case 11:return hr(t.type.render,!1);case 1:return hr(t.type,!0);case 31:return ri("Activity");default:return""}}function dr(t){try{var n="";do n+=Vs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mc(t){var n=Is(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function mr(t){t._valueTracker||(t._valueTracker=mc(t))}function Ns(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Is(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gc=/[\n"\\]/g;function he(t){return t.replace(gc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,a,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ke(n)):a!=null?zi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function wa(t,n,a,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,a){n==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function si(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Da(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ca.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Os(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&oo(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&oo(t,h,n[h])}function Ms(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gr(t){return yc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ui=null;function xs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+he(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ns(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&si(t,!!a.multiple,n,!1)}}}var Pn=!1;function uo(t,n,a){if(Pn)return t(n,a);Pn=!0;try{var l=t(n);return l}finally{if(Pn=!1,(oi!==null||ui!==null)&&(iu(),oi&&(n=oi,t=ui,ui=oi=null,xs(n),t)))for(n=0;n<t.length;n++)xs(t[n])}}function Va(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{gn=!1}var qn=null,Bi=null,ci=null;function Us(){if(ci)return ci;var t,n=Bi,a=n.length,l,c="value"in qn?qn.value:qn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[h-l];l++);return ci=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Ls(){return!1}function Re(t){function n(a,l,c,h,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kn:Ls,this.isPropagationStopped=Ls,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=Re(qt),Na=A({},qt,{view:0,detail:0}),co=Re(Na),yr,_r,Hn,Oa=A({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(yr=t.screenX-Hn.screenX,_r=t.screenY-Hn.screenY):_r=yr=0,Hn=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:_r}}),pn=Re(Oa),fo=A({},Oa,{dataTransfer:0}),_c=Re(fo),Ma=A({},Na,{relatedTarget:0}),vr=Re(Ma),zs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Re(zs),ho=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tr=Re(ho),vc=A({},qt,{data:0}),Bs=Re(vc),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ps(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=go[t])?!!n[t]:!1}function Ua(){return Ps}var po=A({},Na,{key:function(t){if(t.key){var n=xa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ar=Re(po),yo=A({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Re(yo),fi=A({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),_o=Re(fi),vo=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eo=Re(vo),To=A({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sr=Re(To),Xe=A({},qt,{newState:0,oldState:0}),Ao=Re(Xe),So=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,p=Dn&&(!Gn||u&&8<u&&11>=u),T=" ",U=!1;function j(t,n){switch(t){case"keyup":return So.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Gn&&j(t,n)?(t=Us(),ci=Bi=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function hi(t,n,a,l){oi?ui?ui.push(l):ui=[l]:oi=l,n=uu(n,"onChange"),0<n.length&&(a=new pr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Qn=null;function js(t){up(t,0)}function bo(t){var n=zn(t);if(Ns(n))return t}function Id(t,n){if(t==="change")return n}var Nd=!1;if(Dn){var Ec;if(Dn){var Tc="oninput"in document;if(!Tc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Tc=typeof Od.oninput=="function"}Ec=Tc}else Ec=!1;Nd=Ec&&(!document.documentMode||9<document.documentMode)}function Md(){Me&&(Me.detachEvent("onpropertychange",xd),Qn=Me=null)}function xd(t){if(t.propertyName==="value"&&bo(Qn)){var n=[];hi(n,Qn,t,mn(t)),uo(js,n)}}function qv(t,n,a){t==="focusin"?(Md(),Me=n,Qn=a,Me.attachEvent("onpropertychange",xd)):t==="focusout"&&Md()}function jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bo(Qn)}function kv(t,n){if(t==="click")return bo(n)}function Hv(t,n){if(t==="input"||t==="change")return bo(n)}function Gv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Gv;function ks(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ma.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,n){var a=Ud(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ud(a)}}function zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ra(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ra(t.document)}return n}function Ac(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Qv=Dn&&"documentMode"in document&&11>=document.documentMode,br=null,Sc=null,Hs=null,bc=!1;function Pd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bc||br==null||br!==Ra(l)||(l=br,"selectionStart"in l&&Ac(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hs&&ks(Hs,l)||(Hs=l,l=uu(Sc,"onSelect"),0<l.length&&(n=new pr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=br)))}function La(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Rr={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Rc={},qd={};Dn&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function za(t){if(Rc[t])return Rc[t];if(!Rr[t])return t;var n=Rr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in qd)return Rc[t]=n[a];return t}var jd=za("animationend"),kd=za("animationiteration"),Hd=za("animationstart"),Fv=za("transitionrun"),Yv=za("transitionstart"),Kv=za("transitioncancel"),Gd=za("transitionend"),Qd=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function Cn(t,n){Qd.set(t,n),wn(n,[t])}var Fd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var a=Fd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:dr(n)},Fd.set(t,n),n)}return{value:t,source:n,stack:dr(n)}}var _n=[],wr=0,Dc=0;function Ro(){for(var t=wr,n=Dc=wr=0;n<t;){var a=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var h=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Yd(a,c,h)}}function wo(t,n,a,l){_n[wr++]=t,_n[wr++]=n,_n[wr++]=a,_n[wr++]=l,Dc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cc(t,n,a,l){return wo(t,n,a,l),Do(t)}function Dr(t,n){return wo(t,null,null,n),Do(t)}function Yd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-je(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Do(t){if(50<ml)throw ml=0,Uf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Cr={};function Xv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,a,l){return new Xv(t,n,a,l)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,n){var a=t.alternate;return a===null?(a=an(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kd(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Co(t,n,a,l,c,h){var y=0;if(l=t,typeof t=="function")Vc(t)&&(y=1);else if(typeof t=="string")y=$0(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,a,n,c),t.elementType=w,t.lanes=h,t;case Y:return Ba(a.children,c,h,n);case it:y=8,c|=24;break;case J:return t=an(12,a,n,c|2),t.elementType=J,t.lanes=h,t;case vt:return t=an(13,a,n,c),t.elementType=vt,t.lanes=h,t;case Lt:return t=an(19,a,n,c),t.elementType=Lt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dt:case _t:y=10;break t;case At:y=9;break t;case Pt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=an(y,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Ba(t,n,a,l){return t=an(7,t,l,n),t.lanes=a,t}function Ic(t,n,a){return t=an(6,t,null,n),t.lanes=a,t}function Nc(t,n,a){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vr=[],Ir=0,Vo=null,Io=0,vn=[],En=0,Pa=null,mi=1,gi="";function qa(t,n){Vr[Ir++]=Io,Vr[Ir++]=Vo,Vo=t,Io=n}function Xd(t,n,a){vn[En++]=mi,vn[En++]=gi,vn[En++]=Pa,Pa=t;var l=mi;t=gi;var c=32-je(l)-1;l&=~(1<<c),a+=1;var h=32-je(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-je(n)+c|a<<c|l,gi=h+t}else mi=1<<h|a<<c|l,gi=t}function Oc(t){t.return!==null&&(qa(t,1),Xd(t,1,0))}function Mc(t){for(;t===Vo;)Vo=Vr[--Ir],Vr[Ir]=null,Io=Vr[--Ir],Vr[Ir]=null;for(;t===Pa;)Pa=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null,mi=vn[--En],vn[En]=null}var Ze=null,re=null,Bt=!1,ja=null,Fn=!1,xc=Error(s(519));function ka(t){var n=Error(s(418,""));throw Fs(yn(n,t)),xc}function Zd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)wt(pl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),wa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),mr(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Da(n,l.value,l.defaultValue,l.children),mr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||dp(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=cu),n=!0):n=!1,n||ka(t)}function $d(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function Gs(t){if(t!==Ze)return!1;if(!Bt)return $d(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$f(t.type,t.memoizedProps)),a=!a),a&&re&&ka(t),$d(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=In(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ta(t.type)?(t=eh,eh=null,re=t):re=n):re=Ze?In(t.stateNode.nextSibling):null;return!0}function Qs(){re=Ze=null,Bt=!1}function Jd(){var t=ja;return t!==null&&(We===null?We=t:We.push.apply(We,t),ja=null),t}function Fs(t){ja===null?ja=[t]:ja.push(t)}var Uc=X(null),Ha=null,pi=null;function Pi(t,n,a){$(Uc,n._currentValue),n._currentValue=a}function yi(t){t._currentValue=Uc.current,nt(Uc)}function Lc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function zc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Lc(h.return,a,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,h=y.alternate,h!==null&&(h.lanes|=a),Lc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ys(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}c=c.return}t!==null&&zc(n,t,a,l),n.flags|=262144}function No(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Ha=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Wd(Ha,t)}function Oo(t,n){return Ha===null&&Ga(t),Wd(t,n)}function Wd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},pi===null){if(t===null)throw Error(s(308));pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else pi=pi.next=n;return a}var Zv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$v=r.unstable_scheduleCallback,Jv=r.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new Zv,data:new Map,refCount:0}}function Ks(t){t.refCount--,t.refCount===0&&$v(Jv,function(){t.controller.abort()})}var Xs=null,Pc=0,Nr=0,Or=null;function Wv(t,n){if(Xs===null){var a=Xs=[];Pc=0,Nr=kf(),Or={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pc++,n.then(tm,tm),n}function tm(){if(--Pc===0&&Xs!==null){Or!==null&&(Or.status="fulfilled");var t=Xs;Xs=null,Nr=0,Or=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function t0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var em=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Wv(t,n),em!==null&&em(t,n)};var Qa=X(null);function qc(){var t=Qa.current;return t!==null?t:$t.pooledCache}function Mo(t,n){n===null?$(Qa,Qa.current):$(Qa,n.pool)}function nm(){var t=qc();return t===null?null:{parent:Te._currentValue,pool:t}}var Zs=Error(s(460)),im=Error(s(474)),xo=Error(s(542)),jc={then:function(){}};function am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uo(){}function rm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Uo,Uo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lm(t),t;default:if(typeof n.status=="string")n.then(Uo,Uo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lm(t),t}throw $s=n,Zs}}var $s=null;function sm(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function lm(t){if(t===Zs||t===xo)throw Error(s(483))}var qi=!1;function kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Do(t),Yd(t,null,a),n}return wo(t,l,n,a),Do(t)}function Js(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ws(t,a)}}function Gc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Qc=!1;function Ws(){if(Qc){var t=Or;if(t!==null)throw t}}function tl(t,n,a,l){Qc=!1;var c=t.updateQueue;qi=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?h=B:y.next=B,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=b))}if(h!==null){var F=c.baseState;y=0,G=B=b=null,E=h;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Nt&P)===P:(l&P)===P){P!==0&&P===Nr&&(Qc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,ft=E;P=n;var Kt=a;switch(ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){F=dt.call(Kt,F,P);break t}F=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,P=typeof dt=="function"?dt.call(Kt,F,P):dt,P==null)break t;F=A({},F,P);break t;case 2:qi=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=q,b=F):G=G.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=F),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=F}}function om(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function um(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)om(a[t],n)}var Mr=X(null),Lo=X(0);function cm(t,n){t=bi,$(Lo,t),$(Mr,n),bi=t|n.baseLanes}function Fc(){$(Lo,bi),$(Mr,Mr.current)}function Yc(){bi=Lo.current,nt(Mr),nt(Lo)}var Hi=0,Tt=null,Ft=null,de=null,zo=!1,xr=!1,Fa=!1,Bo=0,el=0,Ur=null,e0=0;function oe(){throw Error(s(321))}function Kc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!nn(t[a],n[a]))return!1;return!0}function Xc(t,n,a,l,c,h){return Hi=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Ym:Km,Fa=!1,h=a(l,c),Fa=!1,xr&&(h=hm(n,a,l,c)),fm(t),h}function fm(t){H.H=Go;var n=Ft!==null&&Ft.next!==null;if(Hi=0,de=Ft=Tt=null,zo=!1,el=0,Ur=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&No(t)&&(De=!0))}function hm(t,n,a,l){Tt=t;var c=0;do{if(xr&&(Ur=null),el=0,xr=!1,25<=c)throw Error(s(301));if(c+=1,de=Ft=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=o0,h=n(a,l)}while(xr);return h}function n0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Tt.flags|=1024),n}function Zc(){var t=Bo!==0;return Bo=0,t}function $c(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Jc(t){if(zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zo=!1}Hi=0,de=Ft=Tt=null,xr=!1,el=Bo=0,Ur=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Tt.memoizedState=de=t:de=de.next=t,de}function me(){if(Ft===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=de===null?Tt.memoizedState:de.next;if(n!==null)de=n,Ft=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?Tt.memoizedState=de=t:de=de.next=t}return de}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var n=el;return el+=1,Ur===null&&(Ur=[]),t=rm(Ur,t,n),n=Tt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ym:Km),t}function Po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===_t)return ke(t)}throw Error(s(438,String(t)))}function tf(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Wc(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function _i(t,n){return typeof n=="function"?n(t):n}function qo(t){var n=me();return ef(n,Ft,t)}function ef(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,B=n,G=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Nt&F)===F:(Hi&F)===F){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Nr&&(G=!0);else if((Hi&P)===P){B=B.next,P===Nr&&(G=!0);continue}else F={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=F,y=h):b=b.next=F,Tt.lanes|=P,Zi|=P;F=B.action,Fa&&a(h,F),h=B.hasEagerState?B.eagerState:a(h,F)}else P={lane:F,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,y=h):b=b.next=P,Tt.lanes|=F,Zi|=F;B=B.next}while(B!==null&&B!==n);if(b===null?y=h:b.next=E,!nn(h,t.memoizedState)&&(De=!0,G&&(a=Or,a!==null)))throw a;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);nn(h,n.memoizedState)||(De=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function dm(t,n,a){var l=Tt,c=me(),h=Bt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!nn((Ft||c).memoizedState,a);y&&(c.memoizedState=a,De=!0),c=c.queue;var E=pm.bind(null,l,c,t);if(il(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Lr(9,jo(),gm.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));h||(Hi&124)!==0||mm(l,n,a)}return a}function mm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=Wc(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function gm(t,n,a,l){n.value=a,n.getSnapshot=l,ym(n)&&_m(t)}function pm(t,n,a){return a(function(){ym(n)&&_m(t)})}function ym(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!nn(t,a)}catch{return!0}}function _m(t){var n=Dr(t,2);n!==null&&un(n,t,2)}function af(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),Fa){tn(!0);try{a()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function vm(t,n,a,l){return t.baseState=a,ef(t,Ft,typeof l=="function"?l:_i)}function i0(t,n,a,l,c){if(Ho(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Em(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Em(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),Tm(t,n,E)}catch(B){rf(t,n,B)}finally{H.T=h}}else try{h=a(c,l),Tm(t,n,h)}catch(B){rf(t,n,B)}}function Tm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Am(t,n,l)},function(l){return rf(t,n,l)}):Am(t,n,a)}function Am(t,n,a){n.status="fulfilled",n.value=a,Sm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Em(t,a)))}function rf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Sm(n),n=n.next;while(n!==l)}t.action=null}function Sm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bm(t,n){return n}function Rm(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Tt;if(Bt){if(re){e:{for(var c=re,h=Fn;c.nodeType!==8;){if(!h){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){re=In(c.nextSibling),l=c.data==="F!";break t}}ka(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:n},a.queue=l,a=Gm.bind(null,Tt,l),l.dispatch=a,l=af(!1),h=cf.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=i0.bind(null,Tt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function wm(t){var n=me();return Dm(n,Ft,t)}function Dm(t,n,a){if(n=ef(t,n,bm)[0],t=qo(_i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=nl(n)}catch(y){throw y===Zs?xo:y}else l=n;n=me();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Lr(9,jo(),a0.bind(null,c,a),null)),[l,h,t]}function a0(t,n){t.action=n}function Cm(t){var n=me(),a=Ft;if(a!==null)return Dm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Lr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Wc(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function jo(){return{destroy:void 0,resource:void 0}}function Vm(){return me().memoizedState}function ko(t,n,a,l){var c=$e();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=Lr(1|n,jo(),a,l)}function il(t,n,a,l){var c=me();l=l===void 0?null:l;var h=c.memoizedState.inst;Ft!==null&&l!==null&&Kc(l,Ft.memoizedState.deps)?c.memoizedState=Lr(n,h,a,l):(Tt.flags|=t,c.memoizedState=Lr(1|n,h,a,l))}function Im(t,n){ko(8390656,8,t,n)}function Nm(t,n){il(2048,8,t,n)}function Om(t,n){return il(4,2,t,n)}function Mm(t,n){return il(4,4,t,n)}function xm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Um(t,n,a){a=a!=null?a.concat([t]):null,il(4,4,xm.bind(null,n,t),a)}function sf(){}function Lm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Kc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function zm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Kc(n,l[1]))return l[0];if(l=t(),Fa){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l}function lf(t,n,a){return a===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=qg(),Tt.lanes|=t,Zi|=t,a)}function Bm(t,n,a,l){return nn(a,n)?a:Mr.current!==null?(t=lf(t,a,l),nn(t,n)||(De=!0),t):(Hi&42)===0?(De=!0,t.memoizedState=a):(t=qg(),Tt.lanes|=t,Zi|=t,n)}function Pm(t,n,a,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=H.T,E={};H.T=E,cf(t,!1,n,a);try{var b=c(),B=H.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=t0(b,l);al(t,n,G,on(t))}else al(t,n,l,on(t))}catch(F){al(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{et.p=h,H.T=y}}function r0(){}function of(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=qm(t).queue;Pm(t,c,n,ot,a===null?r0:function(){return jm(t),a(l)})}function qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jm(t){var n=qm(t).next.queue;al(t,n,{},on())}function uf(){return ke(Al)}function km(){return me().memoizedState}function Hm(){return me().memoizedState}function s0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=on();t=ji(a);var l=ki(n,t,a);l!==null&&(un(l,n,a),Js(l,n,a)),n={cache:Bc()},t.payload=n;return}n=n.return}}function l0(t,n,a){var l=on();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ho(t)?Qm(n,a):(a=Cc(t,n,a,l),a!==null&&(un(a,t,l),Fm(a,n,l)))}function Gm(t,n,a){var l=on();al(t,n,a,l)}function al(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ho(t))Qm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,a);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return wo(t,n,c,0),$t===null&&Ro(),!1}catch{}finally{}if(a=Cc(t,n,c,l),a!==null)return un(a,t,l),Fm(a,n,l),!0}return!1}function cf(t,n,a,l){if(l={lane:2,revertLane:kf(),action:l,hasEagerState:!1,eagerState:null,next:null},Ho(t)){if(n)throw Error(s(479))}else n=Cc(t,a,l,2),n!==null&&un(n,t,2)}function Ho(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Qm(t,n){xr=zo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Fm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ws(t,a)}}var Go={readContext:ke,use:Po,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Ym={readContext:ke,use:Po,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Im,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ko(4194308,4,xm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ko(4194308,4,t,n)},useInsertionEffect:function(t,n){ko(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(Fa){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(Fa){tn(!0);try{a(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=l0.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=af(t);var n=t.queue,a=Gm.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:sf,useDeferredValue:function(t,n){var a=$e();return lf(a,t,n)},useTransition:function(){var t=af(!1);return t=Pm.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=$e();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Nt&124)!==0||mm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Im(pm.bind(null,l,h,t),[t]),l.flags|=2048,Lr(9,jo(),gm.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Bt){var a=gi,l=mi;a=(l&~(1<<32-je(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Bo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=e0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:uf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=cf.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:tf,useCacheRefresh:function(){return $e().memoizedState=s0.bind(null,Tt)}},Km={readContext:ke,use:Po,useCallback:Lm,useContext:ke,useEffect:Nm,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:zm,useReducer:qo,useRef:Vm,useState:function(){return qo(_i)},useDebugValue:sf,useDeferredValue:function(t,n){var a=me();return Bm(a,Ft.memoizedState,t,n)},useTransition:function(){var t=qo(_i)[0],n=me().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:dm,useId:km,useHostTransitionStatus:uf,useFormState:wm,useActionState:wm,useOptimistic:function(t,n){var a=me();return vm(a,Ft,t,n)},useMemoCache:tf,useCacheRefresh:Hm},o0={readContext:ke,use:Po,useCallback:Lm,useContext:ke,useEffect:Nm,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:zm,useReducer:nf,useRef:Vm,useState:function(){return nf(_i)},useDebugValue:sf,useDeferredValue:function(t,n){var a=me();return Ft===null?lf(a,t,n):Bm(a,Ft.memoizedState,t,n)},useTransition:function(){var t=nf(_i)[0],n=me().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:dm,useId:km,useHostTransitionStatus:uf,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var a=me();return Ft!==null?vm(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:tf,useCacheRefresh:Hm},zr=null,rl=0;function Qo(t){var n=rl;return rl+=1,zr===null&&(zr=[]),rm(zr,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fo(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xm(t){var n=t._init;return n(t._payload)}function Zm(t){function n(M,C){if(t){var L=M.deletions;L===null?(M.deletions=[C],M.flags|=16):L.push(C)}}function a(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function h(M,C,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<C?(M.flags|=67108866,C):L):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,L,Q){return C===null||C.tag!==6?(C=Ic(L,M.mode,Q),C.return=M,C):(C=c(C,L),C.return=M,C)}function b(M,C,L,Q){var rt=L.type;return rt===Y?G(M,C,L.props.children,Q,L.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Xm(rt)===C.type)?(C=c(C,L.props),sl(C,L),C.return=M,C):(C=Co(L.type,L.key,L.props,null,M.mode,Q),sl(C,L),C.return=M,C)}function B(M,C,L,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=Nc(L,M.mode,Q),C.return=M,C):(C=c(C,L.children||[]),C.return=M,C)}function G(M,C,L,Q,rt){return C===null||C.tag!==7?(C=Ba(L,M.mode,Q,rt),C.return=M,C):(C=c(C,L),C.return=M,C)}function F(M,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Ic(""+C,M.mode,L),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return L=Co(C.type,C.key,C.props,null,M.mode,L),sl(L,C),L.return=M,L;case k:return C=Nc(C,M.mode,L),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),F(M,C,L)}if(ie(C)||x(C))return C=Ba(C,M.mode,L,null),C.return=M,C;if(typeof C.then=="function")return F(M,Qo(C),L);if(C.$$typeof===_t)return F(M,Oo(M,C),L);Fo(M,C)}return null}function P(M,C,L,Q){var rt=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(M,C,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===rt?b(M,C,L,Q):null;case k:return L.key===rt?B(M,C,L,Q):null;case S:return rt=L._init,L=rt(L._payload),P(M,C,L,Q)}if(ie(L)||x(L))return rt!==null?null:G(M,C,L,Q,null);if(typeof L.then=="function")return P(M,C,Qo(L),Q);if(L.$$typeof===_t)return P(M,C,Oo(M,L),Q);Fo(M,L)}return null}function q(M,C,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(C,M,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return M=M.get(Q.key===null?L:Q.key)||null,b(C,M,Q,rt);case k:return M=M.get(Q.key===null?L:Q.key)||null,B(C,M,Q,rt);case S:var bt=Q._init;return Q=bt(Q._payload),q(M,C,L,Q,rt)}if(ie(Q)||x(Q))return M=M.get(L)||null,G(C,M,Q,rt,null);if(typeof Q.then=="function")return q(M,C,L,Qo(Q),rt);if(Q.$$typeof===_t)return q(M,C,L,Oo(C,Q),rt);Fo(C,Q)}return null}function dt(M,C,L,Q){for(var rt=null,bt=null,lt=C,ht=C=0,Ve=null;lt!==null&&ht<L.length;ht++){lt.index>ht?(Ve=lt,lt=null):Ve=lt.sibling;var xt=P(M,lt,L[ht],Q);if(xt===null){lt===null&&(lt=Ve);break}t&&lt&&xt.alternate===null&&n(M,lt),C=h(xt,C,ht),bt===null?rt=xt:bt.sibling=xt,bt=xt,lt=Ve}if(ht===L.length)return a(M,lt),Bt&&qa(M,ht),rt;if(lt===null){for(;ht<L.length;ht++)lt=F(M,L[ht],Q),lt!==null&&(C=h(lt,C,ht),bt===null?rt=lt:bt.sibling=lt,bt=lt);return Bt&&qa(M,ht),rt}for(lt=l(lt);ht<L.length;ht++)Ve=q(lt,M,ht,L[ht],Q),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?ht:Ve.key),C=h(Ve,C,ht),bt===null?rt=Ve:bt.sibling=Ve,bt=Ve);return t&&lt.forEach(function(ra){return n(M,ra)}),Bt&&qa(M,ht),rt}function ft(M,C,L,Q){if(L==null)throw Error(s(151));for(var rt=null,bt=null,lt=C,ht=C=0,Ve=null,xt=L.next();lt!==null&&!xt.done;ht++,xt=L.next()){lt.index>ht?(Ve=lt,lt=null):Ve=lt.sibling;var ra=P(M,lt,xt.value,Q);if(ra===null){lt===null&&(lt=Ve);break}t&&lt&&ra.alternate===null&&n(M,lt),C=h(ra,C,ht),bt===null?rt=ra:bt.sibling=ra,bt=ra,lt=Ve}if(xt.done)return a(M,lt),Bt&&qa(M,ht),rt;if(lt===null){for(;!xt.done;ht++,xt=L.next())xt=F(M,xt.value,Q),xt!==null&&(C=h(xt,C,ht),bt===null?rt=xt:bt.sibling=xt,bt=xt);return Bt&&qa(M,ht),rt}for(lt=l(lt);!xt.done;ht++,xt=L.next())xt=q(lt,M,ht,xt.value,Q),xt!==null&&(t&&xt.alternate!==null&&lt.delete(xt.key===null?ht:xt.key),C=h(xt,C,ht),bt===null?rt=xt:bt.sibling=xt,bt=xt);return t&&lt.forEach(function(uE){return n(M,uE)}),Bt&&qa(M,ht),rt}function Kt(M,C,L,Q){if(typeof L=="object"&&L!==null&&L.type===Y&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:t:{for(var rt=L.key;C!==null;){if(C.key===rt){if(rt=L.type,rt===Y){if(C.tag===7){a(M,C.sibling),Q=c(C,L.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Xm(rt)===C.type){a(M,C.sibling),Q=c(C,L.props),sl(Q,L),Q.return=M,M=Q;break t}a(M,C);break}else n(M,C);C=C.sibling}L.type===Y?(Q=Ba(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Co(L.type,L.key,L.props,null,M.mode,Q),sl(Q,L),Q.return=M,M=Q)}return y(M);case k:t:{for(rt=L.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){a(M,C.sibling),Q=c(C,L.children||[]),Q.return=M,M=Q;break t}else{a(M,C);break}else n(M,C);C=C.sibling}Q=Nc(L,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return rt=L._init,L=rt(L._payload),Kt(M,C,L,Q)}if(ie(L))return dt(M,C,L,Q);if(x(L)){if(rt=x(L),typeof rt!="function")throw Error(s(150));return L=rt.call(L),ft(M,C,L,Q)}if(typeof L.then=="function")return Kt(M,C,Qo(L),Q);if(L.$$typeof===_t)return Kt(M,C,Oo(M,L),Q);Fo(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(a(M,C.sibling),Q=c(C,L),Q.return=M,M=Q):(a(M,C),Q=Ic(L,M.mode,Q),Q.return=M,M=Q),y(M)):a(M,C)}return function(M,C,L,Q){try{rl=0;var rt=Kt(M,C,L,Q);return zr=null,rt}catch(lt){if(lt===Zs||lt===xo)throw lt;var bt=an(29,lt,null,M.mode);return bt.lanes=Q,bt.return=M,bt}finally{}}}var Br=Zm(!0),$m=Zm(!1),Tn=X(null),Yn=null;function Gi(t){var n=t.alternate;$(Ae,Ae.current&1),$(Tn,t),Yn===null&&(n===null||Mr.current!==null||n.memoizedState!==null)&&(Yn=t)}function Jm(t){if(t.tag===22){if($(Ae,Ae.current),$(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Qi()}function Qi(){$(Ae,Ae.current),$(Tn,Tn.current)}function vi(t){nt(Tn),Yn===t&&(Yn=null),nt(Ae)}var Ae=X(0);function Yo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||th(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ff(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=on(),c=ji(l);c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(un(n,t,l),Js(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=on(),c=ji(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ki(t,c,l),n!==null&&(un(n,t,l),Js(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=on(),l=ji(a);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,a),n!==null&&(un(n,t,a),Js(n,t,a))}};function Wm(t,n,a,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!ks(a,l)||!ks(c,h):!0}function tg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&hf.enqueueReplaceState(n,n.state,null)}function Ya(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function eg(t){Ko(t)}function ng(t){console.error(t)}function ig(t){Ko(t)}function Xo(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function df(t,n,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Xo(t,n)},a}function rg(t){return t=ji(t),t.tag=3,t}function sg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){ag(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ag(n,a,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function u0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,c,!0),a=Tn.current,a!==null){switch(a.tag){case 13:return Yn===null?zf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===jc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Pf(t,l,c)),!1;case 22:return a.flags|=65536,l===jc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Pf(t,l,c)),!1}throw Error(s(435,a.tag))}return Pf(t,l,c),zf(),!1}if(Bt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(s(422),{cause:l}),Fs(yn(t,a)))):(l!==xc&&(n=Error(s(423),{cause:l}),Fs(yn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,a),c=df(t.stateNode,l,c),Gc(t,c),se!==4&&(se=2)),!1;var h=Error(s(520),{cause:l});if(h=yn(h,a),dl===null?dl=[h]:dl.push(h),se!==4&&(se=2),n===null)return!0;l=yn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=df(a.stateNode,l,t),Gc(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&($i===null||!$i.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=rg(c),sg(c,t,a,l),Gc(a,c),!1}a=a.return}while(a!==null);return!1}var lg=Error(s(461)),De=!1;function xe(t,n,a,l){n.child=t===null?$m(n,null,a,l):Br(n,t.child,a,l)}function og(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Ga(n),l=Xc(t,n,a,y,h,c),E=Zc(),t!==null&&!De?($c(t,n,c),Ei(t,n,c)):(Bt&&E&&Oc(n),n.flags|=1,xe(t,n,l,c),n.child)}function ug(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Vc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,cg(t,n,h,l,c)):(t=Co(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Tf(t,c)){var y=h.memoizedProps;if(a=a.compare,a=a!==null?a:ks,a(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=di(h,l),t.ref=n.ref,t.return=n,n.child=t}function cg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(ks(h,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=h,Tf(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return mf(t,n,a,l,c)}function fg(t,n,a){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return hg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(n,h!==null?h.cachePool:null),h!==null?cm(n,h):Fc(),Jm(n);else return n.lanes=n.childLanes=536870912,hg(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(Mo(n,h.cachePool),cm(n,h),Qi(),n.memoizedState=null):(t!==null&&Mo(n,null),Fc(),Qi());return xe(t,n,c,a),n.child}function hg(t,n,a,l){var c=qc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Mo(n,null),Fc(),Jm(n),t!==null&&Ys(t,n,l,!0),null}function Zo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function mf(t,n,a,l,c){return Ga(n),a=Xc(t,n,a,l,void 0,c),l=Zc(),t!==null&&!De?($c(t,n,c),Ei(t,n,c)):(Bt&&l&&Oc(n),n.flags|=1,xe(t,n,a,c),n.child)}function dg(t,n,a,l,c,h){return Ga(n),n.updateQueue=null,a=hm(n,l,a,c),fm(t),l=Zc(),t!==null&&!De?($c(t,n,h),Ei(t,n,h)):(Bt&&l&&Oc(n),n.flags|=1,xe(t,n,a,h),n.child)}function mg(t,n,a,l,c){if(Ga(n),n.stateNode===null){var h=Cr,y=a.contextType;typeof y=="object"&&y!==null&&(h=ke(y)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=hf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},kc(n),y=a.contextType,h.context=typeof y=="object"&&y!==null?ke(y):Cr,h.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ff(n,a,y,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&hf.enqueueReplaceState(h,h.state,null),tl(n,l,h,c),Ws(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=Ya(a,E);h.props=b;var B=h.context,G=a.contextType;y=Cr,typeof G=="object"&&G!==null&&(y=ke(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==y)&&tg(n,h,l,y),qi=!1;var P=n.memoizedState;h.state=P,tl(n,l,h,c),Ws(),B=n.memoizedState,E||P!==B||qi?(typeof F=="function"&&(ff(n,a,F,l),B=n.memoizedState),(b=qi||Wm(n,a,b,l,P,B,y))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Hc(t,n),y=n.memoizedProps,G=Ya(a,y),h.props=G,F=n.pendingProps,P=h.context,B=a.contextType,b=Cr,typeof B=="object"&&B!==null&&(b=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==F||P!==b)&&tg(n,h,l,b),qi=!1,P=n.memoizedState,h.state=P,tl(n,l,h,c),Ws();var q=n.memoizedState;y!==F||P!==q||qi||t!==null&&t.dependencies!==null&&No(t.dependencies)?(typeof E=="function"&&(ff(n,a,E,l),q=n.memoizedState),(G=qi||Wm(n,a,G,l,P,q,b)||t!==null&&t.dependencies!==null&&No(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=b,l=G):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Zo(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Br(n,t.child,null,c),n.child=Br(n,null,a,c)):xe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ei(t,n,c),t}function gg(t,n,a,l){return Qs(),n.flags|=256,xe(t,n,a,l),n.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(t){return{baseLanes:t,cachePool:nm()}}function yf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=An),t}function pg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Gi(n):Qi(),Bt){var E=re,b;if(b=E){t:{for(b=E,E=Fn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Pa!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,re=null,b=!0):b=!1}b||ka(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return th(E)?n.lanes=32:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=$o({mode:"hidden",children:E},c),l=Ba(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=pf(a),c.childLanes=yf(t,y,a),n.memoizedState=gf,l):(Gi(n),_f(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Gi(n),n.flags&=-257,n=vf(t,n,a)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=$o({mode:"visible",children:l.children},E),c=Ba(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Br(n,t.child,null,a),l=n.child,l.memoizedState=pf(a),l.childLanes=yf(t,y,a),n.memoizedState=gf,n=c);else if(Gi(n),th(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,Fs({value:l,source:null,stack:null}),n=vf(t,n,a)}else if(De||Ys(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:Oi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Dr(t,l),un(y,t,l),lg;E.data==="$?"||zf(),n=vf(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=In(E.nextSibling),Ze=n,Bt=!0,ja=null,Fn=!1,t!==null&&(vn[En++]=mi,vn[En++]=gi,vn[En++]=Pa,mi=t.id,gi=t.overflow,Pa=n),n=_f(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=di(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=di(B,c):(c=Ba(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=pf(a):(b=E.cachePool,b!==null?(B=Te._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=nm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=yf(t,y,a),n.memoizedState=gf,l):(Gi(n),a=t.child,t=a.sibling,a=di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function _f(t,n){return n=$o({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $o(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vf(t,n,a){return Br(n,t.child,null,a),t=_f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Lc(t.return,n,a)}function Ef(t,n,a,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function _g(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(xe(t,n,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yg(t,a,n);else if(t.tag===19)yg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ae,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Yo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ef(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ef(n,!0,a,null,h);break;case"together":Ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&No(t)))}function c0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,Te,t.memoizedState.cache),Qs();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?pg(t,n,a):(Gi(n),t=Ei(t,n,a),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return _g(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,fg(t,n,a);case 24:Pi(n,Te,t.memoizedState.cache)}return Ei(t,n,a)}function vg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Tf(t,a)&&(n.flags&128)===0)return De=!1,c0(t,n,a);De=(t.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&Xd(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Vc(l)?(t=Ya(l,t),n.tag=1,n=mg(null,n,l,t,a)):(n.tag=0,n=mf(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Pt){n.tag=11,n=og(null,n,l,t,a);break t}else if(c===N){n.tag=14,n=ug(null,n,l,t,a);break t}}throw n=Ne(l)||l,Error(s(306,n,""))}}return n;case 0:return mf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ya(l,n.pendingProps),mg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Hc(t,n),tl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Pi(n,Te,l),l!==h.cache&&zc(n,[Te],a,!0),Ws(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=gg(t,n,l,a);break t}else if(l!==c){c=yn(Error(s(424)),n),Fs(c),n=gg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=In(t.firstChild),Ze=n,Bt=!0,ja=null,Fn=!0,a=$m(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),l===c){n=Ei(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Zo(t,n),t===null?(a=Sp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=fu(mt.current).createElement(a),l[_e]=n,l[fe]=t,Le(l,a,t),le(l),n.stateNode=l):n.memoizedState=Sp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Bt&&(l=n.stateNode=Ep(n.type,n.pendingProps,mt.current),Ze=n,Fn=!0,c=re,ta(n.type)?(eh=c,re=In(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,a),Zo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=re)&&(l=B0(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ze=n,re=In(l.firstChild),Fn=!1,c=!0):c=!1),c||ka(n)),Ni(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,$f(c,h)?l=null:y!==null&&$f(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Xc(t,n,n0,null,null,a),Al._currentValue=c),Zo(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=re)&&(a=P0(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,Ze=n,re=null,t=!0):t=!1),t||ka(n)),null;case 13:return pg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Br(n,null,l,a):xe(t,n,l,a),n.child;case 11:return og(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ga(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return ug(t,n,n.type,n.pendingProps,a);case 15:return cg(t,n,n.type,n.pendingProps,a);case 19:return _g(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=$o(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=di(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return fg(t,n,a);case 24:return Ga(n),l=ke(Te),t===null?(c=qc(),c===null&&(c=$t,h=Bc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},kc(n),Pi(n,Te,c)):((t.lanes&a)!==0&&(Hc(t,n),tl(n,null,null,a),Ws()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,Te,l)):(l=h.cache,Pi(n,Te,l),l!==c.cache&&zc(n,[Te],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ti(t){t.flags|=4}function Eg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(n)){if(n=Tn.current,n!==null&&((Nt&4194048)===Nt?Yn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Yn))throw $s=jc,im;t.flags|=8192}}function Jo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bs():536870912,t.lanes|=n,kr|=n)}function ll(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function f0(t,n,a){var l=n.pendingProps;switch(Mc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yi(Te),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jd())),ee(n),null;case 26:return a=n.memoizedState,t===null?(Ti(n),a!==null?(ee(n),Eg(n,a)):(ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ti(n),ee(n),Eg(n,a)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),ee(n),n.flags&=-16777217),null;case 27:ti(n),a=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ct.current,Gs(n)?Zd(n):(t=Ep(c,l,a),n.stateNode=t,Ti(n))}return ee(n),null;case 5:if(ti(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ct.current,Gs(n))Zd(n);else{switch(c=fu(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mt.current,Gs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dp(t.nodeValue,a)),t||ka(n)}else t=fu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Jo(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Ff(n.stateNode.containerInfo),ee(n),null;case 10:return yi(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)ll(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Yo(t),h!==null){for(n.flags|=128,ll(c,!1),t=h.updateQueue,n.updateQueue=t,Jo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Kd(a,t),a=a.sibling;return $(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>eu&&(n.flags|=128,l=!0,ll(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yo(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Jo(n,t),ll(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Bt)return ee(n),null}else 2*fn()-c.renderingStartTime>eu&&a!==536870912&&(n.flags|=128,l=!0,ll(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,$(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return vi(n),Yc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&Jo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(Qa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),yi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function h0(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return xn(),null;case 10:return yi(n.type),null;case 22:case 23:return vi(n),Yc(),t!==null&&nt(Qa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return yi(Te),null;case 25:return null;default:return null}}function Tg(t,n){switch(Mc(n),n.tag){case 3:yi(Te),xn();break;case 26:case 27:case 5:ti(n);break;case 4:xn();break;case 13:vi(n);break;case 19:nt(Ae);break;case 10:yi(n.type);break;case 22:case 23:vi(n),Yc(),t!==null&&nt(Qa);break;case 24:yi(Te)}}function ol(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,y=a.inst;l=h(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Fi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,B=E;try{B()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==h)}}catch(G){Xt(n,n.return,G)}}function Ag(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{um(n,a)}catch(l){Xt(t,t.return,l)}}}function Sg(t,n,a){a.props=Ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function bg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Af(t,n,a){try{var l=t.stateNode;M0(l,t.type,a,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function Rg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function Sf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=cu));else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(bf(t,n,a),t=t.sibling;t!==null;)bf(t,n,a),t=t.sibling}function Wo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wo(t,n,a),t=t.sibling;t!==null;)Wo(t,n,a),t=t.sibling}function wg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[_e]=t,n[fe]=a}catch(h){Xt(t,t.return,h)}}var Ai=!1,ue=!1,Rf=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function d0(t,n){if(t=t.containerInfo,Xf=yu,t=Bd(t),Ac(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,B=0,G=0,F=t,P=null;e:for(;;){for(var q;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==h||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)P=F,F=q;for(;;){if(F===t)break e;if(P===a&&++B===c&&(E=y),P===h&&++G===l&&(b=y),(q=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:t,selectionRange:a},yu=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var dt=Ya(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(dt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Wf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function Cg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&ol(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=Ya(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&Ag(a),l&512&&ul(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{um(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&wg(a);case 26:case 5:Yi(t,a),n===null&&l&4&&bg(a),l&512&&ul(a,a.return);break;case 12:Yi(t,a);break;case 13:Yi(t,a),l&4&&Ng(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=A0.bind(null,a),q0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ai,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ai;var h=ue;Ai=l,(ue=n)&&!h?Ki(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Ai=c,ue=h}break;case 30:break;default:Yi(t,a)}}function Vg(t){var n=t.alternate;n!==null&&(t.alternate=null,Vg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Si(t,n,a){for(a=a.child;a!==null;)Ig(t,n,a),a=a.sibling}function Ig(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:ue||Kn(a,n),Si(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||Kn(a,n);var l=te,c=Je;ta(a.type)&&(te=a.stateNode,Je=!1),Si(t,n,a),_l(a.stateNode),te=l,Je=c;break;case 5:ue||Kn(a,n);case 6:if(l=te,c=Je,te=null,Si(t,n,a),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(h){Xt(a,n,h)}else try{te.removeChild(a.stateNode)}catch(h){Xt(a,n,h)}break;case 18:te!==null&&(Je?(t=te,_p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wl(t)):_p(te,a.stateNode));break;case 4:l=te,c=Je,te=a.stateNode.containerInfo,Je=!0,Si(t,n,a),te=l,Je=c;break;case 0:case 11:case 14:case 15:ue||Fi(2,a,n),ue||Fi(4,a,n),Si(t,n,a);break;case 1:ue||(Kn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sg(a,n,l)),Si(t,n,a);break;case 21:Si(t,n,a);break;case 22:ue=(l=ue)||a.memoizedState!==null,Si(t,n,a),ue=l;break;default:Si(t,n,a)}}function Ng(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(a){Xt(n,n.return,a)}}function m0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dg),n;default:throw Error(s(435,t.tag))}}function wf(t,n){var a=m0(t);n.forEach(function(l){var c=S0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ta(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));Ig(h,y,c),te=null,Je=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Og(n,t),n=n.sibling}var Vn=null;function Og(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(Fi(3,t,t.return),ol(3,t),Fi(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Vn;if(rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Aa]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,a),h[_e]=t,le(h),l=h;break t;case"link":var y=wp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,a),c.head.appendChild(h);break;case"meta":if(y=wp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,le(h),l=h}t.stateNode=l}else Dp(c,t.type,t.stateNode);else t.stateNode=Rp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Dp(c,t.type,t.stateNode):Rp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Af(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),a!==null&&l&4&&Af(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(ue||a===null||Kn(a,a.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Af(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Rf=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(mu=null,c=Vn,Vn=hu(n.containerInfo),rn(n,t),Vn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Rf&&(Rf=!1,Mg(t));break;case 4:l=Vn,Vn=hu(t.stateNode.containerInfo),rn(n,t),sn(t),Vn=l;break;case 12:rn(n,t),sn(t);break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Of=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wf(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,B=Ai,G=ue;if(Ai=B||c,ue=G||b,rn(n,t),ue=G,Ai=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Ai||ue||Ka(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(h=b.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wf(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wf(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Rg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=Sf(t);Wo(t,h,c);break;case 5:var y=a.stateNode;a.flags&32&&(dn(y,""),a.flags&=-33);var E=Sf(t);Wo(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,B=Sf(t);bf(t,B,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Mg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(t,n.alternate,n),n=n.sibling}function Ka(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),Ka(n);break;case 1:Kn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Sg(n,n.return,a),Ka(n);break;case 27:_l(n.stateNode);case 26:case 5:Kn(n,n.return),Ka(n);break;case 22:n.memoizedState===null&&Ka(n);break;case 30:Ka(n);break;default:Ka(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Ki(c,h,a),ol(4,h);break;case 1:if(Ki(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)om(b[c],E)}catch(B){Xt(l,l.return,B)}}a&&y&64&&Ag(h),ul(h,h.return);break;case 27:wg(h);case 26:case 5:Ki(c,h,a),a&&l===null&&y&4&&bg(h),ul(h,h.return);break;case 12:Ki(c,h,a);break;case 13:Ki(c,h,a),a&&y&4&&Ng(c,h);break;case 22:h.memoizedState===null&&Ki(c,h,a),ul(h,h.return);break;case 30:break;default:Ki(c,h,a)}n=n.sibling}}function Df(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ks(a))}function Cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xg(t,n,a,l),n=n.sibling}function xg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),c&2048&&ol(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t)));break;case 12:if(c&2048){Xn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?Xn(t,n,a,l):cl(t,n):h._visibility&2?Xn(t,n,a,l):(h._visibility|=2,Pr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Df(y,n);break;case 24:Xn(t,n,a,l),c&2048&&Cf(n.alternate,n);break;default:Xn(t,n,a,l)}}function Pr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=a,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Pr(h,y,E,b,c),ol(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Pr(h,y,E,b,c):cl(h,y):(G._visibility|=2,Pr(h,y,E,b,c)),c&&B&2048&&Df(y.alternate,y);break;case 24:Pr(h,y,E,b,c),c&&B&2048&&Cf(y.alternate,y);break;default:Pr(h,y,E,b,c)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:cl(a,l),c&2048&&Df(l.alternate,l);break;case 24:cl(a,l),c&2048&&Cf(l.alternate,l);break;default:cl(a,l)}n=n.sibling}}var fl=8192;function qr(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 26:qr(t),t.flags&fl&&t.memoizedState!==null&&W0(Vn,t.memoizedState,t.memoizedProps);break;case 5:qr(t);break;case 3:case 4:var n=Vn;Vn=hu(t.stateNode.containerInfo),qr(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,qr(t),fl=n):qr(t));break;default:qr(t)}}function Lg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Bg(l,t)}Lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tu(t)):hl(t);break;default:hl(t)}}function tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Bg(l,t)}Lg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),tu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tu(n));break;default:tu(n)}t=t.sibling}}function Bg(t,n){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:Fi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ce=l;else t:for(a=t;Ce!==null;){l=Ce;var c=l.sibling,h=l.return;if(Vg(l),l===a){Ce=null;break t}if(c!==null){c.return=h,Ce=c;break t}Ce=h}}}var g0={getCacheForType:function(t){var n=ke(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},p0=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,Rt=null,Nt=0,Ht=0,ln=null,Xi=!1,jr=!1,Vf=!1,bi=0,se=0,Zi=0,Xa=0,If=0,An=0,kr=0,dl=null,We=null,Nf=!1,Of=0,eu=1/0,nu=null,$i=null,Ue=0,Ji=null,Hr=null,Gr=0,Mf=0,xf=null,Pg=null,ml=0,Uf=null;function on(){if((kt&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var t=Nr;return t!==0?t:kf()}return Mi()}function qg(){An===0&&(An=(Nt&536870912)===0||Bt?Ss():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function un(t,n,a){(t===$t&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(Qr(t,0),Wi(t,Nt,An,!1)),ni(t,a),((kt&2)===0||t!==$t)&&(t===$t&&((kt&2)===0&&(Xa|=a),se===4&&Wi(t,Nt,An,!1)),Zn(t))}function jg(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ta(t,n),c=l?v0(t,n):Bf(t,n,!0),h=l;do{if(c===0){jr&&!l&&Wi(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!y0(a)){c=Bf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=dl;var b=E.current.memoizedState.isDehydrated;if(b&&(Qr(E,y).flags|=256),y=Bf(E,y,!1),y!==2){if(Vf&&!b){E.errorRecoveryDisabledLanes|=h,Xa|=h,c=4;break t}h=We,We=c,h!==null&&(We===null?We=h:We.push.apply(We,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){Qr(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,An,!Xi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Of+300-fn(),10<c)){if(Wi(l,n,An,!Xi),or(l,0,!0)!==0)break t;l.timeoutHandle=pp(kg.bind(null,l,a,We,nu,Nf,n,An,Xa,kr,Xi,h,2,-0,0),c);break t}kg(l,a,We,nu,Nf,n,An,Xa,kr,Xi,h,0,-0,0)}}break}while(!0);Zn(t)}function kg(t,n,a,l,c,h,y,E,b,B,G,F,P,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:J0},Ug(n),F=tE(),F!==null)){t.cancelPendingCommit=F(Xg.bind(null,t,n,h,a,l,c,y,E,b,G,1,P,q)),Wi(t,h,y,!B);return}Xg(t,n,h,a,l,c,y,E,b)}function y0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!nn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,a,l){n&=~If,n&=~Xa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-je(c),y=1<<h;l[h]=-1,c&=~y}a!==0&&Un(t,a,n)}function iu(){return(kt&6)===0?(gl(0),!1):!0}function Lf(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,pi=Ha=null,Jc(t),zr=null,rl=0,t=Rt;for(;t!==null;)Tg(t.alternate,t),t=t.return;Rt=null}}function Qr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,U0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Lf(),$t=t,Rt=a=di(t.current,null),Nt=n,Ht=0,ln=null,Xi=!1,jr=Ta(t,n),Vf=!1,kr=An=If=Xa=Zi=se=0,We=dl=null,Nf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),h=1<<c;n|=t[c],l&=~h}return bi=n,Ro(),a}function Hg(t,n){Tt=null,H.H=Go,n===Zs||n===xo?(n=sm(),Ht=3):n===im?(n=sm(),Ht=4):Ht=n===lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Rt===null&&(se=1,Xo(t,yn(n,t.current)))}function Gg(){var t=H.H;return H.H=Go,t===null?Go:t}function Qg(){var t=H.A;return H.A=g0,t}function zf(){se=4,Xi||(Nt&4194048)!==Nt&&Tn.current!==null||(jr=!0),(Zi&134217727)===0&&(Xa&134217727)===0||$t===null||Wi($t,Nt,An,!1)}function Bf(t,n,a){var l=kt;kt|=2;var c=Gg(),h=Qg();($t!==t||Nt!==n)&&(nu=null,Qr(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=ln;switch(Ht){case 8:Lf(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Ht;if(Ht=0,ln=null,Fr(t,E,b,B),a&&jr){y=0;break t}break;default:B=Ht,Ht=0,ln=null,Fr(t,E,b,B)}}_0(),y=se;break}catch(G){Hg(t,G)}while(!0);return n&&t.shellSuspendCounter++,pi=Ha=null,kt=l,H.H=c,H.A=h,Rt===null&&($t=null,Nt=0,Ro()),y}function _0(){for(;Rt!==null;)Fg(Rt)}function v0(t,n){var a=kt;kt|=2;var l=Gg(),c=Qg();$t!==t||Nt!==n?(nu=null,eu=fn()+500,Qr(t,n)):jr=Ta(t,n);t:do try{if(Ht!==0&&Rt!==null){n=Rt;var h=ln;e:switch(Ht){case 1:Ht=0,ln=null,Fr(t,n,h,1);break;case 2:case 9:if(am(h)){Ht=0,ln=null,Yg(n);break}n=function(){Ht!==2&&Ht!==9||$t!==t||(Ht=7),Zn(t)},h.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:am(h)?(Ht=0,ln=null,Yg(n)):(Ht=0,ln=null,Fr(t,n,h,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Cp(y)){Ht=0,ln=null;var b=E.sibling;if(b!==null)Rt=b;else{var B=E.return;B!==null?(Rt=B,au(B)):Rt=null}break e}}Ht=0,ln=null,Fr(t,n,h,5);break;case 6:Ht=0,ln=null,Fr(t,n,h,6);break;case 8:Lf(),se=6;break t;default:throw Error(s(462))}}E0();break}catch(G){Hg(t,G)}while(!0);return pi=Ha=null,H.H=l,H.A=c,kt=a,Rt!==null?0:($t=null,Nt=0,Ro(),se)}function E0(){for(;Rt!==null&&!vs();)Fg(Rt)}function Fg(t){var n=vg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,n===null?au(t):Rt=n}function Yg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=dg(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=dg(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Jc(n);default:Tg(a,n),n=Rt=Kd(n,bi),n=vg(a,n,bi)}t.memoizedProps=t.pendingProps,n===null?au(t):Rt=n}function Fr(t,n,a,l){pi=Ha=null,Jc(n),zr=null,rl=0;var c=n.return;try{if(u0(t,c,n,a,Nt)){se=1,Xo(t,yn(a,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;se=1,Xo(t,yn(a,t.current)),Rt=null;return}n.flags&32768?(Bt||l===1?t=!0:jr||(Nt&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kg(n,t)):au(n)}function au(t){var n=t;do{if((n.flags&32768)!==0){Kg(n,Xi);return}t=n.return;var a=f0(n.alternate,n,bi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);se===0&&(se=5)}function Kg(t,n){do{var a=h0(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);se=6,Rt=null}function Xg(t,n,a,l,c,h,y,E,b){t.cancelPendingCommit=null;do ru();while(Ue!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Dc,Rs(t,a,h,y,E,b),t===$t&&(Rt=$t=null,Nt=0),Hr=n,Ji=t,Gr=a,Mf=h,xf=c,Pg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,b0(ya,function(){return tp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=kt,kt|=4;try{d0(t,n,a)}finally{kt=y,et.p=c,H.T=l}}Ue=1,Zg(),$g(),Jg()}}function Zg(){if(Ue===1){Ue=0;var t=Ji,n=Hr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Og(n,t);var h=Zf,y=Bd(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&zd(E.ownerDocument.documentElement,E)){if(b!==null&&Ac(E)){var B=b.start,G=b.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var q=P.getSelection(),dt=E.textContent.length,ft=Math.min(b.start,dt),Kt=b.end===void 0?ft:Math.min(b.end,dt);!q.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var M=Ld(E,ft),C=Ld(E,Kt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var L=F.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),ft>Kt?(q.addRange(L),q.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),q.addRange(L))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yu=!!Xf,Zf=Xf=null}finally{kt=c,et.p=l,H.T=a}}t.current=n,Ue=2}}function $g(){if(Ue===2){Ue=0;var t=Ji,n=Hr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Cg(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=a}}Ue=3}}function Jg(){if(Ue===4||Ue===3){Ue=0,Wl();var t=Ji,n=Hr,a=Gr,l=Pg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Hr=Ji=null,Wg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),ur(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Gr&3)!==0&&ru(),Zn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Uf?ml++:(ml=0,Uf=t):ml=0,gl(0)}}function Wg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ks(n)))}function ru(t){return Zg(),$g(),Jg(),tp()}function tp(){if(Ue!==5)return!1;var t=Ji,n=Mf;Mf=0;var a=ur(Gr),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=xf,xf=null;var h=Ji,y=Gr;if(Ue=0,Hr=Ji=null,Gr=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,zg(h.current),xg(h,h.current,y,a),kt=E,gl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,h)}catch{}return!0}finally{et.p=c,H.T=l,Wg(t,n)}}function ep(t,n,a){n=yn(a,n),n=df(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(ni(t,2),Zn(t))}function Xt(t,n,a){if(t.tag===3)ep(t,t,a);else for(;n!==null;){if(n.tag===3){ep(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=yn(a,t),a=rg(2),l=ki(n,a,2),l!==null&&(sg(a,l,n,t),ni(l,2),Zn(l));break}}n=n.return}}function Pf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new p0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Vf=!0,c.add(a),t=T0.bind(null,t,n,a),n.then(t,t))}function T0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Nt&a)===a&&(se===4||se===3&&(Nt&62914560)===Nt&&300>fn()-Of?(kt&2)===0&&Qr(t,0):If|=a,kr===Nt&&(kr=0)),Zn(t)}function np(t,n){n===0&&(n=bs()),t=Dr(t,n),t!==null&&(ni(t,n),Zn(t))}function A0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),np(t,a)}function S0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),np(t,a)}function b0(t,n){return ga(t,n)}var su=null,Yr=null,qf=!1,lu=!1,jf=!1,Za=0;function Zn(t){t!==Yr&&t.next===null&&(Yr===null?su=Yr=t:Yr=Yr.next=t),lu=!0,qf||(qf=!0,w0())}function gl(t,n){if(!jf&&lu){jf=!0;do for(var a=!1,l=su;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-je(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,sp(l,h))}else h=Nt,h=or(l,l===$t?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ta(l,h)||(a=!0,sp(l,h));l=l.next}while(a);jf=!1}}function R0(){ip()}function ip(){lu=qf=!1;var t=0;Za!==0&&(x0()&&(t=Za),Za=0);for(var n=fn(),a=null,l=su;l!==null;){var c=l.next,h=ap(l,n);h===0?(l.next=null,a===null?su=c:a.next=c,c===null&&(Yr=a)):(a=l,(t!==0||(h&3)!==0)&&(lu=!0)),l=c}gl(t)}function ap(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-je(h),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=As(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=$t,a=Nt,a=or(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ta(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&pa(l),ur(a)){case 2:case 8:a=sr;break;case 32:a=ya;break;case 268435456:a=lr;break;default:a=ya}return l=rp.bind(null,t),a=ga(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&pa(l),t.callbackPriority=2,t.callbackNode=null,2}function rp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ru()&&t.callbackNode!==a)return null;var l=Nt;return l=or(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jg(t,l,n),ap(t,fn()),t.callbackNode!=null&&t.callbackNode===a?rp.bind(null,t):null)}function sp(t,n){if(ru())return null;jg(t,n,!0)}function w0(){L0(function(){(kt&6)!==0?ga(Es,R0):ip()})}function kf(){return Za===0&&(Za=Ss()),Za}function lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gr(""+t)}function op(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function D0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=lp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?lp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new pr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Za!==0){var b=y?op(c,y):new FormData(c);of(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?op(c,y):new FormData(c),of(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Hf=0;Hf<wc.length;Hf++){var Gf=wc[Hf],C0=Gf.toLowerCase(),V0=Gf[0].toUpperCase()+Gf.slice(1);Cn(C0,"on"+V0)}Cn(jd,"onAnimationEnd"),Cn(kd,"onAnimationIteration"),Cn(Hd,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Fv,"onTransitionRun"),Cn(Yv,"onTransitionStart"),Cn(Kv,"onTransitionCancel"),Cn(Gd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function up(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(G){Ko(G)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(G){Ko(G)}c.currentTarget=null,h=b}}}}function wt(t,n){var a=n[Ds];a===void 0&&(a=n[Ds]=new Set);var l=t+"__bubble";a.has(l)||(cp(n,t,2,!1),a.add(l))}function Qf(t,n,a){var l=0;n&&(l|=4),cp(a,t,l,n)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[ou]){t[ou]=!0,Cs.forEach(function(a){a!=="selectionchange"&&(I0.has(a)||Qf(a,!1,t),Qf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ou]||(n[ou]=!0,Qf("selectionchange",!1,n))}}function cp(t,n,a,l){switch(xp(n)){case 2:var c=iE;break;case 8:c=aE;break;default:c=sh}a=c.bind(null,n,a,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Yf(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ii(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}uo(function(){var B=h,G=mn(a),F=[];t:{var P=Qd.get(t);if(P!==void 0){var q=pr,dt=t;switch(t){case"keypress":if(jn(a)===0)break t;case"keydown":case"keyup":q=Ar;break;case"focusin":dt="focus",q=vr;break;case"focusout":dt="blur",q=vr;break;case"beforeblur":case"afterblur":q=vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_o;break;case jd:case kd:case Hd:q=Er;break;case Gd:q=Eo;break;case"scroll":case"scrollend":q=co;break;case"wheel":q=Sr;break;case"copy":case"cut":case"paste":q=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qs;break;case"toggle":case"beforetoggle":q=Ao}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?P!==null?P+"Capture":null:P;ft=[];for(var C=B,L;C!==null;){var Q=C;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Va(C,M),Q!=null&&ft.push(yl(C,Q,L))),Kt)break;C=C.return}0<ft.length&&(P=new q(P,dt,null,a,G),F.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==li&&(dt=a.relatedTarget||a.fromElement)&&(ii(dt)||dt[hn]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(dt=a.relatedTarget||a.toElement,q=B,dt=dt?ii(dt):null,dt!==null&&(Kt=f(dt),ft=dt.tag,dt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(dt=null)):(q=null,dt=B),q!==dt)){if(ft=pn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ft=qs,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=q==null?P:zn(q),L=dt==null?P:zn(dt),P=new ft(Q,C+"leave",q,a,G),P.target=Kt,P.relatedTarget=L,Q=null,ii(G)===B&&(ft=new ft(M,C+"enter",dt,a,G),ft.target=L,ft.relatedTarget=Kt,Q=ft),Kt=Q,q&&dt)e:{for(ft=q,M=dt,C=0,L=ft;L;L=Kr(L))C++;for(L=0,Q=M;Q;Q=Kr(Q))L++;for(;0<C-L;)ft=Kr(ft),C--;for(;0<L-C;)M=Kr(M),L--;for(;C--;){if(ft===M||M!==null&&ft===M.alternate)break e;ft=Kr(ft),M=Kr(M)}ft=null}else ft=null;q!==null&&fp(F,P,q,ft,!1),dt!==null&&Kt!==null&&fp(F,Kt,dt,ft,!0)}}t:{if(P=B?zn(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var rt=Id;else if(Ee(P))if(Nd)rt=Hv;else{rt=jv;var bt=qv}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Ms(B.elementType)&&(rt=Id):rt=kv;if(rt&&(rt=rt(t,B))){hi(F,rt,a,G);break t}bt&&bt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&zi(P,"number",P.value)}switch(bt=B?zn(B):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(br=bt,Sc=B,Hs=null);break;case"focusout":Hs=Sc=br=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Pd(F,a,G);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":Pd(F,a,G)}var lt;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?j(t,a)&&(ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(p&&a.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(lt=Us()):(qn=G,Bi="value"in qn?qn.value:qn.textContent,Vt=!0)),bt=uu(B,ht),0<bt.length&&(ht=new Bs(ht,t,null,a,G),F.push({event:ht,listeners:bt}),lt?ht.data=lt:(lt=W(a),lt!==null&&(ht.data=lt)))),(lt=m?ve(t,a):It(t,a))&&(ht=uu(B,"onBeforeInput"),0<ht.length&&(bt=new Bs("onBeforeInput","beforeinput",null,a,G),F.push({event:bt,listeners:ht}),bt.data=lt)),D0(F,t,B,a,G)}up(F,n)})}function yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function uu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Va(t,a),c!=null&&l.unshift(yl(t,c,h)),c=Va(t,n),c!=null&&l.push(yl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,n,a,l,c){for(var h=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Va(a,h),B!=null&&y.unshift(yl(a,B,b))):c||(B=Va(a,h),B!=null&&y.push(yl(a,B,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var N0=/\r\n?/g,O0=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(N0,`
`).replace(O0,"")}function dp(t,n){return n=hp(n),hp(t)===n}function cu(){}function Yt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,l);break;case"style":Os(t,l,h);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=gr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=gr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=cu);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=gr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pc.get(a)||a,Li(t,a,l))}}function Kf(t,n,a,l,c,h){switch(a){case"style":Os(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[fe]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Li(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var y=a[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,h,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=h=y=c=null,b=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":B=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,a,null)}}wa(t,h,E,b,B,y,c,!1),mr(t);return;case"select":wt("invalid",t),l=y=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=h,a=y,t.multiple=!!l,n!=null?si(t,!!l,n,!1):a!=null&&si(t,!!l,a,!0);return;case"textarea":wt("invalid",t),h=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,a,null)}Da(t,l,c,h),mr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,a,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)wt(pl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,a,null)}return;default:if(Ms(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Kf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function M0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,B=null,G=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var P in l){var q=l[P];if(F=a[P],l.hasOwnProperty(P)&&(q!=null||F!=null))switch(P){case"type":h=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Yt(t,n,P,q,l,F)}}en(t,y,E,b,B,G,h,c);return;case"select":q=y=E=P=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(h)||Yt(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=a[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":P=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&Yt(t,n,c,h,l,b)}n=E,a=y,l=q,P!=null?si(t,!!a,P,!1):!!l!=!!a&&(n!=null?si(t,!!a,n,!0):si(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=a[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Yt(t,n,y,c,l,h)}Qt(t,P,q);return;case"option":for(var dt in a)if(P=a[dt],a.hasOwnProperty(dt)&&P!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Yt(t,n,dt,null,l,P)}for(b in l)if(P=l[b],q=a[b],l.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Yt(t,n,b,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)P=a[ft],a.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,P);for(B in l)if(P=l[B],q=a[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Yt(t,n,B,P,l,q)}return;default:if(Ms(n)){for(var Kt in a)P=a[Kt],a.hasOwnProperty(Kt)&&P!==void 0&&!l.hasOwnProperty(Kt)&&Kf(t,n,Kt,void 0,l,P);for(G in l)P=l[G],q=a[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||Kf(t,n,G,P,l,q);return}}for(var M in a)P=a[M],a.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,P);for(F in l)P=l[F],q=a[F],!l.hasOwnProperty(F)||P===q||P==null&&q==null||Yt(t,n,F,P,l,q)}var Xf=null,Zf=null;function fu(t){return t.nodeType===9?t:t.ownerDocument}function mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jf=null;function x0(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(t){return yp.resolve(null).then(t).catch(z0)}:pp;function z0(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function _p(t,n){var a=n,l=0,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&_l(y.documentElement),a&2&&_l(y.body),a&4)for(a=y.head,_l(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Aa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(h),wl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);wl(n)}function Wf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wf(a),Ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function B0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Aa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function P0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function th(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function q0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var eh=null;function vp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Ep(t,n,a){switch(n=fu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Sn=new Map,Tp=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=et.d;et.d={f:j0,r:k0,D:H0,C:G0,L:Q0,m:F0,X:K0,S:Y0,M:X0};function j0(){var t=Ri.f(),n=iu();return t||n}function k0(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?jm(n):Ri.r(t)}var Xr=typeof document>"u"?null:document;function Ap(t,n,a){var l=Xr;if(l&&typeof n=="string"&&n){var c=he(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Tp.has(c)||(Tp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function H0(t){Ri.D(t),Ap("dns-prefetch",t,null)}function G0(t,n){Ri.C(t,n),Ap("preconnect",t,n)}function Q0(t,n,a){Ri.L(t,n,a);var l=Xr;if(l&&t&&n){var c='link[rel="preload"][as="'+he(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+he(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+he(a.imageSizes)+'"]')):c+='[href="'+he(t)+'"]';var h=c;switch(n){case"style":h=Zr(t);break;case"script":h=$r(t)}Sn.has(h)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Sn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(vl(h))||n==="script"&&l.querySelector(El(h))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function F0(t,n){Ri.m(t,n);var a=Xr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=$r(t)}if(!Sn.has(h)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(h)))return}l=a.createElement("link"),Le(l,"link",t),le(l),a.head.appendChild(l)}}}function Y0(t,n,a){Ri.S(t,n,a);var l=Xr;if(l&&t){var c=Ye(l).hoistableStyles,h=Zr(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(vl(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Sn.get(h))&&nh(t,a);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(B,G){b.onload=B,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,du(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function K0(t,n){Ri.X(t,n);var a=Xr;if(a&&t){var l=Ye(a).hoistableScripts,c=$r(t),h=l.get(c);h||(h=a.querySelector(El(c)),h||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&ih(t,n),h=a.createElement("script"),le(h),Le(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function X0(t,n){Ri.M(t,n);var a=Xr;if(a&&t){var l=Ye(a).hoistableScripts,c=$r(t),h=l.get(c);h||(h=a.querySelector(El(c)),h||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&ih(t,n),h=a.createElement("script"),le(h),Le(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Sp(t,n,a,l){var c=(c=mt.current)?hu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Zr(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Zr(a.href);var h=Ye(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(vl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Sn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sn.set(t,a),h||Z0(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$r(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Zr(t){return'href="'+he(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function bp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Z0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),le(n),t.head.appendChild(n))}function $r(t){return'[src="'+he(t)+'"]'}function El(t){return"script[async]"+t}function Rp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+he(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),du(l,a.precedence,t),n.instance=l;case"stylesheet":c=Zr(a.href);var h=t.querySelector(vl(c));if(h)return n.state.loading|=4,n.instance=h,le(h),h;l=bp(a),(c=Sn.get(c))&&nh(l,c),h=(t.ownerDocument||t).createElement("link"),le(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",l),n.state.loading|=4,du(h,a.precedence,t),n.instance=h;case"script":return h=$r(a.src),(c=t.querySelector(El(h)))?(n.instance=c,le(c),c):(l=a,(c=Sn.get(h))&&(l=A({},a),ih(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,du(l,a.precedence,t));return n.instance}function du(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function nh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ih(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mu=null;function wp(t,n,a){if(mu===null){var l=new Map,c=mu=new Map;c.set(a,l)}else c=mu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Aa]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Dp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function J0(){}function W0(t,n,a){if(Tl===null)throw Error(s(475));var l=Tl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Zr(a.href),h=t.querySelector(vl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=gu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,le(h);return}h=t.ownerDocument||t,a=bp(a),(c=Sn.get(c))&&nh(a,c),h=h.createElement("link"),le(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=gu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function tE(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function gu(){if(this.count--,this.count===0){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pu=null;function ah(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pu=new Map,n.forEach(eE,t),pu=null,gu.call(t))}function eE(t,n){if(!(n.state.loading&4)){var a=pu.get(t);if(a)var l=a.get(null);else{a=new Map,pu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=a.get(y)||l,h===l&&a.set(null,c),a.set(y,c),this.count++,l=gu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Al={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function nE(t,n,a,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Vp(t,n,a,l,c,h,y,E,b,B,G,F){return t=new nE(t,n,a,y,E,b,B,F),n=1,h===!0&&(n|=24),h=an(3,null,null,n),t.current=h,h.stateNode=t,n=Bc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},kc(h),t}function Ip(t){return t?(t=Cr,t):Cr}function Np(t,n,a,l,c,h){c=Ip(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ki(t,l,n),a!==null&&(un(a,t,n),Js(a,t,n))}function Op(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rh(t,n){Op(t,n),(t=t.alternate)&&Op(t,n)}function Mp(t){if(t.tag===13){var n=Dr(t,67108864);n!==null&&un(n,t,67108864),rh(t,67108864)}}var yu=!0;function iE(t,n,a,l){var c=H.T;H.T=null;var h=et.p;try{et.p=2,sh(t,n,a,l)}finally{et.p=h,H.T=c}}function aE(t,n,a,l){var c=H.T;H.T=null;var h=et.p;try{et.p=8,sh(t,n,a,l)}finally{et.p=h,H.T=c}}function sh(t,n,a,l){if(yu){var c=lh(l);if(c===null)Yf(t,n,l,_u,a),Up(t,l);else if(sE(c,t,n,a,l))l.stopPropagation();else if(Up(t,l),n&4&&-1<rE.indexOf(t)){for(;c!==null;){var h=Ln(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Rn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Zn(h),(kt&6)===0&&(eu=fn()+500,gl(0))}}break;case 13:E=Dr(h,2),E!==null&&un(E,h,2),iu(),rh(h,2)}if(h=lh(l),h===null&&Yf(t,n,l,_u,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else Yf(t,n,l,null,a)}}function lh(t){return t=mn(t),oh(t)}var _u=null;function oh(t){if(_u=null,t=ii(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _u=t,null}function xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cc()){case Es:return 2;case sr:return 8;case ya:case fc:return 32;case lr:return 268435456;default:return 32}default:return 32}}var uh=!1,ea=null,na=null,ia=null,Sl=new Map,bl=new Map,aa=[],rE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Rl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Mp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function sE(t,n,a,l,c){switch(n){case"focusin":return ea=Rl(ea,t,n,a,l,c),!0;case"dragenter":return na=Rl(na,t,n,a,l,c),!0;case"mouseover":return ia=Rl(ia,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Sl.set(h,Rl(Sl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,bl.set(h,Rl(bl.get(h)||null,t,n,a,l,c)),!0}return!1}function Lp(t){var n=ii(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,no(t.priority,function(){if(a.tag===13){var l=on();l=Oi(l);var c=Dr(a,l);c!==null&&un(c,a,l),rh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=lh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);li=l,a.target.dispatchEvent(l),li=null}else return n=Ln(a),n!==null&&Mp(n),t.blockedOn=a,!1;n.shift()}return!0}function zp(t,n,a){vu(t)&&a.delete(n)}function lE(){uh=!1,ea!==null&&vu(ea)&&(ea=null),na!==null&&vu(na)&&(na=null),ia!==null&&vu(ia)&&(ia=null),Sl.forEach(zp),bl.forEach(zp)}function Eu(t,n){t.blockedOn===n&&(t.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lE)))}var Tu=null;function Bp(t){Tu!==t&&(Tu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tu===t&&(Tu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(oh(l||a)===null)continue;break}var h=Ln(a);h!==null&&(t.splice(n,3),n-=3,of(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function wl(t){function n(b){return Eu(b,t)}ea!==null&&Eu(ea,t),na!==null&&Eu(na,t),ia!==null&&Eu(ia,t),Sl.forEach(n),bl.forEach(n);for(var a=0;a<aa.length;a++){var l=aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<aa.length&&(a=aa[0],a.blockedOn===null);)Lp(a),a.blockedOn===null&&aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],y=c[fe]||null;if(typeof h=="function")y||Bp(a);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[fe]||null)E=y.formAction;else if(oh(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Bp(a)}}}function ch(t){this._internalRoot=t}Au.prototype.render=ch.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=on();Np(a,l,t,n,null,null)},Au.prototype.unmount=ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Np(t.current,2,null,t,null,null),iu(),n[hn]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<aa.length&&n!==0&&n<aa[a].priority;a++);aa.splice(a,0,t),a===0&&Lp(t)}};var Pp=e.version;if(Pp!=="19.1.1")throw Error(s(527,Pp,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var oE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{ae=Su.inject(oE),jt=Su}catch{}}return Cl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=eg,h=ng,y=ig,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Vp(t,1,!1,null,null,a,l,c,h,y,E,null),t[hn]=n.current,Ff(t),new ch(n)},Cl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=eg,y=ng,E=ig,b=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Vp(t,1,!0,n,a??null,l,c,h,y,E,b,B),n.context=Ip(null),a=n.current,l=on(),l=Oi(l),c=ji(l),c.callback=null,ki(a,c,l),a=l,n.current.lanes=a,ni(n,a),Zn(n),t[hn]=n.current,Ff(t),new Au(n)},Cl.version="19.1.1",Cl}var Xp;function TE(){if(Xp)return dh.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dh.exports=EE(),dh.exports}var AE=TE();const SE=i_(AE),bE="modulepreload",RE=function(r,e){return new URL(r,e).href},Zp={},Lu=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let d=function(A){return Promise.all(A.map(I=>Promise.resolve(I).then(z=>({status:"fulfilled",value:z}),z=>({status:"rejected",reason:z}))))};const g=document.getElementsByTagName("link"),_=document.querySelector("meta[property=csp-nonce]"),v=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));o=d(i.map(A=>{if(A=RE(A,s),A in Zp)return;Zp[A]=!0;const I=A.endsWith(".css"),z=I?'[rel="stylesheet"]':"";if(!!s)for(let it=g.length-1;it>=0;it--){const J=g[it];if(J.href===A&&(!I||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${z}`))return;const Y=document.createElement("link");if(Y.rel=I?"stylesheet":bE,I||(Y.as="script"),Y.crossOrigin="",Y.href=A,v&&Y.setAttribute("nonce",v),document.head.appendChild(Y),I)return new Promise((it,J)=>{Y.addEventListener("load",it),Y.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${A}`)))})}))}function f(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&f(g.reason);return e().catch(f)})},wE=async()=>{var r,e;(e=(r=window.Capacitor)==null?void 0:r.isNativePlatform)!=null&&e.call(r)&&await(await Lu(()=>import("./admobNative-C5TPMrS1.js"),[],import.meta.url)).initMobApp()};var Nn=(r=>(r.Home="HOME",r.Game="GAME",r.Store="STORE",r))(Nn||{});const sa=({children:r,variant:e="primary",size:i="normal",fullWidth:s=!1,className:o="",...f})=>{const d="font-bold rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 flex items-center justify-center",g={primary:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white hover:opacity-90 shadow-lg shadow-cyan-500/20 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-cyan-400",secondary:"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-slate-500"},_={normal:"py-2 px-4 text-base",large:"py-3 px-6 text-lg"},v=s?"w-full":"w-auto",A=`${d} ${g[e]} ${_[i]} ${v} ${o}`;return tt.jsx("button",{className:A,...f,children:r})},DE=({navigate:r,onSuggestClick:e,onStartGame:i})=>{const[s,o]=pe.useState(!1),[f,d]=pe.useState(!1),g=async()=>{const _="https://play.google.com/store/apps/details?id=com.mrodr.yonunca";if(navigator.share)try{await navigator.share({title:"Yo Nunca",text:"¡Descarga Yo Nunca y juega con tus amigos!",url:_})}catch(v){console.error("Error compartiendo la app:",v)}else try{await navigator.clipboard.writeText(_),d(!0),setTimeout(()=>d(!1),2e3)}catch(v){console.error("No se pudo copiar al portapapeles",v)}};return tt.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 animate-fadeIn",children:[tt.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500 mb-4 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Yo Nunca"}),tt.jsx("p",{className:"text-slate-300 mb-12 text-lg",children:"El juego para revelar secretos."}),tt.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[tt.jsxs(sa,{onClick:()=>{i(s),r(Nn.Game)},fullWidth:!0,size:"large",children:[tt.jsx("i",{className:"fas fa-play mr-2"}),"Iniciar Partida"]}),tt.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[tt.jsx("input",{id:"include-adult",type:"checkbox",checked:s,onChange:_=>o(_.target.checked),className:"h-5 w-5"}),tt.jsx("label",{htmlFor:"include-adult",className:"text-sm text-slate-300",children:"Incluir +18"})]}),tt.jsxs(sa,{onClick:e,variant:"secondary",fullWidth:!0,children:[tt.jsx("i",{className:"fas fa-lightbulb mr-2"}),"Sugerir Frase"]}),tt.jsxs(sa,{onClick:()=>r(Nn.Store),variant:"secondary",fullWidth:!0,children:[tt.jsx("i",{className:"fas fa-store mr-2"}),"Tienda"]}),tt.jsxs(sa,{onClick:g,variant:"secondary",fullWidth:!0,children:[tt.jsx("i",{className:"fas fa-share-alt mr-2"}),f?"¡Enlace copiado!":"Compartir App"]})]})]})};var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},CE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=f>>2,I=(f&3)<<4|g>>4;let z=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(z=64)),s.push(i[A],i[I],i[z],i[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(a_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const I=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||g==null||v==null||I==null)throw new VE;const z=f<<2|g>>4;if(s.push(z),v!==64){const k=g<<4&240|v>>2;if(s.push(k),I!==64){const Y=v<<6&192|I;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IE=function(r){const e=a_(r);return r_.encodeByteArray(e,!0)},zu=function(r){return IE(r).replace(/\./g,"")},NE=function(r){try{return r_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=()=>OE().__FIREBASE_DEFAULTS__,xE=()=>{if(typeof process>"u"||typeof $p>"u")return;const r=$p.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&NE(r[1]);return e&&JSON.parse(e)},Xh=()=>{try{return ME()||xE()||UE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>{var e,i;return(i=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},zE=r=>{const e=LE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},s_=()=>{var r;return(r=Xh())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zu(JSON.stringify(i)),zu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jE(){var r;const e=(r=Xh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kE(){return!jE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HE(){try{return typeof indexedDB=="object"}catch{return!1}}function GE(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="FirebaseError";class ds extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=QE,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?FE(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ds(o,g,s)}}function FE(r,e){return r.replace(YE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YE=/\{\$([^}]+)}/g;function wh(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if(Jp(f)&&Jp(d)){if(!wh(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Jp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(r){return r&&r._delegate?r._delegate:r}class Bl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new BE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZE(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&e(d,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XE(r){return r===$a?void 0:r}function ZE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const JE={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},WE=Mt.INFO,tT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},eT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=tT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=WE,this._logHandler=eT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const nT=(r,e)=>e.some(i=>r instanceof i);let Wp,ty;function iT(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aT(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u_=new WeakMap,Dh=new WeakMap,c_=new WeakMap,yh=new WeakMap,Zh=new WeakMap;function rT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(oa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&u_.set(i,r)}).catch(()=>{}),Zh.set(e,r),e}function sT(r){if(Dh.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Dh.set(r,e)}let Ch={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Dh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||c_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return oa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lT(r){Ch=r(Ch)}function oT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(_h(this),e,...i);return c_.set(s,e.sort?e.sort():[e]),oa(s)}:aT().includes(r)?function(...e){return r.apply(_h(this),e),oa(u_.get(this))}:function(...e){return oa(r.apply(_h(this),e))}}function uT(r){return typeof r=="function"?oT(r):(r instanceof IDBTransaction&&sT(r),nT(r,iT())?new Proxy(r,Ch):r)}function oa(r){if(r instanceof IDBRequest)return rT(r);if(yh.has(r))return yh.get(r);const e=uT(r);return e!==r&&(yh.set(r,e),Zh.set(e,r)),e}const _h=r=>Zh.get(r);function cT(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),g=oa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(oa(d.result),_.oldVersion,_.newVersion,oa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const fT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],vh=new Map;function ey(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=hT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fT.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return vh.set(e,f),f}lT(r=>({...r,get:(e,i,s)=>ey(e,i)||r.get(e,i,s),has:(e,i)=>!!ey(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(mT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function mT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vh="@firebase/app",ny="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new o_("@firebase/app"),gT="@firebase/app-compat",pT="@firebase/analytics-compat",yT="@firebase/analytics",_T="@firebase/app-check-compat",vT="@firebase/app-check",ET="@firebase/auth",TT="@firebase/auth-compat",AT="@firebase/database",ST="@firebase/data-connect",bT="@firebase/database-compat",RT="@firebase/functions",wT="@firebase/functions-compat",DT="@firebase/installations",CT="@firebase/installations-compat",VT="@firebase/messaging",IT="@firebase/messaging-compat",NT="@firebase/performance",OT="@firebase/performance-compat",MT="@firebase/remote-config",xT="@firebase/remote-config-compat",UT="@firebase/storage",LT="@firebase/storage-compat",zT="@firebase/firestore",BT="@firebase/vertexai-preview",PT="@firebase/firestore-compat",qT="firebase",jT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]",kT={[Vh]:"fire-core",[gT]:"fire-core-compat",[yT]:"fire-analytics",[pT]:"fire-analytics-compat",[vT]:"fire-app-check",[_T]:"fire-app-check-compat",[ET]:"fire-auth",[TT]:"fire-auth-compat",[AT]:"fire-rtdb",[ST]:"fire-data-connect",[bT]:"fire-rtdb-compat",[RT]:"fire-fn",[wT]:"fire-fn-compat",[DT]:"fire-iid",[CT]:"fire-iid-compat",[VT]:"fire-fcm",[IT]:"fire-fcm-compat",[NT]:"fire-perf",[OT]:"fire-perf-compat",[MT]:"fire-rc",[xT]:"fire-rc-compat",[UT]:"fire-gcs",[LT]:"fire-gcs-compat",[zT]:"fire-fst",[PT]:"fire-fst-compat",[BT]:"fire-vertex","fire-js":"fire-js",[qT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new Map,HT=new Map,Nh=new Map;function iy(r,e){try{r.container.addComponent(e)}catch(i){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Pu(r){const e=r.name;if(Nh.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Nh.set(e,r);for(const i of Bu.values())iy(i,r);for(const i of HT.values())iy(i,r);return!0}function GT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new l_("app","Firebase",QT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=jT;function f_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ih,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(i||(i=s_()),!i)throw ua.create("no-options");const f=Bu.get(o);if(f){if(wh(i,f.options)&&wh(s,f.config))return f;throw ua.create("duplicate-app",{appName:o})}const d=new $E(o);for(const _ of Nh.values())d.addComponent(_);const g=new FT(i,s,d);return Bu.set(o,g),g}function KT(r=Ih){const e=Bu.get(r);if(!e&&r===Ih&&s_())return f_();if(!e)throw ua.create("no-app",{appName:r});return e}function ns(r,e,i){var s;let o=(s=kT[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const f=o.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${o}" with version "${e}":`];f&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(g.join(" "));return}Pu(new Bl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-heartbeat-database",ZT=1,Pl="firebase-heartbeat-store";let Eh=null;function h_(){return Eh||(Eh=cT(XT,ZT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ua.create("idb-open",{originalErrorMessage:r.message})})),Eh}async function $T(r){try{const i=(await h_()).transaction(Pl),s=await i.objectStore(Pl).get(d_(r));return await i.done,s}catch(e){if(e instanceof ds)Ci.warn(e.message);else{const i=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(i.message)}}}async function ay(r,e){try{const s=(await h_()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,d_(r)),await s.done}catch(i){if(i instanceof ds)Ci.warn(i.message);else{const s=ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ci.warn(s.message)}}}function d_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1024,WT=720*60*60*1e3;class tA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=ry();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=WT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ry(),{heartbeatsToSend:s,unsentEntries:o}=eA(this._heartbeatsCache.heartbeats),f=zu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Ci.warn(i),""}}}function ry(){return new Date().toISOString().substring(0,10)}function eA(r,e=JT){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),sy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),sy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class nA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HE()?GE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $T(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sy(r){return zu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r){Pu(new Bl("platform-logger",e=>new dT(e),"PRIVATE")),Pu(new Bl("heartbeat",e=>new tA(e),"PRIVATE")),ns(Vh,ny,r),ns(Vh,ny,"esm2017"),ns("fire-js","")}iA("");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,m_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,O,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)V[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)V[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],O=N.g[2];var x=N.g[3],R=S+(x^w&(O^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[2]+606105819&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[6]+2821735955&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[10]+4294925233&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+V[14]+2792965006&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^x&(w^O))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[11]+643717713&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[15]+3634488961&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[3]+4107603335&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+V[7]+1735328473&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[11]+1839030562&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[7]+4139469664&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[3]+3572445317&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+V[15]+530742520&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[14]+2878612391&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[10]+4293915773&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[6]+2734768916&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+V[2]+718787259&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+x&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,O=this.h,x=0;x<S;){if(O==0)for(;x<=w;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(V[O++]=N.charCodeAt(x++),O==this.blockSize){o(this,V),O=0;break}}else for(;x<S;)if(V[O++]=N[x++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function f(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],V=!0,O=N.length-1;0<=O;O--){var x=N[O]|0;V&&x==S||(w[O]=x,V=!1)}this.g=w}var g={};function _(N){return-128<=N&&128>N?f(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return J(v(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=I,O=0;O<N.length;O+=8){var x=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+x),S);8>x?(x=v(Math.pow(S,x)),V=V.j(x).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var I=_(0),z=_(1),k=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(it(this))return"-"+J(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,V="";;){var O=Pt(w,S).g;w=Dt(w,O.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,Y(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=Dt(this,N),it(N)?-1:Y(N)?0:1};function J(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(z)}r.abs=function(){return it(this)?J(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,O=0;O<=S;O++){var x=V+(this.i(O)&65535)+(N.i(O)&65535),R=(x>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,x&=65535,R&=65535,w[O]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Dt(N,S){return N.add(J(S))}r.j=function(N){if(Y(this)||Y(N))return I;if(it(this))return it(N)?J(this).j(J(N)):J(J(this).j(N));if(it(N))return J(this.j(J(N)));if(0>this.l(k)&&0>N.l(k))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<N.g.length;O++){var x=this.i(V)>>>16,R=this.i(V)&65535,Ne=N.i(O)>>>16,ie=N.i(O)&65535;w[2*V+2*O]+=R*ie,At(w,2*V+2*O),w[2*V+2*O+1]+=x*ie,At(w,2*V+2*O+1),w[2*V+2*O+1]+=R*Ne,At(w,2*V+2*O+1),w[2*V+2*O+2]+=x*Ne,At(w,2*V+2*O+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function At(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function _t(N,S){this.g=N,this.h=S}function Pt(N,S){if(Y(S))throw Error("division by zero");if(Y(N))return new _t(I,I);if(it(N))return S=Pt(J(N),S),new _t(J(S.g),J(S.h));if(it(S))return S=Pt(N,J(S)),new _t(J(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=z,V=S;0>=V.l(N);)w=vt(w),V=vt(V);var O=Lt(w,1),x=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!Y(V);){var R=x.add(V);0>=R.l(N)&&(O=O.add(w),x=R),V=Lt(V,1),w=Lt(w,1)}return S=Dt(N,O.j(S)),new _t(O,S)}for(O=I;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=v(w),R=x.j(S);it(R)||0<R.l(N);)w-=V,x=v(w),R=x.j(S);Y(x)&&(x=z),O=O.add(x),N=Dt(N,R)}return new _t(O,N)}r.A=function(N){return Pt(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function vt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function Lt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,O=[],x=0;x<V;x++)O[x]=0<S?N.i(x+w)>>>S|N.i(x+w+1)<<32-S:N.i(x+w);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,m_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,tr=d}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g_,Il,p_,Iu,Oh,y_,__,v_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bu=="object"&&bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function z(u,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,z.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Y(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,j){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,W)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,j=T.length||0;u.length=U+j;for(let W=0;W<j;W++)u[U+W]=T[W]}else u.push(T)}}class Dt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var vt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Dt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,zt=new Ne,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){x(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function St(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Pt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}Y(St,$);var mt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Ni(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,m,p,T,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=ga(u,m,T,U);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new xn(m,this.src,j,!!T,U),m.fa=p,u.push(m)),m};function ma(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(T,U,1),j&&(Ni(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ga(u,m,p,T){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var pa="closure_lm_"+(1e6*Math.random()|0),vs={};function Wl(u,m,p,T,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Wl(u,m[j],p,T,U);return null}return p=to(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,U):fn(u,m,p,!1,T,U)}function fn(u,m,p,T,U,j){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,Vt=lr(u);if(Vt||(u[pa]=Vt=new ti(u)),p=Vt.add(m,p,T,W,j),p.proxy)return p;if(T=cc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ya(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function cc(){function u(p){return m.call(u.src,u.listener,p)}const m=fc;return u}function Es(u,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Es(u,m[j],p,T,U);else T=v(T)?!!T.capture:!!T,p=to(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=ga(j,p,T,U),-1<p&&(Ni(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ga(m,p,T,U)),(p=-1<u?m[u]:null)&&sr(p))}function sr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])ma(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(ya(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=lr(m))?(ma(p,u),p.h==0&&(p.src=null,m[pa]=null)):Ni(u)}}}function ya(u){return u in vs?vs[u]:vs[u]="on"+u}function fc(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&sr(u),u=p.call(T,m)}return u}function lr(u){return u=u[pa],u instanceof ti?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function ae(){nt.call(this),this.i=new ti(this),this.M=this,this.F=null}Y(ae,nt),ae.prototype[be]=!0,ae.prototype.removeEventListener=function(u,m,p,T){Es(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(T,u),V(m,U)}if(U=!0,p)for(var j=p.length-1;0<=j;j--){var W=m.g=p[j];U=tn(W,T,!0,m)&&U}if(W=m.g=u,U=tn(W,T,!0,m)&&U,U=tn(W,T,!1,m)&&U,p)for(j=0;j<p.length;j++)W=m.g=p[j],U=tn(W,T,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ni(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function tn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==p){var Vt=W.listener,ve=W.ha||W.src;W.fa&&ma(u.i,W),U=Vt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function je(u,m,p){if(typeof u=="function")p&&(u=z(u,p));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function eo(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(u){nt.call(this),this.h=u,this.g={}}Y(_a,nt);var va=[];function Ea(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&sr(m)},u),u.g={}}_a.prototype.N=function(){_a.aa.N.call(this),Ea(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,or=g.JSON.parse,Ta=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function As(){}As.prototype.h=null;function Ss(u){return u.h||(u.h=u.i())}function bs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){$.call(this,"d")}Y(ni,$);function Rs(){$.call(this,"c")}Y(Rs,$);var Un={},ws=null;function Oi(){return ws=ws||new ae}Un.La="serverreachability";function ur(u){$.call(this,Un.La,u)}Y(ur,$);function Mi(u){const m=Oi();jt(m,new ur(m))}Un.STAT_EVENT="statevent";function no(u,m){$.call(this,Un.STAT_EVENT,u),this.stat=m}Y(no,$);function Wt(u){const m=Oi();jt(m,new no(m,u))}Un.Ma="timingevent";function _e(u,m){$.call(this,Un.Ma,u),this.size=m}Y(_e,$);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Ds(u,m,p,T,U,j){u.info(function(){if(u.g)if(j)for(var W="",Vt=j.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var we=It[0];It=It[1];var Ee=we.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(we+"="+It+"&"):W+(we+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function dc(u,m,p,T,U,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+W})}function xi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Aa(u,p)+(T?" "+T:"")})}function io(u,m){u.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Aa(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Rn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}Y(zn,As),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new _a(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Cs={},cr={};function wn(u,m,p){u.L=1,u.v=Da(en(m)),u.m=p,u.P=!0,ai(u,null)}function ai(u,m){u.F=Date.now(),Sa(u),u.A=en(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),xs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=Eo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new hc(z(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(va[0]=U.toString()),U=va);for(var j=0;j<U.length;j++){var W=Wl(p,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Mi(),Ds(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&pn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=pn(this.g);var m=this.g.Ba();const hi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||fo(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=hi?Mi(3):Mi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(ao(this)){var T=fo(this.g);u="";var U=T.length,j=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,dc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Vt)){var It=Vt;break e}}It=null}if(p=It)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),Bn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=ro(this,W),Me==cr){Ee==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Cs){this.s=4,Wt(15),xi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Me,null),ba(this,Me);if(ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Ua(we),we.M=!0,Wt(11))}}else xi(this.i,this.l,W,null),ba(this,W);Ee==4&&Oe(this),this.o&&!this.J&&(Ee==4?yo(this.j,this):(this.o=!1,Sa(this)))}else _c(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),Bn(this)}}}catch{}finally{}};function ao(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ro(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?cr:(p=Number(m.substring(p,T)),isNaN(p)?Cs:(T+=1,T+p>m.length?cr:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Sa(u){u.S=Date.now()+u.I,so(u,u.I)}function so(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(z(u.ba,u),m)}function Li(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(io(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Oe(this),this.s=2,Bn(this)):so(this,this.S-u)};function Bn(u){u.j.G==0||u.J||yo(u.j,u)}function Oe(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ea(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ba(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Vs(p.h,u))){if(!u.K&&Vs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ar(p),Er(p);else break t;Ps(p),Wt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(z(p.Za,p),6e3));if(1>=hr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((u.K||p.g==u)&&Ar(p),!At(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let It=U[m];if(p.T=It[0],It=It[1],p.G==2)if(It[0]=="c"){p.K=It[1],p.ia=It[2];const we=It[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const Ee=It[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const hi=It[5];hi!=null&&typeof hi=="number"&&0<hi&&(T=1.5*hi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var j=T.h;j.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(dr(j,j.h),j.h=null))}if(T.D){const js=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.ya=js,Qt(T.I,T.D,js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=vo(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Vt=W,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Li(Vt),Sa(Vt)),T.g=W}else go(T);0<p.i.length&&Tr(p)}else It[0]!="stop"&&It[0]!="close"||fi(p,7);else p.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?fi(p,7):zs(p):It[0]!="noop"&&p.l&&p.l.ta(It),p.v=0)}}Mi(4)}catch{}}var lo=class{constructor(u,m){this.g=u,this.map=m}};function ri(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hr(u){return u.h?1:u.g?u.g.size:0}function Vs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function dr(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ri.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Is(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function mc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function mr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ns(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=mr(u),T=mc(u),U=T.length,j=0;j<U;j++)m.call(void 0,T[j],p&&p[j],u)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var j=u[p].substring(0,T);U=u[p].substring(T+1)}else j=u[p];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function he(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof he){this.h=u.h,wa(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var m=u.i,p=new li;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),si(this,p),this.m=u.m}else u&&(m=String(u).match(Ra))?(this.h=!1,wa(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),zi(this,m[4]),this.l=dn(m[5]||"",!0),si(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}he.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ca(m,Os,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ca(m,Os,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ca(p,p.charAt(0)=="/"?pc:Ms,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ca(p,gr)),u.join("")};function en(u){return new he(u)}function wa(u,m,p){u.j=p?dn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function si(u,m,p){m instanceof li?(u.i=m,uo(u.i,u.h)):(p||(m=Ca(m,yc)),u.i=new li(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Da(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ca(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,oo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Os=/[#\/\?@]/g,Ms=/[#\?:]/g,pc=/[#\?]/g,yc=/[#\?@]/g,gr=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&gc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=li.prototype,r.add=function(u,m){mn(this),this.i=null,u=Pn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function oi(u,m){mn(u),m=Pn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ui(u,m){return mn(u),m=Pn(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let j=0;j<U.length;j++)p.push(m[T])}return p},r.V=function(u){mn(this);let m=[];if(typeof u=="string")ui(this,u)&&(m=m.concat(this.g.get(Pn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return mn(this),this.i=null,u=Pn(this,u),ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function xs(u,m,p){oi(u,m),0<p.length&&(u.i=null,u.g.set(Pn(u,m),it(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=j;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function Pn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uo(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(oi(this,T),xs(this,U,p))},u)),u.j=m}function Va(u,m){const p=new hn;if(g.Image){const T=new Image;T.onload=k(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dn(u,m){const p=new hn,T=new AbortController,U=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),gn(p,"TestPingServer: error",!1,m)})}function gn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ia(){this.g=new Ta}function qn(u,m,p){const T=p||"";try{Ns(u,function(U,j){let W=U;v(U)&&(W=Rn(U)),m.push(T+j+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Bi,As),Bi.prototype.g=function(){return new ci(this.l,this.j)},Bi.prototype.i=(function(u){return function(){return u}})({});function ci(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ci,ae),r=ci.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Us(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Us(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):kn(this),this.readyState==3&&Us(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},r.Qa=function(u){this.g&&(this.response=u,jn(this))},r.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ls(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ls(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function qt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(qt,ae);var pr=/^https?$/i,Na=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ss(this.o):Ss(Ln),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){co(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Na,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of p)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){co(this,j)}};function co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,yr(u),Hn(u)}function yr(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?_r(this):this.bb())},r.bb=function(){_r(this)};function _r(u){if(u.h&&typeof d<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)je(u.Ea,0,u);else if(jt(u,"readystatechange"),pn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var U=String(u.D).match(Ra)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!pr.test(U?U.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var j=2<pn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",yr(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){Oa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Oa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),or(m)}};function fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _c(u){const m={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var p=O(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}N(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function vr(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,u),this.cb=Ma("retryDelaySeedMs",1e4,u),this.Wa=Ma("forwardChannelMaxRetries",2,u),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new Ia,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=vr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=vo(this,null,this.W),Tr(this)};function zs(u){if(ho(u),u.G==3){var m=u.U++,p=en(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),xa(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Da(en(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Eo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Sa(m)}_o(u)}function Er(u){u.g&&(Ua(u),u.g.cancel(),u.g=null)}function ho(u){Er(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ar(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Tr(u){if(!fr(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.B=0}}function vc(u,m){return hr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(z(u.Ga,u,m),qs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),V(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=mo(this,U,m),p=en(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),xa(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Ls(j)))+"&"+m:this.m&&Re(p,this.m,j)),dr(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,wn(U,p,null)):wn(U,p,m),this.G=2}}else this.G==3&&(u?Bs(this,u):this.i.length==0||fr(this.h)||Bs(this))};function Bs(u,m){var p;m?p=m.l:p=u.U++;const T=en(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),xa(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=mo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),dr(u.h,p),wn(p,T,m)}function xa(u,m){u.H&&Lt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Ns({},function(p,T){Qt(m,T,p)})}function mo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?z(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const W=["count="+p];j==-1?0<p?(j=U[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Vt=!0;for(let ve=0;ve<p;ve++){let It=U[ve].g;const we=U[ve].map;if(It-=j,0>It)j=Math.max(0,U[ve].g-100),Vt=!1;else try{qn(we,W,"req"+It+"_")}catch{T&&T(we)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function go(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.v=0}}function Ps(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(z(u.Fa,u),qs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,po(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(z(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Er(this),po(this))};function Ua(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function po(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=en(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),xa(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Da(en(m)),p.m=null,p.P=!0,ai(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Er(this),Ps(this),Wt(19))};function Ar(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function yo(u,m){var p=null;if(u.g==m){Ar(u),Ua(u),u.g=null;var T=2}else if(Vs(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Oi(),jt(T,new _e(T,p)),Tr(u)}else go(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&vc(u,m)||T==2&&Ps(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function qs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var p=z(u.fb,u),T=u.Xa;const U=!T;T=new he(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wa(T,"https"),Da(T),U?Va(T.toString(),p):Dn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),_o(u),ho(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function _o(u){if(u.G=0,u.ka=[],u.l){const m=Is(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function vo(u,m,p){var T=p instanceof he?en(p):new he(p);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new he(null);T&&wa(j,T),m&&(j.g=m),U&&zi(j,U),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),xa(u,T),T}function Eo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Bi({eb:p})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}r=To.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Sr(){}Sr.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ae.call(this),this.g=new vr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}Y(Xe,ae),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){zs(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new lo(m.Ya++,u)),m.G==3&&Tr(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,Xe.aa.N.call(this)};function Ao(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Ao,ni);function So(){Rs.call(this),this.status=1}Y(So,Rs);function Gn(u){this.g=u}Y(Gn,To),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(u){jt(this.g,new Ao(u))},Gn.prototype.sa=function(u){jt(this.g,new So)},Gn.prototype.ra=function(){jt(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,v_=function(){return new Sr},__=function(){return Oi()},y_=Un,Oh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Iu=Ui,ii.COMPLETE="complete",p_=ii,bs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Il=bs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,g_=qt}).apply(typeof bu<"u"?bu:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new o_("@firebase/firestore");function Vl(){return er.logLevel}function st(r,...e){if(er.logLevel<=Mt.DEBUG){const i=e.map($h);er.debug(`Firestore (${ms}): ${r}`,...i)}}function Vi(r,...e){if(er.logLevel<=Mt.ERROR){const i=e.map($h);er.error(`Firestore (${ms}): ${r}`,...i)}}function rs(r,...e){if(er.logLevel<=Mt.WARN){const i=e.map($h);er.warn(`Firestore (${ms}): ${r}`,...i)}}function $h(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r="Unexpected state"){const e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+r;throw Vi(e),new Error(e)}function Gt(r,e){r||gt()}function yt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class rA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new wi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new wi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new E_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class lA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new lA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Gt(this.o===void 0);const s=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new uA(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=fA(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%e.length))}return s}}function Ut(r,e){return r<e?-1:r>e?1:0}function ss(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new Se(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Se(0,0))}static max(){return new pt(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(),s===void 0?s=e.length-i:s>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=e.get(o),d=i.get(o);if(f<d)return-1;if(f>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Jt extends ql{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const hA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ql{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return hA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}function dA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new fa(o,ut.empty(),e)}function mA(r){return new fa(r.readTime,r.key,-1)}class fa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new fa(pt.min(),ut.empty(),-1)}static max(){return new fa(pt.max(),ut.empty(),-1)}}function gA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:Ut(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==pA)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,f=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++f,d&&f===o&&i()}),(_=>s(_)))})),d=!0,f===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++g,g===f&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function _A(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Yl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jh.oe=-1;function Xu(r){return r==null}function qu(r){return r===0&&1/r==-1/0}function vA(r){return typeof r=="number"&&Number.isInteger(r)&&!qu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function gs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function A_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,s,o,f){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new cy(this.data.getIterator())}getIteratorFrom(e){return new cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pe(this.comparator);return i.data=e,i}}class cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new On([])}unionWith(e){let i=new Pe(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new S_("Invalid base64 string: "+f):f}})(e);return new qe(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(r){if(Gt(!!r),typeof r=="string"){let e=0;const i=EA.exec(r);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function nr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function td(r){const e=r.mapValue.fields.__previous_value__;return Wh(e)?td(e):e}function jl(r){const e=ha(r.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i,s,o,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class kl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={mapValue:{}};function ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wh(r)?4:SA(r)?9007199254740991:AA(r)?10:11:gt()}function Wn(r,e){if(r===e)return!0;const i=ir(r);if(i!==ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jl(r).isEqual(jl(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=ha(o.timestampValue),g=ha(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return nr(o.bytesValue).isEqual(nr(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ce(o.geoPointValue.latitude)===ce(f.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ce(o.integerValue)===ce(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ce(o.doubleValue),g=ce(f.doubleValue);return d===g?qu(d)===qu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return ss(r.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(uy(d)!==uy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Wn(d[_],g[_])))return!1;return!0})(r,e);default:return gt()}}function Hl(r,e){return(r.values||[]).find((i=>Wn(i,e)))!==void 0}function ls(r,e){if(r===e)return 0;const i=ir(r),s=ir(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const g=ce(f.integerValue||f.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return fy(r.timestampValue,e.timestampValue);case 4:return fy(jl(r),jl(e));case 5:return Ut(r.stringValue,e.stringValue);case 6:return(function(f,d){const g=nr(f),_=nr(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Ut(g[v],_[v]);if(A!==0)return A}return Ut(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const g=Ut(ce(f.latitude),ce(d.latitude));return g!==0?g:Ut(ce(f.longitude),ce(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return hy(r.arrayValue,e.arrayValue);case 10:return(function(f,d){var g,_,v,A;const I=f.fields||{},z=d.fields||{},k=(g=I.value)===null||g===void 0?void 0:g.arrayValue,Y=(_=z.value)===null||_===void 0?void 0:_.arrayValue,it=Ut(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((A=Y==null?void 0:Y.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:hy(k,Y)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===wu.mapValue&&d===wu.mapValue)return 0;if(f===wu.mapValue)return 1;if(d===wu.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let I=0;I<_.length&&I<A.length;++I){const z=Ut(_[I],A[I]);if(z!==0)return z;const k=ls(g[_[I]],v[A[I]]);if(k!==0)return k}return Ut(_.length,A.length)})(r.mapValue,e.mapValue);default:throw gt()}}function fy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ut(r,e);const i=ha(r),s=ha(e),o=Ut(i.seconds,s.seconds);return o!==0?o:Ut(i.nanos,s.nanos)}function hy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=ls(i[o],s[o]);if(f)return f}return Ut(i.length,s.length)}function os(r){return Mh(r)}function Mh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ha(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return nr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=Mh(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${Mh(i.fields[d])}`;return o+"}"})(r.mapValue):gt()}function dy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xh(r){return!!r&&"integerValue"in r}function ed(r){return!!r&&"arrayValue"in r}function my(r){return!!r&&"nullValue"in r}function gy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nu(r){return!!r&&"mapValue"in r}function AA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function SA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Nu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=xl(d):o.push(g.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Nu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Nu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){gs(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new bn(xl(this.value))}}function b_(r){const e=[];return gs(r.fields,((i,s)=>{const o=new Be([i]);if(Nu(s)){const f=b_(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,pt.min(),pt.min(),pt.min(),bn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,pt.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,pt.min(),pt.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,pt.min(),pt.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,i){this.position=e,this.inclusive=i}}function py(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=ls(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function yy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Wn(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i="asc"){this.field=e,this.dir=i}}function bA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{}class ye extends R_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new wA(e,i,s):i==="array-contains"?new VA(e,s):i==="in"?new IA(e,s):i==="not-in"?new NA(e,s):i==="array-contains-any"?new OA(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new DA(e,s):new CA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ls(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends R_{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Mn(e,i)}matches(e){return w_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function w_(r){return r.op==="and"}function D_(r){return RA(r)&&w_(r)}function RA(r){for(const e of r.filters)if(e instanceof Mn)return!1;return!0}function Uh(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+os(r.value);if(D_(r))return r.filters.map((e=>Uh(e))).join(",");{const e=r.filters.map((i=>Uh(i))).join(",");return`${r.op}(${e})`}}function C_(r,e){return r instanceof ye?(function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&Wn(s.value,o.value)})(r,e):r instanceof Mn?(function(s,o){return o instanceof Mn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,g)=>f&&C_(d,o.filters[g])),!0):!1})(r,e):void gt()}function V_(r){return r instanceof ye?(function(i){return`${i.field.canonicalString()} ${i.op} ${os(i.value)}`})(r):r instanceof Mn?(function(i){return i.op.toString()+" {"+i.getFilters().map(V_).join(" ,")+"}"})(r):"Filter"}class wA extends ye{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class DA extends ye{constructor(e,i){super(e,"in",i),this.keys=I_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class CA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=I_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function I_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>ut.fromName(s.referenceValue)))}class VA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Hl(i.arrayValue,this.value)}}class IA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class NA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Hl(this.value.arrayValue,i)}}class OA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Hl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function _y(r,e=null,i=[],s=[],o=null,f=null,d=null){return new MA(r,e,i,s,o,f,d)}function nd(r){const e=yt(r);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Uh(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),Xu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>os(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>os(s))).join(",")),e.ue=i}return e.ue}function id(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!bA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!C_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yy(r.startAt,e.startAt)&&yy(r.endAt,e.endAt)}function Lh(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xA(r,e,i,s,o,f,d,g){return new Kl(r,e,i,s,o,f,d,g)}function ad(r){return new Kl(r)}function vy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function N_(r){return r.collectionGroup!==null}function Ul(r){const e=yt(r);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pe(Be.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new ku(f,s))})),i.has(Be.keyField().canonicalString())||e.ce.push(new ku(Be.keyField(),s))}return e.ce}function $n(r){const e=yt(r);return e.le||(e.le=UA(e,Ul(r))),e.le}function UA(r,e){if(r.limitType==="F")return _y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new ku(o.field,f)}));const i=r.endAt?new ju(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ju(r.startAt.position,r.startAt.inclusive):null;return _y(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function zh(r,e){const i=r.filters.concat([e]);return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Bh(r,e,i){return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Zu(r,e){return id($n(r),$n(e))&&r.limitType===e.limitType}function O_(r){return`${nd($n(r))}|lt:${r.limitType}`}function Wr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>V_(o))).join(", ")}]`),Xu(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>os(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>os(o))).join(",")),`Target(${s})`})($n(r))}; limitType=${r.limitType})`}function $u(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ut.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of Ul(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const v=py(d,g,_);return d.inclusive?v<=0:v<0})(s.startAt,Ul(s),o)||s.endAt&&!(function(d,g,_){const v=py(d,g,_);return d.inclusive?v>=0:v>0})(s.endAt,Ul(s),o))})(r,e)}function LA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M_(r){return(e,i)=>{let s=!1;for(const o of Ul(r)){const f=zA(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function zA(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):(function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?ls(_,v):gt()})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return A_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new ne(ut.comparator);function Ii(){return BA}const x_=new ne(ut.comparator);function Nl(...r){let e=x_;for(const i of r)e=e.insert(i.key,i);return e}function U_(r){let e=x_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Wa(){return Ll()}function L_(){return Ll()}function Ll(){return new ps((r=>r.toString()),((r,e)=>r.isEqual(e)))}const PA=new ne(ut.comparator),qA=new Pe(ut.comparator);function Ct(...r){let e=qA;for(const i of r)e=e.add(i);return e}const jA=new Pe(Ut);function kA(){return jA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function z_(r){return{integerValue:""+r}}function HA(r,e){return vA(e)?z_(e):rd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this._=void 0}}function GA(r,e,i){return r instanceof Hu?(function(o,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Wh(f)&&(f=td(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}})(i,e):r instanceof Gl?P_(r,e):r instanceof Ql?q_(r,e):(function(o,f){const d=B_(o,f),g=Ey(d)+Ey(o.Pe);return xh(d)&&xh(o.Pe)?z_(g):rd(o.serializer,g)})(r,e)}function QA(r,e,i){return r instanceof Gl?P_(r,e):r instanceof Ql?q_(r,e):i}function B_(r,e){return r instanceof Gu?(function(s){return xh(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class Hu extends Ju{}class Gl extends Ju{constructor(e){super(),this.elements=e}}function P_(r,e){const i=j_(e);for(const s of r.elements)i.some((o=>Wn(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ql extends Ju{constructor(e){super(),this.elements=e}}function q_(r,e){let i=j_(e);for(const s of r.elements)i=i.filter((o=>!Wn(o,s)));return{arrayValue:{values:i}}}class Gu extends Ju{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Ey(r){return ce(r.integerValue||r.doubleValue)}function j_(r){return ed(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function FA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Gl&&o instanceof Gl||s instanceof Ql&&o instanceof Ql?ss(s.elements,o.elements,Wn):s instanceof Gu&&o instanceof Gu?Wn(s.Pe,o.Pe):s instanceof Hu&&o instanceof Hu})(r.transform,e.transform)}class YA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wu{}function k_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new G_(r.key,Di.none()):new Xl(r.key,r.data,Di.none());{const i=r.data,s=bn.empty();let o=new Pe(Be.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new ar(r.key,s,new On(o.toArray()),Di.none())}}function KA(r,e,i){r instanceof Xl?(function(o,f,d){const g=o.value.clone(),_=Ay(o.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ar?(function(o,f,d){if(!Ou(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Ay(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(H_(o)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zl(r,e,i,s){return r instanceof Xl?(function(f,d,g,_){if(!Ou(f.precondition,d))return g;const v=f.value.clone(),A=Sy(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,s):r instanceof ar?(function(f,d,g,_){if(!Ou(f.precondition,d))return g;const v=Sy(f.fieldTransforms,_,d),A=d.data;return A.setAll(H_(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((I=>I.field)))})(r,e,i,s):(function(f,d,g){return Ou(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function XA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=B_(s.transform,o||null);f!=null&&(i===null&&(i=bn.empty()),i.set(s.field,f))}return i||null}function Ty(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ss(s,o,((f,d)=>FA(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xl extends Wu{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ar extends Wu{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function H_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Ay(r,e,i){const s=new Map;Gt(r.length===i.length);for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,QA(d,g,i[o]))}return s}function Sy(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,GA(f,d,e))}return s}class G_ extends Wu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends Wu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&KA(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=L_();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const _=k_(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,((i,s)=>Ty(i,s)))&&ss(this.baseMutations,e.baseMutations,((i,s)=>Ty(i,s)))}}class sd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=(function(){return PA})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new sd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ot;function tS(r){switch(r){default:return gt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Q_(r){if(r===void 0)return Vi("GRPC error has no .code"),K.UNKNOWN;switch(r){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return gt()}}(Ot=ge||(ge={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new tr([4294967295,4294967295],0);function by(r){const e=eS().encode(r),i=new m_;return i.update(e),new Uint8Array(i.digest())}function Ry(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new tr([i,s],0),new tr([o,f],0)]}class ld{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=tr.fromNumber(this.Ie)}Ee(e,i,s){let o=e.add(i.multiply(tr.fromNumber(s)));return o.compare(nS)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=by(e),[s,o]=Ry(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);if(!this.de(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new ld(f,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.Ie===0)return;const i=by(e),[s,o]=Ry(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new tc(pt.min(),o,new ne(Ut),Ii(),Ct())}}class Zl{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Zl(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,i,s,o){this.Re=e,this.removedTargetIds=i,this.key=s,this.Ve=o}}class F_{constructor(e,i){this.targetId=e,this.me=i}}class Y_{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class wy{constructor(){this.fe=0,this.ge=Cy(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),i=Ct(),s=Ct();return this.ge.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt()}})),new Zl(this.pe,this.ye,e,i,s)}Ce(){this.we=!1,this.ge=Cy()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=Dy(),this.Qe=new ne(Ut)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const s=this.Ge(i);switch(e.state){case 0:this.ze(i)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(e.resumeToken));break;default:gt()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((s,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,s=e.me.count,o=this.Je(i);if(o){const f=o.target;if(Lh(f))if(s===0){const d=new ut(f.path);this.Ue(i,d,Fe.newNoDocument(d,pt.min()))}else Gt(s===1);else{const d=this.Ye(i);if(d!==s){const g=this.Ze(e),_=g?this.Xe(g,e,d):1;if(_!==0){this.je(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=nr(s).toUint8Array()}catch(_){if(_ instanceof S_)return rs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ld(d,o,f)}catch(_){return rs(_ instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ie===0?null:g}Xe(e,i,s){return i.me.count===s-this.nt(e,i.targetId)?0:2}nt(e,i){const s=this.Le.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,f,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((f,d)=>{const g=this.Je(d);if(g){if(f.current&&Lh(g.target)){const _=new ut(g.target.path);this.ke.get(_)!==null||this.it(d,_)||this.Ue(d,_,Fe.newNoDocument(_,e))}f.be&&(i.set(d,f.ve()),f.Ce())}}));let s=Ct();this.qe.forEach(((f,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.Je(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(f))})),this.ke.forEach(((f,d)=>d.setReadTime(e)));const o=new tc(e,i,this.Qe,this.ke,s);return this.ke=Ii(),this.qe=Dy(),this.Qe=new ne(Ut),o}$e(e,i){if(!this.ze(e))return;const s=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new wy,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Pe(Ut),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wy),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function Dy(){return new ne(ut.comparator)}function Cy(){return new ne(ut.comparator)}const aS={asc:"ASCENDING",desc:"DESCENDING"},rS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sS={and:"AND",or:"OR"};class lS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ph(r,e){return r.useProto3Json||Xu(e)?e:{value:e}}function Qu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oS(r,e){return Qu(r,e.toTimestamp())}function Jn(r){return Gt(!!r),pt.fromTimestamp((function(i){const s=ha(i);return new Se(s.seconds,s.nanos)})(r))}function od(r,e){return qh(r,e).canonicalString()}function qh(r,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function X_(r){const e=Jt.fromString(r);return Gt(tv(e)),e}function jh(r,e){return od(r.databaseId,e.path)}function Th(r,e){const i=X_(e);if(i.get(1)!==r.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut($_(i))}function Z_(r,e){return od(r.databaseId,e)}function uS(r){const e=X_(r);return e.length===4?Jt.emptyPath():$_(e)}function kh(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $_(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Vy(r,e,i){return{name:jh(r,e),fields:i.value.mapValue.fields}}function cS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?K.UNKNOWN:Q_(v.code);return new at(A,v.message||"")})(d);i=new Y_(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Th(r,s.document.name),f=Jn(s.document.updateTime),d=s.document.createTime?Jn(s.document.createTime):pt.min(),g=new bn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,f,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Mu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Th(r,s.document),f=s.readTime?Jn(s.readTime):pt.min(),d=Fe.newNoDocument(o,f),g=s.removedTargetIds||[];i=new Mu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Th(r,s.document),f=s.removedTargetIds||[];i=new Mu([],f,o,null)}else{if(!("filter"in e))return gt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new WA(o,f),g=s.targetId;i=new F_(g,d)}}return i}function fS(r,e){let i;if(e instanceof Xl)i={update:Vy(r,e.key,e.value)};else if(e instanceof G_)i={delete:jh(r,e.key)};else if(e instanceof ar)i={update:Vy(r,e.key,e.data),updateMask:ES(e.fieldMask)};else{if(!(e instanceof ZA))return gt();i={verify:jh(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const g=d.transform;if(g instanceof Hu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gu)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw gt()})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:oS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:gt()})(r,e.precondition)),i}function hS(r,e){return r&&r.length>0?(Gt(e!==void 0),r.map((i=>(function(o,f){let d=o.updateTime?Jn(o.updateTime):Jn(f);return d.isEqual(pt.min())&&(d=Jn(f)),new YA(d,o.transformResults||[])})(i,e)))):[]}function dS(r,e){return{documents:[Z_(r,e.path)]}}function mS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Z_(r,o);const f=(function(v){if(v.length!==0)return W_(Mn.create(v,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(v){if(v.length!==0)return v.map((A=>(function(z){return{field:ts(z.field),direction:yS(z.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ph(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:i,parent:o}}function gS(r){let e=uS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(I){const z=J_(I);return z instanceof Mn&&D_(z)?z.getFilters():[z]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((z=>(function(Y){return new ku(es(Y.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(z)))})(i.orderBy));let g=null;i.limit&&(g=(function(I){let z;return z=typeof I=="object"?I.value:I,Xu(z)?null:z})(i.limit));let _=null;i.startAt&&(_=(function(I){const z=!!I.before,k=I.values||[];return new ju(k,z)})(i.startAt));let v=null;return i.endAt&&(v=(function(I){const z=!I.before,k=I.values||[];return new ju(k,z)})(i.endAt)),xA(e,o,d,f,g,"F",_,v)}function pS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function J_(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=es(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=es(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=es(i.unaryFilter.field);return ye.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=es(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}})(r):r.fieldFilter!==void 0?(function(i){return ye.create(es(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mn.create(i.compositeFilter.filters.map((s=>J_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}})(i.compositeFilter.op))})(r):gt()}function yS(r){return aS[r]}function _S(r){return rS[r]}function vS(r){return sS[r]}function ts(r){return{fieldPath:r.canonicalString()}}function es(r){return Be.fromServerFormat(r.fieldPath)}function W_(r){return r instanceof ye?(function(i){if(i.op==="=="){if(gy(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NAN"}};if(my(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gy(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NOT_NAN"}};if(my(i.value))return{unaryFilter:{field:ts(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(i.field),op:_S(i.op),value:i.value}}})(r):r instanceof Mn?(function(i){const s=i.getFilters().map((o=>W_(o)));return s.length===1?s[0]:{compositeFilter:{op:vS(i.op),filters:s}}})(r):gt()}function ES(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function tv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i,s,o,f=pt.min(),d=pt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.ct=e}}function AS(r){const e=gS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.un=new bS}addToCollectionParentIndex(e,i){return this.un.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(fa.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class bS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Pe(Jt.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pe(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new us(0)}static kn(){return new us(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.changes=new ps((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&zl(s.mutation,o,On.empty(),Se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ct()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ct()){const o=Wa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=Nl();return f.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Wa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ct())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let f=Ii();const d=Ll(),g=(function(){return Ll()})();return i.forEach(((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ar)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),zl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,On.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var I;return g.set(v,new wS(A,(I=d.get(v))!==null&&I!==void 0?I:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=Ll();let o=new ne(((d,g)=>d-g)),f=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||On.empty();A=g.applyToLocalView(v,A),s.set(_,A);const I=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,I)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,I=L_();A.forEach((z=>{if(!f.has(z)){const k=k_(i.get(z),s.get(z));k!==null&&I.set(z,k),f=f.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):N_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):Z.resolve(Wa());let g=-1,_=f;return d.next((v=>Z.forEach(v,((A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),f.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((z=>{_=_.insert(A,z)}))))).next((()=>this.populateOverlays(e,v,f))).next((()=>this.computeViews(e,_,v,Ct()))).next((A=>({batchId:g,changes:U_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,f).next((g=>Z.forEach(g,(_=>{const v=(function(I,z){return new Kl(z,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((A=>{A.forEach(((I,z)=>{d=d.insert(I,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))}));let g=Nl();return d.forEach(((_,v)=>{const A=f.get(_);A!==void 0&&zl(A.mutation,v,On.empty(),Se.now()),$u(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Jn(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:AS(o.bundledQuery),readTime:Jn(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new ne(ut.comparator),this.Ir=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Wa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.ht(e,i,f)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.Ir.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Wa(),f=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ne(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=f.get(v.largestBatchId);A===null&&(A=Wa(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Wa(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=o)););return Z.resolve(g)}ht(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new JA(i,s));let f=this.Ir.get(i);f===void 0&&(f=Ct(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.Tr=new Pe(Ie.Er),this.dr=new Pe(Ie.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Vr(new Ie(e,i))}mr(e,i){e.forEach((s=>this.removeReference(s,i)))}gr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1),f=[];return this.dr.forEachInRange([s,o],(d=>{this.Vr(d),f.push(d.key)})),f}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ut(new Jt([])),s=new Ie(i,e),o=new Ie(i,e+1);let f=Ct();return this.dr.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ie(e,0),s=this.Tr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ut.comparator(e.key,i.key)||Ut(e.wr,i.wr)}static Ar(e,i){return Ut(e.wr,i.wr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Pe(Ie.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $A(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.br=this.br.add(new Ie(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.vr(s),f=o<0?0:o;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,o],(d=>{const g=this.Dr(d.wr);f.push(g)})),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Pe(Ut);return i.forEach((o=>{const f=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,d],(g=>{s=s.add(g.wr)}))})),Z.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;ut.isDocumentKey(f)||(f=f.child(""));const d=new Ie(new ut(f),0);let g=new Pe(Ut);return this.br.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.wr)),!0)}),d),Z.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Z.forEach(i.mutations,(o=>{const f=new Ie(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,i){const s=new Ie(i,0),o=this.br.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.Mr=e,this.docs=(function(){return new ne(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Ii();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Fe.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Ii();const d=i.path,g=new ut(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||gA(mA(A),s)<=0||(o.has(A.key)||$u(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(e,i,s,o){gt()}Or(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new MS(this)}getSize(e){return Z.resolve(this.size)}}class MS extends RS{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.persistence=e,this.Nr=new ps((i=>nd(i)),id),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ud,this.targetCount=0,this.kr=us.Bn()}forEachTarget(e,i){return this.Nr.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new us(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Kn(i),Z.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Nr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(f).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Nr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Br.Rr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Br.mr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Br.yr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Jh(0),this.Kr=!1,this.Kr=!0,this.$r=new IS,this.referenceDelegate=e(this),this.Ur=new xS(this),this.indexManager=new SS,this.remoteDocumentCache=(function(o){return new OS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new TS(i),this.Gr=new CS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.qr[e.toKey()];return s||(s=new NS(i,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new LS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((f=>this.referenceDelegate.jr(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Hr(e,i){return Z.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,i))))}}class LS extends yA{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.Jr=new ud,this.Yr=null}static Zr(e){return new cd(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.Xr.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(s=>{const o=ut.fromPath(s);return this.ei(e,o).next((f=>{f||i.removeEntry(o,pt.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.$i=s,this.Ui=o}static Wi(e,i){let s=Ct(),o=Ct();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new fd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return kE()?8:_A(qE())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.Yi(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.Zi(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new zS;return this.Xi(e,i,d).next((g=>{if(f.result=g,this.zi)return this.es(e,i,d,g.size)}))})).next((()=>f.result))}es(e,i,s,o){return s.documentReadCount<this.ji?(Vl()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Wr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Vl()<=Mt.DEBUG&&st("QueryEngine","Query:",Wr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Vl()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Wr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):Z.resolve())}Yi(e,i){if(vy(i))return Z.resolve(null);let s=$n(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Bh(i,null,"F"),s=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Ct(...f);return this.Ji.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.ts(i,g);return this.ns(i,v,d,_.readTime)?this.Yi(e,Bh(i,null,"F")):this.rs(e,v,i,_)}))))})))))}Zi(e,i,s,o){return vy(i)||o.isEqual(pt.min())?Z.resolve(null):this.Ji.getDocuments(e,s).next((f=>{const d=this.ts(i,f);return this.ns(i,d,s,o)?Z.resolve(null):(Vl()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wr(i)),this.rs(e,d,i,dA(o,-1)).next((g=>g)))}))}ts(e,i){let s=new Pe(M_(e));return i.forEach(((o,f)=>{$u(e,f)&&(s=s.add(f))})),s}ns(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Xi(e,i,s){return Vl()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Wr(i)),this.Ji.getDocumentsMatchingQuery(e,i,fa.min(),s)}rs(e,i,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i,s,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new ne(Ut),this._s=new ps((f=>nd(f)),id),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function qS(r,e,i,s){return new PS(r,e,i,s)}async function ev(r,e){const i=yt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.ls(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function jS(r,e){const i=yt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,A){const I=v.batch,z=I.keys();let k=Z.resolve();return z.forEach((Y=>{k=k.next((()=>A.getEntry(_,Y))).next((it=>{const J=v.docVersions.get(Y);Gt(J!==null),it.version.compareTo(J)<0&&(I.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(_,I)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function nv(r){const e=yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function kS(r,e){const i=yt(r),s=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];e.targetChanges.forEach(((A,I)=>{const z=o.get(I);if(!z)return;g.push(i.Ur.removeMatchingKeys(f,A.removedDocuments,I).next((()=>i.Ur.addMatchingKeys(f,A.addedDocuments,I))));let k=z.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(I)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),o=o.insert(I,k),(function(it,J,Dt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=3e8?!0:Dt.addedDocuments.size+Dt.modifiedDocuments.size+Dt.removedDocuments.size>0})(z,k,A)&&g.push(i.Ur.updateTargetData(f,k))}));let _=Ii(),v=Ct();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),g.push(HS(f,d,e.documentUpdates).next((A=>{_=A.Ps,v=A.Is}))),!s.isEqual(pt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(f).next((I=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,v))).next((()=>_))})).then((f=>(i.os=o,f)))}function HS(r,e,i){let s=Ct(),o=Ct();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Ii();return i.forEach(((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Ps:d,Is:o}}))}function GS(r,e){const i=yt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QS(r,e){const i=yt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Ur.getTargetData(s,e).next((f=>f?(o=f,Z.resolve(o)):i.Ur.allocateTargetId(s).next((d=>(o=new la(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(e,s.targetId)),s}))}async function Hh(r,e,i){const s=yt(r),o=s.os.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Yl(d))throw d;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Iy(r,e,i){const s=yt(r);let o=pt.min(),f=Ct();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const I=yt(_),z=I._s.get(A);return z!==void 0?Z.resolve(I.os.get(z)):I.Ur.getTargetData(v,A)})(s,d,$n(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(d,g.targetId).next((_=>{f=_}))})).next((()=>s.ss.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?f:Ct()))).next((g=>(FS(s,LA(e),g),{documents:g,Ts:f})))))}function FS(r,e,i){let s=r.us.get(e)||pt.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.us.set(e,s)}class Ny{constructor(){this.activeTargetIds=kA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YS{constructor(){this.so=new Ny,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,s){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ny,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Ah(){return Du===null?Du=(function(){return 268435456+Math.round(2147483648*Math.random())})():Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class $S extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${o}/databases/${f}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${f}`}get Fo(){return!1}Mo(i,s,o,f,d){const g=Ah(),_=this.xo(i,s.toUriEncodedString());st("RestConnection",`Sending RPC '${i}' ${g}:`,_,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,f,d),this.No(i,_,v,o).then((A=>(st("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw rs("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",_,"request:",o),A}))}Lo(i,s,o,f,d,g){return this.Mo(i,s,o,f,d)}Oo(i,s,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ms})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((f,d)=>i[d]=f)),o&&o.headers.forEach(((f,d)=>i[d]=f))}xo(i,s){const o=XS[i];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,s,o){const f=Ah();return new Promise(((d,g)=>{const _=new g_;_.setWithCredentials(!0),_.listenOnce(p_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Iu.NO_ERROR:const A=_.getResponseJson();st(Ge,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),d(A);break;case Iu.TIMEOUT:st(Ge,`RPC '${e}' ${f} timed out`),g(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const I=_.getStatus();if(st(Ge,`RPC '${e}' ${f} failed with status:`,I,"response text:",_.getResponseText()),I>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const k=z==null?void 0:z.error;if(k&&k.status&&k.message){const Y=(function(J){const Dt=J.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Dt)>=0?Dt:K.UNKNOWN})(k.status);g(new at(Y,k.message))}else g(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new at(K.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{st(Ge,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);st(Ge,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",v,s,15)}))}Bo(e,i,s){const o=Ah(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=v_(),g=__(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=f.join("");st(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const I=d.createWebChannel(A,_);let z=!1,k=!1;const Y=new ZS({Io:J=>{k?st(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(z||(st(Ge,`Opening RPC '${e}' stream ${o} transport.`),I.open(),z=!0),st(Ge,`RPC '${e}' stream ${o} sending:`,J),I.send(J))},To:()=>I.close()}),it=(J,Dt,At)=>{J.listen(Dt,(_t=>{try{At(_t)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return it(I,Il.EventType.OPEN,(()=>{k||(st(Ge,`RPC '${e}' stream ${o} transport opened.`),Y.yo())})),it(I,Il.EventType.CLOSE,(()=>{k||(k=!0,st(Ge,`RPC '${e}' stream ${o} transport closed`),Y.So())})),it(I,Il.EventType.ERROR,(J=>{k||(k=!0,rs(Ge,`RPC '${e}' stream ${o} transport errored:`,J),Y.So(new at(K.UNAVAILABLE,"The operation could not be completed")))})),it(I,Il.EventType.MESSAGE,(J=>{var Dt;if(!k){const At=J.data[0];Gt(!!At);const _t=At,Pt=_t.error||((Dt=_t[0])===null||Dt===void 0?void 0:Dt.error);if(Pt){st(Ge,`RPC '${e}' stream ${o} received error:`,Pt);const vt=Pt.status;let Lt=(function(w){const V=ge[w];if(V!==void 0)return Q_(V)})(vt),N=Pt.message;Lt===void 0&&(Lt=K.INTERNAL,N="Unknown error status: "+vt+" with message "+Pt.message),k=!0,Y.So(new at(Lt,N)),I.close()}else st(Ge,`RPC '${e}' stream ${o} received:`,At),Y.bo(At)}})),it(g,y_.STAT_EVENT,(J=>{J.stat===Oh.PROXY?st(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Oh.NOPROXY&&st(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.wo()}),0),Y}}function Sh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(r){return new lS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,i,s=1e3,o=1.5,f=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=o,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,i,s,o,f,d,g,_){this.ui=e,this.Ho=s,this.Jo=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iv(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===i&&this.P_(s,o)}),(s=>{e((()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,i){const s=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JS extends av{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=cS(this.serializer,e),s=(function(f){if(!("targetChange"in f))return pt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Jn(d.readTime):pt.min()})(e);return this.listener.d_(i,s)}A_(e){const i={};i.database=kh(this.serializer),i.addTarget=(function(f,d){let g;const _=d.target;if(g=Lh(_)?{documents:dS(f,_)}:{query:mS(f,_)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=K_(f,d.resumeToken);const v=Ph(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=Qu(f,d.snapshotVersion.toTimestamp());const v=Ph(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=pS(this.serializer,e);s&&(i.labels=s),this.a_(i)}R_(e){const i={};i.database=kh(this.serializer),i.removeTarget=e,this.a_(i)}}class WS extends av{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=hS(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.g_(s,i)}p_(){const e={};e.database=kh(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>fS(this.serializer,s)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends class{}{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Mo(e,qh(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(K.UNKNOWN,f.toString())}))}Lo(e,i,s,o,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(e,qh(i,s),o,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class e1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(i),this.D_=!1):st("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o((d=>{s.enqueueAndForget((async()=>{rr(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await(async function(_){const v=yt(_);v.L_.add(4),await $l(v),v.q_.set("Unknown"),v.L_.delete(4),await nc(v)})(this))}))})),this.q_=new e1(s,o)}}async function nc(r){if(rr(r))for(const e of r.B_)await e(!0)}async function $l(r){for(const e of r.B_)await e(!1)}function rv(r,e){const i=yt(r);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),gd(i)?md(i):ys(i).r_()&&dd(i,e))}function hd(r,e){const i=yt(r),s=ys(i);i.N_.delete(e),s.r_()&&sv(i,e),i.N_.size===0&&(s.r_()?s.o_():rr(i)&&i.q_.set("Unknown"))}function dd(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ys(r).A_(e)}function sv(r,e){r.Q_.xe(e),ys(r).R_(e)}function md(r){r.Q_=new iS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ys(r).start(),r.q_.v_()}function gd(r){return rr(r)&&!ys(r).n_()&&r.N_.size>0}function rr(r){return yt(r).L_.size===0}function lv(r){r.Q_=void 0}async function i1(r){r.q_.set("Online")}async function a1(r){r.N_.forEach(((e,i)=>{dd(r,e)}))}async function r1(r,e){lv(r),gd(r)?(r.q_.M_(e),md(r)):r.q_.set("Unknown")}async function s1(r,e,i){if(r.q_.set("Online"),e instanceof Y_&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const g of f.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.N_.delete(g),o.Q_.removeTarget(g))})(r,e)}catch(s){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fu(r,s)}else if(e instanceof Mu?r.Q_.Ke(e):e instanceof F_?r.Q_.He(e):r.Q_.We(e),!i.isEqual(pt.min()))try{const s=await nv(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const g=f.Q_.rt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.N_.get(v);A&&f.N_.set(v,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const A=f.N_.get(_);if(!A)return;f.N_.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),sv(f,_);const I=new la(A.target,_,v,A.sequenceNumber);dd(f,I)})),f.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){st("RemoteStore","Failed to raise snapshot:",s),await Fu(r,s)}}async function Fu(r,e,i){if(!Yl(e))throw e;r.L_.add(1),await $l(r),r.q_.set("Offline"),i||(i=()=>nv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await nc(r)}))}function ov(r,e){return e().catch((i=>Fu(r,i,e)))}async function ic(r){const e=yt(r),i=da(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;l1(e);)try{const o=await GS(e.localStore,s);if(o===null){e.O_.length===0&&i.o_();break}s=o.batchId,o1(e,o)}catch(o){await Fu(e,o)}uv(e)&&cv(e)}function l1(r){return rr(r)&&r.O_.length<10}function o1(r,e){r.O_.push(e);const i=da(r);i.r_()&&i.V_&&i.m_(e.mutations)}function uv(r){return rr(r)&&!da(r).n_()&&r.O_.length>0}function cv(r){da(r).start()}async function u1(r){da(r).p_()}async function c1(r){const e=da(r);for(const i of r.O_)e.m_(i.mutations)}async function f1(r,e,i){const s=r.O_.shift(),o=sd.from(s,e,i);await ov(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ic(r)}async function h1(r,e){e&&da(r).V_&&await(async function(s,o){if((function(d){return tS(d)&&d!==K.ABORTED})(o.code)){const f=s.O_.shift();da(s).s_(),await ov(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await ic(s)}})(r,e),uv(r)&&cv(r)}async function My(r,e){const i=yt(r);i.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const s=rr(i);i.L_.add(3),await $l(i),s&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await nc(i)}async function d1(r,e){const i=yt(r);e?(i.L_.delete(2),await nc(i)):e||(i.L_.add(2),await $l(i),i.q_.set("Unknown"))}function ys(r){return r.K_||(r.K_=(function(i,s,o){const f=yt(i);return f.w_(),new JS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Eo:i1.bind(null,r),Ro:a1.bind(null,r),mo:r1.bind(null,r),d_:s1.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),gd(r)?md(r):r.q_.set("Unknown")):(await r.K_.stop(),lv(r))}))),r.K_}function da(r){return r.U_||(r.U_=(function(i,s,o){const f=yt(i);return f.w_(),new WS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:u1.bind(null,r),mo:h1.bind(null,r),f_:c1.bind(null,r),g_:f1.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await ic(r)):(await r.U_.stop(),r.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new pd(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(r,e){if(Vi("AsyncQueue",`${e}: ${r}`),Yl(r))return new at(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ne(this.comparator)}static emptySet(e){return new is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof is)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new is;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.W_=new ne(ut.comparator)}track(e){const i=e.doc.key,s=this.W_.get(i);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(i,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(i):e.type===1&&s.type===2?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,s)=>{e.push(s)})),e}}class cs{constructor(e,i,s,o,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new cs(e,i,is.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class g1{constructor(){this.queries=Uy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,s){const o=yt(i),f=o.queries;o.queries=Uy(),f.forEach(((d,g)=>{for(const _ of g.j_)_.onError(s)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Uy(){return new ps((r=>O_(r)),Zu)}async function fv(r,e){const i=yt(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.H_()&&e.J_()&&(s=2):(f=new m1,s=e.J_()?0:1);try{switch(s){case 0:f.z_=await i.onListen(o,!0);break;case 1:f.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=yd(d,`Initialization of query '${Wr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.j_.push(e),e.Z_(i.onlineState),f.z_&&e.X_(f.z_)&&_d(i)}async function hv(r,e){const i=yt(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.j_.indexOf(e);d>=0&&(f.j_.splice(d,1),f.j_.length===0?o=e.J_()?0:1:!f.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function p1(r,e){const i=yt(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.j_)g.X_(o)&&(s=!0);d.z_=o}}s&&_d(i)}function y1(r,e,i){const s=yt(r),o=s.queries.get(e);if(o)for(const f of o.j_)f.onError(i);s.queries.delete(e)}function _d(r){r.Y_.forEach((e=>{e.next()}))}var Gh,Ly;(Ly=Gh||(Gh={})).ea="default",Ly.Cache="cache";class dv{constructor(e,i,s){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new cs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const s=i!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.key=e}}class gv{constructor(e){this.key=e}}class _1{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ct(),this.mutatedKeys=Ct(),this.Aa=M_(e),this.Ra=new is(this.Aa)}get Va(){return this.Ta}ma(e,i){const s=i?i.fa:new xy,o=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,I)=>{const z=o.get(A),k=$u(this.query,I)?I:null,Y=!!z&&this.mutatedKeys.has(z.key),it=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let J=!1;z&&k?z.data.isEqual(k.data)?Y!==it&&(s.track({type:3,doc:k}),J=!0):this.ga(z,k)||(s.track({type:2,doc:k}),J=!0,(_&&this.Aa(k,_)>0||v&&this.Aa(k,v)<0)&&(g=!0)):!z&&k?(s.track({type:0,doc:k}),J=!0):z&&!k&&(s.track({type:1,doc:z}),J=!0,(_||v)&&(g=!0)),J&&(k?(d=d.add(k),f=it?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{Ra:d,fa:s,ns:g,mutatedKeys:f}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((A,I)=>(function(k,Y){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return it(k)-it(Y)})(A.type,I.type)||this.Aa(A.doc,I.doc))),this.pa(s),o=o!=null&&o;const g=i&&!o?this.ya():[],_=this.da.size===0&&this.current&&!o?1:0,v=_!==this.Ea;return this.Ea=_,d.length!==0||v?{snapshot:new cs(this.query,e.Ra,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ct(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const i=[];return e.forEach((s=>{this.da.has(s)||i.push(new gv(s))})),this.da.forEach((s=>{e.has(s)||i.push(new mv(s))})),i}ba(e){this.Ta=e.Ts,this.da=Ct();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class v1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class E1{constructor(e){this.key=e,this.va=!1}}class T1{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new ps((g=>O_(g)),Zu),this.Ma=new Map,this.xa=new Set,this.Oa=new ne(ut.comparator),this.Na=new Map,this.La=new ud,this.Ba={},this.ka=new Map,this.qa=us.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function A1(r,e,i=!0){const s=Tv(r);let o;const f=s.Fa.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.Da()):o=await pv(s,e,i,!0),o}async function S1(r,e){const i=Tv(r);await pv(i,e,!0,!1)}async function pv(r,e,i,s){const o=await QS(r.localStore,$n(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await b1(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&rv(r.remoteStore,o),g}async function b1(r,e,i,s,o){r.Ka=(I,z,k)=>(async function(it,J,Dt,At){let _t=J.view.ma(Dt);_t.ns&&(_t=await Iy(it.localStore,J.query,!1).then((({documents:N})=>J.view.ma(N,_t))));const Pt=At&&At.targetChanges.get(J.targetId),vt=At&&At.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(_t,it.isPrimaryClient,Pt,vt);return By(it,J.targetId,Lt.wa),Lt.snapshot})(r,I,z,k);const f=await Iy(r.localStore,e,!0),d=new _1(e,f.Ts),g=d.ma(f.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);By(r,i,v.wa);const A=new v1(e,i,d);return r.Fa.set(e,A),r.Ma.has(i)?r.Ma.get(i).push(e):r.Ma.set(i,[e]),v.snapshot}async function R1(r,e,i){const s=yt(r),o=s.Fa.get(e),f=s.Ma.get(o.targetId);if(f.length>1)return s.Ma.set(o.targetId,f.filter((d=>!Zu(d,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hh(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&hd(s.remoteStore,o.targetId),Qh(s,o.targetId)})).catch(Fl)):(Qh(s,o.targetId),await Hh(s.localStore,o.targetId,!0))}async function w1(r,e){const i=yt(r),s=i.Fa.get(e),o=i.Ma.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),hd(i.remoteStore,s.targetId))}async function D1(r,e,i){const s=x1(r);try{const o=await(function(d,g){const _=yt(d),v=Se.now(),A=g.reduce(((k,Y)=>k.add(Y.key)),Ct());let I,z;return _.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Y=Ii(),it=Ct();return _.cs.getEntries(k,A).next((J=>{Y=J,Y.forEach(((Dt,At)=>{At.isValidDocument()||(it=it.add(Dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(k,Y))).next((J=>{I=J;const Dt=[];for(const At of g){const _t=XA(At,I.get(At.key).overlayedDocument);_t!=null&&Dt.push(new ar(At.key,_t,b_(_t.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,Dt,g)})).next((J=>{z=J;const Dt=J.applyToLocalDocumentSet(I,it);return _.documentOverlayCache.saveOverlays(k,J.batchId,Dt)}))})).then((()=>({batchId:z.batchId,changes:U_(I)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.Ba[d.currentUser.toKey()];v||(v=new ne(Ut)),v=v.insert(g,_),d.Ba[d.currentUser.toKey()]=v})(s,o.batchId,i),await Jl(s,o.changes),await ic(s.remoteStore)}catch(o){const f=yd(o,"Failed to persist write");i.reject(f)}}async function yv(r,e){const i=yt(r);try{const s=await kS(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Na.get(f);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?Gt(d.va):o.removedDocuments.size>0&&(Gt(d.va),d.va=!1))})),await Jl(i,s,e)}catch(s){await Fl(s)}}function zy(r,e,i){const s=yt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Fa.forEach(((f,d)=>{const g=d.view.Z_(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=yt(d);_.onlineState=g;let v=!1;_.queries.forEach(((A,I)=>{for(const z of I.j_)z.Z_(g)&&(v=!0)})),v&&_d(_)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C1(r,e,i){const s=yt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Na.get(e),f=o&&o.key;if(f){let d=new ne(ut.comparator);d=d.insert(f,Fe.newNoDocument(f,pt.min()));const g=Ct().add(f),_=new tc(pt.min(),new Map,new ne(Ut),d,g);await yv(s,_),s.Oa=s.Oa.remove(f),s.Na.delete(e),vd(s)}else await Hh(s.localStore,e,!1).then((()=>Qh(s,e,i))).catch(Fl)}async function V1(r,e){const i=yt(r),s=e.batch.batchId;try{const o=await jS(i.localStore,e);vv(i,s,null),_v(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Jl(i,o)}catch(o){await Fl(o)}}async function I1(r,e,i){const s=yt(r);try{const o=await(function(d,g){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next((I=>(Gt(I!==null),A=I.keys(),_.mutationQueue.removeMutationBatch(v,I)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,e);vv(s,e,i),_v(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Jl(s,o)}catch(o){await Fl(o)}}function _v(r,e){(r.ka.get(e)||[]).forEach((i=>{i.resolve()})),r.ka.delete(e)}function vv(r,e,i){const s=yt(r);let o=s.Ba[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Qh(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),i&&r.Ca.$a(s,i);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||Ev(r,s)}))}function Ev(r,e){r.xa.delete(e.path.canonicalString());const i=r.Oa.get(e);i!==null&&(hd(r.remoteStore,i),r.Oa=r.Oa.remove(e),r.Na.delete(i),vd(r))}function By(r,e,i){for(const s of i)s instanceof mv?(r.La.addReference(s.key,e),N1(r,s)):s instanceof gv?(st("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||Ev(r,s.key)):gt()}function N1(r,e){const i=e.key,s=i.path.canonicalString();r.Oa.get(i)||r.xa.has(s)||(st("SyncEngine","New document in limbo: "+i),r.xa.add(s),vd(r))}function vd(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const i=new ut(Jt.fromString(e)),s=r.qa.next();r.Na.set(s,new E1(i)),r.Oa=r.Oa.insert(i,s),rv(r.remoteStore,new la($n(ad(i.path)),s,"TargetPurposeLimboResolution",Jh.oe))}}async function Jl(r,e,i){const s=yt(r),o=[],f=[],d=[];s.Fa.isEmpty()||(s.Fa.forEach(((g,_)=>{d.push(s.Ka(_,e,i).then((v=>{var A;if((v||i)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){o.push(v);const I=fd.Wi(_.targetId,v);f.push(I)}})))})),await Promise.all(d),s.Ca.d_(o),await(async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Z.forEach(v,(z=>Z.forEach(z.$i,(k=>A.persistence.referenceDelegate.addReference(I,z.targetId,k))).next((()=>Z.forEach(z.Ui,(k=>A.persistence.referenceDelegate.removeReference(I,z.targetId,k)))))))))}catch(I){if(!Yl(I))throw I;st("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const z=I.targetId;if(!I.fromCache){const k=A.os.get(z),Y=k.snapshotVersion,it=k.withLastLimboFreeSnapshotVersion(Y);A.os=A.os.insert(z,it)}}})(s.localStore,f))}async function O1(r,e){const i=yt(r);if(!i.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const s=await ev(i.localStore,e);i.currentUser=e,(function(f,d){f.ka.forEach((g=>{g.forEach((_=>{_.reject(new at(K.CANCELLED,d))}))})),f.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jl(i,s.hs)}}function M1(r,e){const i=yt(r),s=i.Na.get(e);if(s&&s.va)return Ct().add(s.key);{let o=Ct();const f=i.Ma.get(e);if(!f)return o;for(const d of f){const g=i.Fa.get(d);o=o.unionWith(g.view.Va)}return o}}function Tv(r){const e=yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C1.bind(null,e),e.Ca.d_=p1.bind(null,e.eventManager),e.Ca.$a=y1.bind(null,e.eventManager),e}function x1(r){const e=yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I1.bind(null,e),e}class Yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return qS(this.persistence,new BS,e.initialUser,this.serializer)}Ga(e){return new US(cd.Zr,this.serializer)}Wa(e){return new YS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yu.provider={build:()=>new Yu};class Fh{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=O1.bind(null,this.syncEngine),await d1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g1})()}createDatastore(e){const i=ec(e.databaseInfo.databaseId),s=(function(f){return new $S(f)})(e.databaseInfo);return(function(f,d,g,_){return new t1(f,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,g){return new n1(s,o,f,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>zy(this.syncEngine,i,0)),(function(){return Oy.D()?new Oy:new KS})())}createSyncEngine(e,i){return(function(o,f,d,g,_,v,A){const I=new T1(o,f,d,g,_,v);return A&&(I.Qa=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=yt(o);st("RemoteStore","RemoteStore shutting down."),f.L_.add(5),await $l(f),f.k_.shutdown(),f.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Fh.provider={build:()=>new Fh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=T_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{st("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=yd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bh(r,e){r.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ev(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Py(r,e){r.asyncQueue.verifyOperationInProgress();const i=await L1(r);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>My(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>My(e.remoteStore,o))),r._onlineComponents=e}async function L1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await bh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;rs("Error using user provided cache. Falling back to memory cache: "+i),await bh(r,new Yu)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await bh(r,new Yu);return r._offlineComponents}async function Sv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await Py(r,r._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await Py(r,new Fh))),r._onlineComponents}function z1(r){return Sv(r).then((e=>e.syncEngine))}async function bv(r){const e=await Sv(r),i=e.eventManager;return i.onListen=A1.bind(null,e.syncEngine),i.onUnlisten=R1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=S1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=w1.bind(null,e.syncEngine),i}function B1(r,e,i={}){const s=new wi;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const A=new Av({next:z=>{A.Za(),d.enqueueAndForget((()=>hv(f,I)));const k=z.docs.has(g);!k&&z.fromCache?v.reject(new at(K.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&z.fromCache&&_&&_.source==="server"?v.reject(new at(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(z)},error:z=>v.reject(z)}),I=new dv(ad(g.path),A,{includeMetadataChanges:!0,_a:!0});return fv(f,I)})(await bv(r),r.asyncQueue,e,i,s))),s.promise}function P1(r,e,i={}){const s=new wi;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const A=new Av({next:z=>{A.Za(),d.enqueueAndForget((()=>hv(f,I))),z.fromCache&&_.source==="server"?v.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),I=new dv(g,A,{includeMetadataChanges:!0,_a:!0});return fv(f,I)})(await bv(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function q1(r,e,i,s){if(e===!0&&s===!0)throw new at(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function jy(r){if(!ut.isDocumentKey(r))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ky(r){if(ut.isDocumentKey(r))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ac(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt()}function fs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ac(r);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aA;switch(s.type){case"firstParty":return new oA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=qy.get(i);s&&(st("ComponentProvider","Removing Datastore"),qy.delete(i),s.terminate())})(this),Promise.resolve()}}function j1(r,e,i,s={}){var o;const f=(r=fs(r,rc))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Qe.MOCK_USER;else{g=PE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Qe(v)}r._authCredentials=new rA(new E_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ca extends _s{constructor(e,i,s){super(e,i,ad(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ut(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function Dv(r,e,...i){if(r=as(r),wv("collection","path",e),r instanceof rc){const s=Jt.fromString(e,...i);return ky(s),new ca(r,null,s)}{if(!(r instanceof cn||r instanceof ca))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return ky(s),new ca(r.firestore,null,s)}}function Cv(r,e,...i){if(r=as(r),arguments.length===1&&(e=T_.newId()),wv("doc","path",e),r instanceof rc){const s=Jt.fromString(e,...i);return jy(s),new cn(r,null,new ut(s))}{if(!(r instanceof cn||r instanceof ca))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return jy(s),new cn(r.firestore,r instanceof ca?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iv(this,"async_queue_retry"),this.Vu=()=>{const s=Sh();s&&st("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=Sh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Sh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new wi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yl(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(s);throw Vi("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=pd.createAndSchedule(this,e,i,s,(f=>this.yu(f)));return this.Tu.push(o),o}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class sc extends rc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Gy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gy(e),this._firestoreClient=void 0,await e}}}function k1(r,e){const i=typeof r=="object"?r:KT(),s=typeof r=="string"?r:"(default)",o=GT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=zE("firestore");f&&j1(o,...f)}return o}function Ed(r){if(r._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||H1(r),r._firestoreClient}function H1(r){var e,i,s;const o=r._freezeSettings(),f=(function(g,_,v,A){return new TA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Rv(A.experimentalLongPollingOptions),A.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new U1(r._authCredentials,r._appCheckCredentials,r._queue,f,r._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(qe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new hs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=/^__.*__$/;class Q1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}function Iv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class bd{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ku(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Iv(this.Cu)&&G1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class F1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||ec(e)}Qu(e,i,s,o=!1){return new bd({Cu:e,methodName:i,qu:s,path:Be.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(r){const e=r._freezeSettings(),i=ec(r._databaseId);return new F1(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Y1(r,e,i,s,o,f={}){const d=r.Qu(f.merge||f.mergeFields?2:0,e,i,o);xv("Data must be an object, but it was:",d,s);const g=Ov(s,d);let _,v;if(f.merge)_=new On(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const I of f.mergeFields){const z=X1(e,I,i);if(!d.contains(z))throw new at(K.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);$1(A,z)||A.push(z)}_=new On(A),v=d.fieldTransforms.filter((I=>_.covers(I.field)))}else _=null,v=d.fieldTransforms;return new Q1(new bn(g),_,v)}function K1(r,e,i,s=!1){return Rd(i,r.Qu(s?4:3,e))}function Rd(r,e){if(Mv(r=as(r)))return xv("Unsupported field value:",e,r),Ov(r,e);if(r instanceof Vv)return(function(s,o){if(!Iv(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const g of s){let _=Rd(g,o.Lu(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=as(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Se.fromDate(s);return{timestampValue:Qu(o.serializer,f)}}if(s instanceof Se){const f=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qu(o.serializer,f)}}if(s instanceof Ad)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hs)return{bytesValue:K_(o.serializer,s._byteString)};if(s instanceof cn){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:od(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sd)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Bu("VectorValues must only contain numeric values.");return rd(g.serializer,_)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${ac(s)}`)})(r,e)}function Ov(r,e){const i={};return A_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const f=Rd(o,e.Mu(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function Mv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Ad||r instanceof hs||r instanceof cn||r instanceof Vv||r instanceof Sd)}function xv(r,e,i){if(!Mv(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const s=ac(i);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function X1(r,e,i){if((e=as(e))instanceof Td)return e._internalPath;if(typeof e=="string")return Uv(r,e);throw Ku("Field path arguments must be of type string or ",r,!1,void 0,i)}const Z1=new RegExp("[~\\*/\\[\\]]");function Uv(r,e,i){if(e.search(Z1)>=0)throw Ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Td(...e.split("."))._internalPath}catch{throw Ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ku(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new at(K.INVALID_ARGUMENT,g+r+_)}function $1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class J1 extends Lv{data(){return super.data()}}function wd(r,e){return typeof e=="string"?Uv(r,e):e instanceof Td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dd{}class tb extends Dd{}function Rh(r,e,...i){let s=[];e instanceof Dd&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((_=>_ instanceof Cd)).length,g=f.filter((_=>_ instanceof lc)).length;if(d>1||d>0&&g>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class lc extends tb{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new lc(e,i,s)}_apply(e){const i=this._parse(e);return zv(e._query,i),new _s(e.firestore,e.converter,zh(e._query,i))}_parse(e){const i=Nv(e.firestore);return(function(f,d,g,_,v,A,I){let z;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Fy(I,A);const k=[];for(const Y of I)k.push(Qy(_,f,Y));z={arrayValue:{values:k}}}else z=Qy(_,f,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Fy(I,A),z=K1(g,d,I,A==="in"||A==="not-in");return ye.create(v,A,z)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Cu(r,e,i){const s=e,o=wd("where",r);return lc._create(o,s,i)}class Cd extends Dd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Cd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const g=f.getFlattenedFilters();for(const _ of g)zv(d,_),d=zh(d,_)})(e._query,i),new _s(e.firestore,e.converter,zh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qy(r,e,i){if(typeof(i=as(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N_(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dy(r,new ut(s))}if(i instanceof cn)return dy(r,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ac(i)}.`)}function Fy(r,e){if(!Array.isArray(r)||r.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zv(r,e){const i=(function(o,f){for(const d of o)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class eb{convertValue(e,i="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return gs(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){var i,s,o;const f=(o=(s=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>ce(d.doubleValue)));return new Sd(f)}convertGeoPoint(e){return new Ad(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=td(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=ha(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);Gt(tv(s));const o=new kl(s.get(1),s.get(3)),f=new ut(s.popFirst(5));return o.isEqual(i)||Vi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bv extends Lv{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(wd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xu extends Bv{data(e={}){return super.data(e)}}class ib{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new xu(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new xu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ml(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const _=new xu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ml(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:ab(g.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ab(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r){r=fs(r,cn);const e=fs(r.firestore,sc);return B1(Ed(e),r._key).then((i=>ub(e,r,i)))}class Pv extends eb{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function sb(r){r=fs(r,_s);const e=fs(r.firestore,sc),i=Ed(e),s=new Pv(e);return W1(r._query),P1(i,r._query).then((o=>new ib(e,s,r,o)))}function lb(r,e){const i=fs(r.firestore,sc),s=Cv(r),o=nb(r.converter,e);return ob(i,[Y1(Nv(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then((()=>s))}function ob(r,e){return(function(s,o){const f=new wi;return s.asyncQueue.enqueueAndForget((async()=>D1(await z1(s),o,f))),f.promise})(Ed(r),e)}function ub(r,e,i){const s=i.docs.get(e._key),o=new Pv(r);return new Bv(r,o,e._key,s,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ms=o})(YT),Pu(new Bl("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new sc(new sA(s.getProvider("auth-internal")),new cA(s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(v.options.projectId,A)})(d,o),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),ns(oy,"4.7.3",e),ns(oy,"4.7.3","esm2017")})();var cb="firebase",fb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(cb,fb,"app");var Yy={};const Jr=r=>{const e=typeof import.meta<"u"?import.meta:void 0;if(e&&e.env&&e.env[r])return e.env[r];if(typeof process<"u"&&Yy[r])return Yy[r]},Vd=[],Ja={apiKey:Jr("VITE_FIREBASE_API_KEY"),authDomain:Jr("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Jr("VITE_FIREBASE_PROJECT_ID"),storageBucket:Jr("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Jr("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Jr("VITE_FIREBASE_APP_ID")};Object.entries(Ja).forEach(([r,e])=>{e||Vd.push(r)});const oc=Vd.length===0;let uc=null;if(!oc)console.warn("[firebaseConfig] Firebase no configurado. Las siguientes claves VITE_* faltan o no estuvieron disponibles en tiempo de build:",Vd),console.warn("[firebaseConfig] Para desarrollo local crea un archivo `.env.local` en la raíz con las variables VITE_FIREBASE_*. En CI asegúrate de inyectarlas antes de la compilación. Ver `./.env.example` como referencia.");else{const r={apiKey:Ja.apiKey,authDomain:Ja.authDomain,projectId:Ja.projectId,storageBucket:Ja.storageBucket,messagingSenderId:Ja.messagingSenderId,appId:Ja.appId},e=f_(r);uc=k1(e)}const Vu=[{id:"1",text:"Yo nunca he fingido que me gustaba un regalo.",isPremium:!1},{id:"2",text:"Yo nunca he espiado el móvil de mi pareja.",isPremium:!1},{id:"3",text:"Yo nunca he usado el cepillo de dientes de otra persona.",isPremium:!1},{id:"4",text:"Yo nunca he vuelto con un ex.",isPremium:!1},{id:"5",text:"Yo nunca me he reído en un momento inoportuno.",isPremium:!1}],hb=async(r,e=!1)=>{if(console.log(`Fetching phrases... premium=${r} adult=${e}`),!oc)return console.warn("[fetchPhrases] Firebase no está configurado, devolviendo datos mock."),r?Vu:Vu.filter(i=>!i.isPremium);try{let i;const s=Dv(uc,"phrases");r&&e?i=s:r&&!e?i=Rh(s,Cu("isAdult","==",!1)):!r&&e?i=Rh(s,Cu("isPremium","==",!1)):i=Rh(s,Cu("isPremium","==",!1),Cu("isAdult","==",!1));const o=await sb(i),f=[];return o.forEach(d=>{f.push({id:d.id,...d.data()})}),f}catch(i){return console.error("Error fetching phrases:",i),r?Vu:Vu.filter(s=>!s.isPremium)}},db=async r=>{console.log(`Adding suggestion: "${r}"`);try{if(!oc)throw console.warn("[addSuggestion] Firebase no está configurado. La sugerencia no se enviará en este entorno."),new Error("Firebase no configurado en este entorno.");await lb(Dv(uc,"suggestions"),{text:r,createdAt:new Date,status:"pending"}),console.log("Suggestion submitted successfully.")}catch(e){throw console.error("Error adding suggestion:",e),new Error("No se pudo enviar la sugerencia. Inténtalo más tarde.")}},Rb=async()=>{try{if(!oc)return console.warn("[getStripeProductKeys] Firebase no está configurado, devolviendo claves por defecto."),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"};const r=Cv(uc,"config","stripe_products"),e=await rb(r);return e.exists()?e.data():(console.log("No se encontraron claves de productos en Firestore"),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"})}catch(r){return console.error("Error obteniendo claves de productos:",r),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"}}},mb=({navigate:r,hasPremium:e,includeAdult:i})=>{const[s,o]=pe.useState([]),[f,d]=pe.useState(null),[g,_]=pe.useState(!0),[v,A]=pe.useState(null);pe.useEffect(()=>{(async()=>{try{_(!0),A(null);const Y=await hb(e,!!i);Y.length===0?A("No se encontraron frases. Inténtalo más tarde."):(o(Y),d(Y[Math.floor(Math.random()*Y.length)]))}catch(Y){A("No se pudieron cargar las frases. Revisa tu conexión."),console.error(Y)}finally{_(!1)}})()},[e]);const I=pe.useCallback(()=>{if(s.length>0){const k=s.filter(Y=>Y.id!==(f==null?void 0:f.id));if(k.length>0){const Y=k[Math.floor(Math.random()*k.length)];d(Y)}else{const Y=s[Math.floor(Math.random()*s.length)];d(Y)}}},[s,f]),z=()=>g?tt.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[tt.jsx("i",{className:"fas fa-spinner fa-spin text-5xl text-cyan-400"}),tt.jsx("p",{className:"mt-4 text-slate-300",children:"Cargando frases..."})]}):v?tt.jsx("p",{className:"text-center text-red-400",children:v}):f&&tt.jsxs("div",{className:"text-center text-2xl md:text-3xl font-semibold leading-relaxed animate-fadeIn",children:[tt.jsx("span",{className:"text-slate-400",children:"Yo nunca..."}),tt.jsx("br",{}),tt.jsx("span",{className:"text-white drop-shadow-lg",children:f.text})]},f.id);return tt.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-full p-4",children:[tt.jsx("div",{className:"w-full flex justify-start",children:tt.jsx("button",{onClick:()=>r(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:tt.jsx("i",{className:"fas fa-arrow-left fa-lg"})})}),tt.jsx("div",{className:"flex-grow flex items-center justify-center w-full max-w-md my-8",children:z()}),tt.jsx("div",{className:"w-full max-w-xs",children:tt.jsxs(sa,{onClick:I,disabled:g||s.length<=1,fullWidth:!0,size:"large",children:[tt.jsx("i",{className:"fas fa-forward mr-2"}),"Siguiente"]})})]})},Ky=({icon:r,title:e,description:i,price:s,onClick:o,disabled:f,disabledText:d})=>tt.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-6 flex flex-col items-center text-center backdrop-blur-sm border border-slate-700 transition-all ${f?"opacity-60":""}`,children:[tt.jsx("i",{className:`text-5xl mb-4 text-cyan-400 ${r}`}),tt.jsx("h3",{className:"text-xl font-bold mb-2",children:e}),tt.jsx("p",{className:"text-slate-400 mb-4 flex-grow",children:i}),f?tt.jsx("p",{className:"text-lg font-bold text-green-400",children:d||"¡Comprado!"}):tt.jsx(sa,{onClick:o,fullWidth:!0,children:s})]}),gb=({navigate:r,onPurchaseRemoveAds:e,onPurchasePremium:i,showAds:s,hasPremium:o})=>{const f=async(d,g)=>{var v,A;console.log(`Initiating ${g} purchase flow...`);const _=((A=(v=window.Capacitor)==null?void 0:v.isNativePlatform)==null?void 0:A.call(v))??!1;try{if(_){const I=await Lu(()=>import("./purchaseService-BjRP7Uko.js"),[],import.meta.url),z=g==="removeAds"?"remove_ads":"premium_phrases";await I.buyProduct(z)&&d()}else{const{handleRemoveAdsPayment:I,handlePremiumPayment:z}=await Lu(async()=>{const{handleRemoveAdsPayment:Y,handlePremiumPayment:it}=await import("./stripeService-DKfzySe5.js");return{handleRemoveAdsPayment:Y,handlePremiumPayment:it}},[],import.meta.url);let k=!1;g==="removeAds"?k=await I():g==="premium"&&(k=await z()),k&&d()}}catch(I){console.error("Payment error:",I),alert("No se pudo procesar el pago. Inténtalo más tarde.")}};return tt.jsxs("div",{className:"flex flex-col w-full h-full p-4 animate-fadeIn",children:[tt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[tt.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500",children:"Tienda"}),tt.jsx("button",{onClick:()=>r(Nn.Home),className:"text-slate-400 hover:text-white transition-colors",children:tt.jsx("i",{className:"fas fa-times fa-2x"})})]}),tt.jsxs("div",{className:"space-y-6",children:[tt.jsx(Ky,{icon:"fas fa-shield-halved",title:"Eliminar Anuncios",description:"Disfruta de una experiencia de juego ininterrumpida sin anuncios.",price:"Comprar por 2.99€",onClick:()=>f(e,"removeAds"),disabled:!s}),tt.jsx(Ky,{icon:"fas fa-star",title:"Paquete Premium",description:"Desbloquea cientos de frases extra, más atrevidas y divertidas.",price:"Comprar por 4.99€",onClick:()=>f(i,"premium"),disabled:o})]}),tt.jsx("p",{className:"text-center text-slate-500 text-xs mt-8",children:"Las compras son procesadas de forma segura a través de Stripe."})]})},pb=({children:r,onClose:e})=>tt.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:e,children:tt.jsx("div",{className:"bg-slate-800 rounded-lg shadow-2xl w-full max-w-md border border-slate-700 animate-scaleUp",onClick:i=>i.stopPropagation(),children:r})}),yb=({onClose:r})=>{const[e,i]=pe.useState(""),[s,o]=pe.useState(!1),[f,d]=pe.useState(""),[g,_]=pe.useState(!1),v=async A=>{if(A.preventDefault(),e.trim().length<10){d("La frase debe tener al menos 10 caracteres.");return}d(""),o(!0);try{await db(e),_(!0),setTimeout(()=>{r()},2e3)}catch{d("No se pudo enviar la sugerencia. Inténtalo de nuevo."),o(!1)}};return tt.jsx(pb,{onClose:r,children:tt.jsx("div",{className:"p-6",children:g?tt.jsxs("div",{className:"text-center",children:[tt.jsx("i",{className:"fas fa-check-circle text-5xl text-green-400 mb-4"}),tt.jsx("h2",{className:"text-2xl font-bold mb-2",children:"¡Gracias!"}),tt.jsx("p",{className:"text-slate-300",children:"Tu sugerencia ha sido enviada para revisión."})]}):tt.jsxs(tt.Fragment,{children:[tt.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sugerir una Frase"}),tt.jsx("p",{className:"text-slate-400 mb-6",children:"¿Tienes una idea genial? ¡Compártela con nosotros! Si es aprobada, aparecerá en el juego."}),tt.jsxs("form",{onSubmit:v,children:[tt.jsxs("div",{className:"relative",children:[tt.jsx("span",{className:"absolute left-4 top-3 text-slate-400",children:"Yo nunca..."}),tt.jsx("input",{type:"text",value:e,onChange:A=>i(A.target.value),placeholder:"he hecho...",className:"w-full bg-slate-700 border border-slate-600 rounded-md py-3 pr-4 pl-36 focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",disabled:s})]}),f&&tt.jsx("p",{className:"text-red-400 text-sm mt-2",children:f}),tt.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[tt.jsx(sa,{type:"button",variant:"secondary",onClick:r,disabled:s,children:"Cancelar"}),tt.jsx(sa,{type:"submit",disabled:s||e.trim()==="",children:s?tt.jsxs(tt.Fragment,{children:[tt.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Enviando..."]}):"Enviar Sugerencia"})]})]})]})})})};var Xy;(function(r){r.General="General",r.ParentalGuidance="ParentalGuidance",r.Teen="Teen",r.MatureAudience="MatureAudience"})(Xy||(Xy={}));var Zy;(function(r){r.SizeChanged="bannerAdSizeChanged",r.Loaded="bannerAdLoaded",r.FailedToLoad="bannerAdFailedToLoad",r.Opened="bannerAdOpened",r.Closed="bannerAdClosed",r.AdImpression="bannerAdImpression"})(Zy||(Zy={}));var $y;(function(r){r.TOP_CENTER="TOP_CENTER",r.CENTER="CENTER",r.BOTTOM_CENTER="BOTTOM_CENTER"})($y||($y={}));var Yh;(function(r){r.BANNER="BANNER",r.FULL_BANNER="FULL_BANNER",r.LARGE_BANNER="LARGE_BANNER",r.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",r.LEADERBOARD="LEADERBOARD",r.ADAPTIVE_BANNER="ADAPTIVE_BANNER",r.SMART_BANNER="SMART_BANNER"})(Yh||(Yh={}));var Jy;(function(r){r.Loaded="interstitialAdLoaded",r.FailedToLoad="interstitialAdFailedToLoad",r.Showed="interstitialAdShowed",r.FailedToShow="interstitialAdFailedToShow",r.Dismissed="interstitialAdDismissed"})(Jy||(Jy={}));var Wy;(function(r){r.Loaded="onRewardedInterstitialAdLoaded",r.FailedToLoad="onRewardedInterstitialAdFailedToLoad",r.Showed="onRewardedInterstitialAdShowed",r.FailedToShow="onRewardedInterstitialAdFailedToShow",r.Dismissed="onRewardedInterstitialAdDismissed",r.Rewarded="onRewardedInterstitialAdReward"})(Wy||(Wy={}));var t_;(function(r){r.Loaded="onRewardedVideoAdLoaded",r.FailedToLoad="onRewardedVideoAdFailedToLoad",r.Showed="onRewardedVideoAdShowed",r.FailedToShow="onRewardedVideoAdFailedToShow",r.Dismissed="onRewardedVideoAdDismissed",r.Rewarded="onRewardedVideoAdReward"})(t_||(t_={}));var e_;(function(r){r.NOT_REQUIRED="NOT_REQUIRED",r.OBTAINED="OBTAINED",r.REQUIRED="REQUIRED",r.UNKNOWN="UNKNOWN"})(e_||(e_={}));var n_;(function(r){r[r.DISABLED=0]="DISABLED",r[r.EEA=1]="EEA",r[r.NOT_EEA=2]="NOT_EEA"})(n_||(n_={}));const Uu=cE("AdMob",{web:()=>Lu(()=>import("./web-PoiNEk1h.js"),[],import.meta.url).then(r=>new r.AdMobWeb)});var _b={};const vb=()=>{const[r,e]=pe.useState(Nn.Home),[i,s]=pe.useState(!1),[o,f]=pe.useState(!0),[d,g]=pe.useState(!1),[_,v]=pe.useState(!1);pe.useEffect(()=>{if(wE(),o){const Y={adId:_b.VITE_MOBAPP_BANNER_ID||"ca-app-pub-3940256099942544/6300978111",adSize:Yh.BANNER,position:"BOTTOM_CENTER",margin:0};Uu.showBanner(Y).then(()=>console.log("Banner AdMob mostrado")).catch(it=>console.error("Error mostrando banner (mobile):",it))}return()=>{Uu.hideBanner().catch(()=>{})}},[o]);const A=pe.useCallback(Y=>{e(Y)},[]),I=()=>{f(!1),Uu.hideBanner().catch(()=>{}),alert("¡Gracias! Los anuncios han sido eliminados."),e(Nn.Home)},z=()=>{g(!0),alert("¡Gracias! Has comprado el paquete de frases premium."),e(Nn.Home)},k=()=>{switch(r){case Nn.Game:return tt.jsx(mb,{navigate:A,hasPremium:d,includeAdult:_});case Nn.Store:return tt.jsx(gb,{navigate:A,onPurchaseRemoveAds:I,onPurchasePremium:z,showAds:o,hasPremium:d});case Nn.Home:default:return tt.jsx(DE,{navigate:A,onSuggestClick:()=>s(!0),onStartGame:Y=>v(Y)})}};return tt.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 overflow-hidden",children:[tt.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),tt.jsx("div",{className:"z-10 w-full max-w-md mx-auto flex-grow flex flex-col justify-center",children:k()}),i&&tt.jsx(yb,{onClose:()=>s(!1)})]})},Eb=async()=>{if(fE.isNativePlatform())try{await Uu.initialize(),console.log("AdMob inicializado correctamente")}catch(r){console.error("Error inicializando AdMob:",r)}};Eb().then(()=>{SE.createRoot(document.getElementById("root")).render(tt.jsx(gE.StrictMode,{children:tt.jsx(vb,{})}))}).catch(r=>console.error("Error al iniciar la app:",r));export{e_ as A,Lu as _,Rb as g};
//# sourceMappingURL=index-D1Pc-dgb.js.map
