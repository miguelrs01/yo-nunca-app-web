{"version":3,"file":"purchaseService-Bw4SdTOz.js","sources":["../../services/purchaseService.ts"],"sourcesContent":["import { Plugins } from '@capacitor/core';\nconst { Billing } = Plugins;\n\nexport const buyProduct = async (productId: string) => {\n  try {\n    const res = await Billing.purchase({ productId });\n    console.log(\"Compra OK\", res);\n    return res;\n  } catch (err) {\n    console.error(\"Error en compra\", err);\n    return null;\n  }\n};\n\nexport const restorePurchases = async () => {\n  try {\n    const res = await Billing.restorePurchases();\n    console.log(\"Compras restauradas:\", res.purchases);\n\n    const hasRemoveAds = res.purchases.some((p: any) => p.productId === 'remove_ads');\n    const hasPremium = res.purchases.some((p: any) => p.productId === 'premium_phrases');\n\n    return { hasRemoveAds, hasPremium };\n  } catch (err) {\n    console.error(\"Error restaurando compras:\", err);\n    return { hasRemoveAds: false, hasPremium: false };\n  }\n};\n"],"names":["Billing","Plugins","buyProduct","productId","res","err","restorePurchases","hasRemoveAds","p","hasPremium"],"mappings":"wCACA,KAAM,CAAE,QAAAA,GAAYC,EAEPC,EAAa,MAAOC,GAAsB,CACrD,GAAI,CACF,MAAMC,EAAM,MAAMJ,EAAQ,SAAS,CAAE,UAAAG,EAAW,EAChD,eAAQ,IAAI,YAAaC,CAAG,EACrBA,CACT,OAASC,EAAK,CACZ,eAAQ,MAAM,kBAAmBA,CAAG,EAC7B,IACT,CACF,EAEaC,EAAmB,SAAY,CAC1C,GAAI,CACF,MAAMF,EAAM,MAAMJ,EAAQ,iBAAA,EAC1B,QAAQ,IAAI,uBAAwBI,EAAI,SAAS,EAEjD,MAAMG,EAAeH,EAAI,UAAU,KAAMI,GAAWA,EAAE,YAAc,YAAY,EAC1EC,EAAaL,EAAI,UAAU,KAAMI,GAAWA,EAAE,YAAc,iBAAiB,EAEnF,MAAO,CAAE,aAAAD,EAAc,WAAAE,CAAA,CACzB,OAASJ,EAAK,CACZ,eAAQ,MAAM,6BAA8BA,CAAG,EACxC,CAAE,aAAc,GAAO,WAAY,EAAA,CAC5C,CACF"}