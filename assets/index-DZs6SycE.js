(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function T_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Eh={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function UE(){if(iy)return Ol;iy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var ay;function LE(){return ay||(ay=1,Eh.exports=UE()),Eh.exports}var nt=LE(),Th={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function zE(){if(ry)return _t;ry=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function mt(V,k,X){this.props=V,this.context=k,this.refs=J,this.updater=X||Y}mt.prototype.isReactComponent={},mt.prototype.setState=function(V,k){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,k,"setState")},mt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function At(){}At.prototype=mt.prototype;function dt(V,k,X){this.props=V,this.context=k,this.refs=J,this.updater=X||Y}var Rt=dt.prototype=new At;Rt.constructor=dt,W(Rt,mt.prototype),Rt.isPureReactComponent=!0;var Wt=Array.isArray;function Vt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function b(V,k,X){var it=X.ref;return{$$typeof:r,type:V,key:k,ref:it!==void 0?it:null,props:X}}function O(V,k){return b(V.type,k,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var k={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(X){return k[X]})}var w=/\/+/g;function Zt(V,k){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):k.toString(36)}function Jt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Vt,Vt):(V.status="pending",V.then(function(k){V.status==="pending"&&(V.status="fulfilled",V.value=k)},function(k){V.status==="pending"&&(V.status="rejected",V.reason=k)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,k,X,it,lt){var yt=typeof V;(yt==="undefined"||yt==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(yt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case r:case e:bt=!0;break;case S:return bt=V._init,H(bt(V._payload),k,X,it,lt)}}if(bt)return lt=lt(V),bt=it===""?"."+Zt(V,0):it,Wt(lt)?(X="",bt!=null&&(X=bt.replace(w,"$&/")+"/"),H(lt,k,X,"",function(kn){return kn})):lt!=null&&(N(lt)&&(lt=O(lt,X+(lt.key==null||V&&V.key===lt.key?"":(""+lt.key).replace(w,"$&/")+"/")+bt)),k.push(lt)),1;bt=0;var Ne=it===""?".":it+":";if(Wt(V))for(var re=0;re<V.length;re++)it=V[re],yt=Ne+Zt(it,re),bt+=H(it,k,X,yt,lt);else if(re=G(V),typeof re=="function")for(V=re.call(V),re=0;!(it=V.next()).done;)it=it.value,yt=Ne+Zt(it,re++),bt+=H(it,k,X,yt,lt);else if(yt==="object"){if(typeof V.then=="function")return H(Jt(V),k,X,it,lt);throw k=String(V),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return bt}function et(V,k,X){if(V==null)return V;var it=[],lt=0;return H(V,it,"","",function(yt){return k.call(X,yt,lt++)}),it}function ot(V){if(V._status===-1){var k=V._result;k=k(),k.then(function(X){(V._status===0||V._status===-1)&&(V._status=1,V._result=X)},function(X){(V._status===0||V._status===-1)&&(V._status=2,V._result=X)}),V._status===-1&&(V._status=0,V._result=k)}if(V._status===1)return V._result.default;throw V._result}var Ot=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},gt={map:et,forEach:function(V,k,X){et(V,function(){k.apply(this,arguments)},X)},count:function(V){var k=0;return et(V,function(){k++}),k},toArray:function(V){return et(V,function(k){return k})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=R,_t.Children=gt,_t.Component=mt,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=dt,_t.StrictMode=s,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,k,X){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=W({},V.props),lt=V.key;if(k!=null)for(yt in k.key!==void 0&&(lt=""+k.key),k)!A.call(k,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&k.ref===void 0||(it[yt]=k[yt]);var yt=arguments.length-2;if(yt===1)it.children=X;else if(1<yt){for(var bt=Array(yt),Ne=0;Ne<yt;Ne++)bt[Ne]=arguments[Ne+2];it.children=bt}return b(V.type,lt,it)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},_t.createElement=function(V,k,X){var it,lt={},yt=null;if(k!=null)for(it in k.key!==void 0&&(yt=""+k.key),k)A.call(k,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(lt[it]=k[it]);var bt=arguments.length-2;if(bt===1)lt.children=X;else if(1<bt){for(var Ne=Array(bt),re=0;re<bt;re++)Ne[re]=arguments[re+2];lt.children=Ne}if(V&&V.defaultProps)for(it in bt=V.defaultProps,bt)lt[it]===void 0&&(lt[it]=bt[it]);return b(V,yt,lt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:g,render:V}},_t.isValidElement=N,_t.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ot}},_t.memo=function(V,k){return{$$typeof:v,type:V,compare:k===void 0?null:k}},_t.startTransition=function(V){var k=C.T,X={};C.T=X;try{var it=V(),lt=C.S;lt!==null&&lt(X,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Vt,Ot)}catch(yt){Ot(yt)}finally{k!==null&&X.types!==null&&(k.types=X.types),C.T=k}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(V){return C.H.use(V)},_t.useActionState=function(V,k,X){return C.H.useActionState(V,k,X)},_t.useCallback=function(V,k){return C.H.useCallback(V,k)},_t.useContext=function(V){return C.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,k){return C.H.useDeferredValue(V,k)},_t.useEffect=function(V,k){return C.H.useEffect(V,k)},_t.useEffectEvent=function(V){return C.H.useEffectEvent(V)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(V,k,X){return C.H.useImperativeHandle(V,k,X)},_t.useInsertionEffect=function(V,k){return C.H.useInsertionEffect(V,k)},_t.useLayoutEffect=function(V,k){return C.H.useLayoutEffect(V,k)},_t.useMemo=function(V,k){return C.H.useMemo(V,k)},_t.useOptimistic=function(V,k){return C.H.useOptimistic(V,k)},_t.useReducer=function(V,k,X){return C.H.useReducer(V,k,X)},_t.useRef=function(V){return C.H.useRef(V)},_t.useState=function(V){return C.H.useState(V)},_t.useSyncExternalStore=function(V,k,X){return C.H.useSyncExternalStore(V,k,X)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.0",_t}var sy;function rd(){return sy||(sy=1,Th.exports=zE()),Th.exports}var me=rd();const PE=T_(me);var Ah={exports:{}},Il={},Sh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function BE(){return ly||(ly=1,(function(r){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Ot=ot-1>>>1,gt=H[Ot];if(0<o(gt,et))H[Ot]=et,H[ot]=gt,ot=Ot;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Ot=0,gt=H.length,V=gt>>>1;Ot<V;){var k=2*(Ot+1)-1,X=H[k],it=k+1,lt=H[it];if(0>o(X,ot))it<gt&&0>o(lt,X)?(H[Ot]=lt,H[it]=ot,Ot=it):(H[Ot]=X,H[k]=ot,Ot=k);else if(it<gt&&0>o(lt,ot))H[Ot]=lt,H[it]=ot,Ot=it;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,R=null,x=3,G=!1,Y=!1,W=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Rt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function Wt(H){if(W=!1,Rt(H),!Y)if(i(_)!==null)Y=!0,Vt||(Vt=!0,M());else{var et=i(v);et!==null&&Jt(Wt,et.startTime-H)}}var Vt=!1,C=-1,A=5,b=-1;function O(){return J?!0:!(r.unstable_now()-b<A)}function N(){if(J=!1,Vt){var H=r.unstable_now();b=H;var et=!0;try{t:{Y=!1,W&&(W=!1,At(C),C=-1),G=!0;var ot=x;try{e:{for(Rt(H),R=i(_);R!==null&&!(R.expirationTime>H&&O());){var Ot=R.callback;if(typeof Ot=="function"){R.callback=null,x=R.priorityLevel;var gt=Ot(R.expirationTime<=H);if(H=r.unstable_now(),typeof gt=="function"){R.callback=gt,Rt(H),et=!0;break e}R===i(_)&&s(_),Rt(H)}else s(_);R=i(_)}if(R!==null)et=!0;else{var V=i(v);V!==null&&Jt(Wt,V.startTime-H),et=!1}}break t}finally{R=null,x=ot,G=!1}et=void 0}}finally{et?M():Vt=!1}}}var M;if(typeof dt=="function")M=function(){dt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Zt=w.port2;w.port1.onmessage=N,M=function(){Zt.postMessage(null)}}else M=function(){mt(N,0)};function Jt(H,et){C=mt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ot=x;x=et;try{return H()}finally{x=ot}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=x;x=H;try{return et()}finally{x=ot}},r.unstable_scheduleCallback=function(H,et,ot){var Ot=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ot+ot:Ot):ot=Ot,H){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=ot+gt,H={id:S++,callback:et,priorityLevel:H,startTime:ot,expirationTime:gt,sortIndex:-1},ot>Ot?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(W?(At(C),C=-1):W=!0,Jt(Wt,ot-Ot))):(H.sortIndex=gt,e(_,H),Y||G||(Y=!0,Vt||(Vt=!0,M()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var et=x;return function(){var ot=x;x=et;try{return H.apply(this,arguments)}finally{x=ot}}}})(bh)),bh}var oy;function jE(){return oy||(oy=1,Sh.exports=BE()),Sh.exports}var wh={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function qE(){if(uy)return Qe;uy=1;var r=rd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:_,containerInfo:v,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,S)},Qe.flushSync=function(_){var v=d.T,S=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=S,s.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,R=g(S,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:x,fetchPriority:G}):S==="script"&&s.d.X(_,{crossOrigin:R,integrity:x,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,R=g(S,v.crossOrigin);s.d.L(_,S,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Qe.requestFormReset=function(_){s.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var cy;function kE(){if(cy)return wh.exports;cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wh.exports=qE(),wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function HE(){if(fy)return Il;fy=1;var r=jE(),e=rd(),i=kE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(f(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return _(c),t;if(h===l)return _(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var p=!1,E=c.child;E;){if(E===a){p=!0,a=c,l=h;break}if(E===l){p=!0,l=c,a=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===a){p=!0,a=h,l=c;break}if(E===l){p=!0,l=h,a=c;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case mt:return"Profiler";case J:return"StrictMode";case Wt:return"Suspense";case Vt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case dt:return t.displayName||"Context";case At:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Zt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Zt(t(n))}catch{}}return null}var Jt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ot=[],gt=-1;function V(t){return{current:t}}function k(t){0>gt||(t.current=Ot[gt],Ot[gt]=null,gt--)}function X(t,n){gt++,Ot[gt]=t.current,t.current=n}var it=V(null),lt=V(null),yt=V(null),bt=V(null);function Ne(t,n){switch(X(yt,n),X(lt,t),X(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rp(n),t=Cp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(it),X(it,t)}function re(){k(it),k(lt),k(yt)}function kn(t){t.memoizedState!==null&&X(bt,t);var n=it.current,a=Cp(n,t.type);n!==a&&(X(lt,t),X(it,a))}function si(t){lt.current===t&&(k(it),k(lt)),bt.current===t&&(k(bt),Rl._currentValue=ot)}var xa,vr;function Mn(t){if(xa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xa=n&&n[1]||"",vr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+vr}var Ua=!1;function Er(t,n){if(!t||Ua)return"";Ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var B=j}Reflect.construct(t,[],K)}else{try{K.call()}catch(j){B=j}t.call(K.prototype)}}else{try{throw Error()}catch(j){B=j}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var D=p.split(`
`),P=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===P.length)for(l=D.length-1,c=P.length-1;1<=l&&0<=c&&D[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==P[c]){var F=`
`+D[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ua=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mn(a):""}function pc(t,n){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Er(t.type,!1);case 11:return Er(t.type.render,!1);case 1:return Er(t.type,!0);case 31:return Mn("Activity");default:return""}}function ao(t){try{var n="",a=null;do n+=pc(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tr=Object.prototype.hasOwnProperty,La=r.unstable_scheduleCallback,Ar=r.unstable_cancelCallback,yc=r.unstable_shouldYield,Vs=r.unstable_requestPaint,Me=r.unstable_now,ro=r.unstable_getCurrentPriorityLevel,Ae=r.unstable_ImmediatePriority,Re=r.unstable_UserBlockingPriority,li=r.unstable_NormalPriority,so=r.unstable_LowPriority,Os=r.unstable_IdlePriority,_c=r.log,za=r.unstable_setDisableYieldValue,Pi=null,Ge=null;function vn(t){if(typeof _c=="function"&&za(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Pi,t)}catch{}}var $e=Math.clz32?Math.clz32:lo,vc=Math.log,Is=Math.LN2;function lo(t){return t>>>=0,t===0?32:31-(vc(t)/Is|0)|0}var Pa=256,Hn=262144,Bi=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function En(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=xn(l):(p&=E,p!==0?c=xn(p):a||(a=E&~t,a!==0&&(c=xn(a))))):(E=l&~h,E!==0?c=xn(E):p!==0?c=xn(p):a||(a=l&~t,a!==0&&(c=xn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function ji(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),t}function oi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function qi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xe(t,n,a,l,c,h){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var F=31-$e(a),K=1<<F;E[F]=0,D[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var j=B[F];j!==null&&(j.lane&=-536870913)}a&=~K}l!==0&&Ms(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~n))}function Ms(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ki(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-$e(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Hi(t,n){var a=n&-n;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|n))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:$p(t.type))}function oo(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Gn=Math.random().toString(36).slice(2),le="__reactFiber$"+Gn,Ue="__reactProps$"+Gn,Fn="__reactContainer$"+Gn,Gi="__reactEvents$"+Gn,Qn="__reactListeners$"+Gn,uo="__reactHandles$"+Gn,Ls="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function Ba(t){delete t[le],delete t[Ue],delete t[Gi],delete t[Qn],delete t[uo]}function fi(t){var n=t[le];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Fn]||a[le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=xp(t);t!==null;){if(a=t[le])return a;t=xp(t)}return n}t=a,a=t.parentNode}return null}function hi(t){if(t=t[le]||t[Fn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ja(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Un(t){var n=t[Ls];return n||(n=t[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(t){t[ci]=!0}var br=new Set,Fi={};function Ze(t,n){Yn(t,n),Yn(t+"Capture",n)}function Yn(t,n){for(Fi[t]=n,t=0;t<n.length;t++)br.add(n[t])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},Ps={};function co(t){return Tr.call(Ps,t)?!0:Tr.call(zs,t)?!1:Ec.test(t)?Ps[t]=!0:(zs[t]=!0,!1)}function Qi(t,n,a){if(co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Yi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tc(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,h.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function wr(t){if(!t._valueTracker){var n=fo(t)?"checked":"value";t._valueTracker=Tc(t,n,""+t[n])}}function Bs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var di=/[\n"\\]/g;function oe(t){return t.replace(di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ki(t,n,a,l,c,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Cr(t,p,Je(n)):a!=null?Cr(t,p,Je(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Je(E):t.removeAttribute("name")}function qa(t,n,a,l,c,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){wr(t);return}a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),wr(t)}function Cr(t,n,a){n==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ka(t,n,a){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Je(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Jt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),wr(t)}function An(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function js(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ac.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ho(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&js(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&js(t,h,n[h])}function qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(t){return bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ce(){}var Dr=null;function Vr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,cn=null;function mo(t){var n=hi(t);if(n&&(t=n.stateNode)){var a=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ki(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(s(90));Ki(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Bs(l)}break t;case"textarea":ka(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(t,!!a.multiple,n,!1)}}}var ks=!1;function go(t,n,a){if(ks)return t(n,a);ks=!0;try{var l=t(n);return l}finally{if(ks=!1,(mi!==null||cn!==null)&&(fu(),mi&&(n=mi,t=cn,cn=mi=null,mo(n),t)))for(n=0;n<t.length;n++)mo(t[n])}}function nn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Ln)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Hs=!1}var fn=null,Or=null,$n=null;function $i(){if($n)return $n;var t,n=Or,a=n.length,l,c="value"in fn?fn.value:fn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[h-l];l++);return $n=c.slice(t,1<l?1-l:void 0)}function Ha(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function te(){return!1}function Fe(t){function n(a,l,c,h,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zi:te,this.isPropagationStopped=te,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Fe(gi),Ji=R({},gi,{view:0,detail:0}),po=Fe(Ji),Wi,Ir,We,Fa=R({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==We&&(We&&t.type==="mousemove"?(Wi=t.screenX-We.screenX,Ir=t.screenY-We.screenY):Ir=Wi=0,We=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Ir}}),yo=Fe(Fa),Qa=R({},Fa,{dataTransfer:0}),_o=Fe(Qa),Gs=R({},Ji,{relatedTarget:0}),ta=Fe(Gs),vo=R({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Fe(vo),wc=R({},gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eo=Fe(wc),Ya=R({},gi,{data:0}),Fs=Fe(Ya),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ys={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ys[t])?!!n[t]:!1}function ea(){return Ao}var So=R({},Ji,{key:function(t){if(t.key){var n=To[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qs[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bo=Fe(So),pi=R({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=Fe(pi),wo=R({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ro=Fe(wo),Co=R({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mr=Fe(Co),tn=R({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Do=Fe(tn),Vo=R({},gi,{newState:0,oldState:0}),na=Fe(Vo),u=[9,13,27,32],m=Ln&&"CompositionEvent"in window,y=null;Ln&&"documentMode"in document&&(y=document.documentMode);var T=Ln&&"TextEvent"in window&&!y,L=Ln&&(!m||y&&8<y&&11>=y),q=" ",tt=!1;function kt(t,n){switch(t){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wt=!1;function De(t,n){switch(t){case"compositionend":return pe(n);case"keypress":return n.which!==32?null:(tt=!0,q);case"textInput":return t=n.data,t===q&&tt?null:t;default:return null}}function Ve(t,n){if(wt)return t==="compositionend"||!m&&kt(t,n)?(t=$i(),$n=Or=fn=null,wt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ia[t.type]:n==="textarea"}function Ka(t,n,a,l){mi?cn?cn.push(l):cn=[l]:mi=l,n=_u(n,"onChange"),0<n.length&&(a=new Ga("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var yi=null,Xs=null;function o0(t){Ep(t,0)}function Oo(t){var n=ja(t);if(Bs(n))return t}function Bd(t,n){if(t==="change")return n}var jd=!1;if(Ln){var Rc;if(Ln){var Cc="oninput"in document;if(!Cc){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Cc=typeof qd.oninput=="function"}Rc=Cc}else Rc=!1;jd=Rc&&(!document.documentMode||9<document.documentMode)}function kd(){yi&&(yi.detachEvent("onpropertychange",Hd),Xs=yi=null)}function Hd(t){if(t.propertyName==="value"&&Oo(Xs)){var n=[];Ka(n,Xs,t,Vr(t)),go(o0,n)}}function u0(t,n,a){t==="focusin"?(kd(),yi=n,Xs=a,yi.attachEvent("onpropertychange",Hd)):t==="focusout"&&kd()}function c0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Xs)}function f0(t,n){if(t==="click")return Oo(n)}function h0(t,n){if(t==="input"||t==="change")return Oo(n)}function d0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:d0;function $s(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Tr.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var a=Gd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gd(a)}}function Qd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Rr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Rr(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var m0=Ln&&"documentMode"in document&&11>=document.documentMode,xr=null,Vc=null,Zs=null,Oc=!1;function Kd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oc||xr==null||xr!==Rr(l)||(l=xr,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zs&&$s(Zs,l)||(Zs=l,l=_u(Vc,"onSelect"),0<l.length&&(n=new Ga("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=xr)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ur={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Ic={},Xd={};Ln&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function $a(t){if(Ic[t])return Ic[t];if(!Ur[t])return t;var n=Ur[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xd)return Ic[t]=n[a];return t}var $d=$a("animationend"),Zd=$a("animationiteration"),Jd=$a("animationstart"),g0=$a("transitionrun"),p0=$a("transitionstart"),y0=$a("transitioncancel"),Wd=$a("transitionend"),tm=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function zn(t,n){tm.set(t,n),Ze(n,[t])}var Io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Lr=0,Mc=0;function No(){for(var t=Lr,n=Mc=Lr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var h=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}h!==0&&em(a,c,h)}}function Mo(t,n,a,l){Sn[Lr++]=t,Sn[Lr++]=n,Sn[Lr++]=a,Sn[Lr++]=l,Mc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xc(t,n,a,l){return Mo(t,n,a,l),xo(t)}function Za(t,n){return Mo(t,null,null,n),xo(t)}function em(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-$e(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function xo(t){if(50<vl)throw vl=0,Gf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var zr={};function _0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new _0(t,n,a,l)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function nm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uo(t,n,a,l,c,h){var p=0;if(l=t,typeof t=="function")Uc(t)&&(p=1);else if(typeof t=="string")p=SE(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=dn(31,a,n,c),t.elementType=b,t.lanes=h,t;case W:return Ja(a.children,c,h,n);case J:p=8,c|=24;break;case mt:return t=dn(12,a,n,c|2),t.elementType=mt,t.lanes=h,t;case Wt:return t=dn(13,a,n,c),t.elementType=Wt,t.lanes=h,t;case Vt:return t=dn(19,a,n,c),t.elementType=Vt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:p=10;break t;case At:p=9;break t;case Rt:p=11;break t;case C:p=14;break t;case A:p=16,l=null;break t}p=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(p,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Ja(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function Lc(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function im(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function zc(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var am=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=am.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ao(n)},am.set(t,n),n)}return{value:t,source:n,stack:ao(n)}}var Pr=[],Br=0,Lo=null,Js=0,wn=[],Rn=0,aa=null,Zn=1,Jn="";function vi(t,n){Pr[Br++]=Js,Pr[Br++]=Lo,Lo=t,Js=n}function rm(t,n,a){wn[Rn++]=Zn,wn[Rn++]=Jn,wn[Rn++]=aa,aa=t;var l=Zn;t=Jn;var c=32-$e(l)-1;l&=~(1<<c),a+=1;var h=32-$e(n)+c;if(30<h){var p=c-c%5;h=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Zn=1<<32-$e(n)+c|a<<c|l,Jn=h+t}else Zn=1<<h|a<<c|l,Jn=t}function Pc(t){t.return!==null&&(vi(t,1),rm(t,1,0))}function Bc(t){for(;t===Lo;)Lo=Pr[--Br],Pr[Br]=null,Js=Pr[--Br],Pr[Br]=null;for(;t===aa;)aa=wn[--Rn],wn[Rn]=null,Jn=wn[--Rn],wn[Rn]=null,Zn=wn[--Rn],wn[Rn]=null}function sm(t,n){wn[Rn++]=Zn,wn[Rn++]=Jn,wn[Rn++]=aa,Zn=n.id,Jn=n.overflow,aa=t}var Le=null,ee=null,xt=!1,ra=null,Cn=!1,jc=Error(s(519));function sa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ws(bn(n,t)),jc}function lm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[le]=t,n[Ue]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Dt(Tl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),qa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||bp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ce),n=!0):n=!1,n||sa(t,!0)}function om(t){for(Le=t.return;Le;)switch(Le.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Le=Le.return}}function jr(t){if(t!==Le)return!1;if(!xt)return om(t),xt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rh(t.type,t.memoizedProps)),a=!a),a&&ee&&sa(t),om(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Mp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Mp(t)}else n===27?(n=ee,Ea(t.type)?(t=ch,ch=null,ee=t):ee=n):ee=Le?Vn(t.stateNode.nextSibling):null;return!0}function Wa(){ee=Le=null,xt=!1}function qc(){var t=ra;return t!==null&&(on===null?on=t:on.push.apply(on,t),ra=null),t}function Ws(t){ra===null?ra=[t]:ra.push(t)}var kc=V(null),tr=null,Ei=null;function la(t,n,a){X(kc,n._currentValue),n._currentValue=a}function Ti(t){t._currentValue=kc.current,k(kc)}function Hc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Gc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Hc(h.return,a,t),l||(p=null);break t}h=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=a,h=p.alternate,h!==null&&(h.lanes|=a),Hc(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function qr(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=c.type;hn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===bt.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Gc(n,t,a,l),n.flags|=262144}function zo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){tr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ze(t){return um(tr,t)}function Po(t,n){return tr===null&&er(t),um(t,n)}function um(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return a}var v0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},E0=r.unstable_scheduleCallback,T0=r.unstable_NormalPriority,ye={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new v0,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&E0(T0,function(){t.controller.abort()})}var el=null,Qc=0,kr=0,Hr=null;function A0(t,n){if(el===null){var a=el=[];Qc=0,kr=$f(),Hr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qc++,n.then(cm,cm),n}function cm(){if(--Qc===0&&el!==null){Hr!==null&&(Hr.status="fulfilled");var t=el;el=null,kr=0,Hr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function S0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var fm=H.S;H.S=function(t,n){Kg=Me(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A0(t,n),fm!==null&&fm(t,n)};var nr=V(null);function Yc(){var t=nr.current;return t!==null?t:Xt.pooledCache}function Bo(t,n){n===null?X(nr,nr.current):X(nr,n.pool)}function hm(){var t=Yc();return t===null?null:{parent:ye._currentValue,pool:t}}var Gr=Error(s(460)),Kc=Error(s(474)),jo=Error(s(542)),qo={then:function(){}};function dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ce,Ce),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pm(t),t;default:if(typeof n.status=="string")n.then(Ce,Ce);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pm(t),t}throw ar=n,Gr}}function ir(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ar=a,Gr):a}}var ar=null;function gm(){if(ar===null)throw Error(s(459));var t=ar;return ar=null,t}function pm(t){if(t===Gr||t===jo)throw Error(s(483))}var Fr=null,nl=0;function ko(t){var n=nl;return nl+=1,Fr===null&&(Fr=[]),mm(Fr,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ho(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ym(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=_i(U,I),U.index=0,U.sibling=null,U}function h(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=67108866,I):z):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,z,Q){return I===null||I.tag!==6?(I=Lc(z,U.mode,Q),I.return=U,I):(I=c(I,z),I.return=U,I)}function D(U,I,z,Q){var ct=z.type;return ct===W?F(U,I,z.props.children,Q,z.key):I!==null&&(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&ir(ct)===I.type)?(I=c(I,z.props),il(I,z),I.return=U,I):(I=Uo(z.type,z.key,z.props,null,U.mode,Q),il(I,z),I.return=U,I)}function P(U,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=zc(z,U.mode,Q),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function F(U,I,z,Q,ct){return I===null||I.tag!==7?(I=Ja(z,U.mode,Q,ct),I.return=U,I):(I=c(I,z),I.return=U,I)}function K(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Lc(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return z=Uo(I.type,I.key,I.props,null,U.mode,z),il(z,I),z.return=U,z;case Y:return I=zc(I,U.mode,z),I.return=U,I;case A:return I=ir(I),K(U,I,z)}if(Jt(I)||M(I))return I=Ja(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return K(U,ko(I),z);if(I.$$typeof===dt)return K(U,Po(U,I),z);Ho(U,I)}return null}function B(U,I,z,Q){var ct=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ct!==null?null:E(U,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===ct?D(U,I,z,Q):null;case Y:return z.key===ct?P(U,I,z,Q):null;case A:return z=ir(z),B(U,I,z,Q)}if(Jt(z)||M(z))return ct!==null?null:F(U,I,z,Q,null);if(typeof z.then=="function")return B(U,I,ko(z),Q);if(z.$$typeof===dt)return B(U,I,Po(U,z),Q);Ho(U,z)}return null}function j(U,I,z,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,E(I,U,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return U=U.get(Q.key===null?z:Q.key)||null,D(I,U,Q,ct);case Y:return U=U.get(Q.key===null?z:Q.key)||null,P(I,U,Q,ct);case A:return Q=ir(Q),j(U,I,z,Q,ct)}if(Jt(Q)||M(Q))return U=U.get(z)||null,F(I,U,Q,ct,null);if(typeof Q.then=="function")return j(U,I,z,ko(Q),ct);if(Q.$$typeof===dt)return j(U,I,z,Po(I,Q),ct);Ho(I,Q)}return null}function at(U,I,z,Q){for(var ct=null,Pt=null,st=I,St=I=0,Nt=null;st!==null&&St<z.length;St++){st.index>St?(Nt=st,st=null):Nt=st.sibling;var Bt=B(U,st,z[St],Q);if(Bt===null){st===null&&(st=Nt);break}t&&st&&Bt.alternate===null&&n(U,st),I=h(Bt,I,St),Pt===null?ct=Bt:Pt.sibling=Bt,Pt=Bt,st=Nt}if(St===z.length)return a(U,st),xt&&vi(U,St),ct;if(st===null){for(;St<z.length;St++)st=K(U,z[St],Q),st!==null&&(I=h(st,I,St),Pt===null?ct=st:Pt.sibling=st,Pt=st);return xt&&vi(U,St),ct}for(st=l(st);St<z.length;St++)Nt=j(st,U,St,z[St],Q),Nt!==null&&(t&&Nt.alternate!==null&&st.delete(Nt.key===null?St:Nt.key),I=h(Nt,I,St),Pt===null?ct=Nt:Pt.sibling=Nt,Pt=Nt);return t&&st.forEach(function(wa){return n(U,wa)}),xt&&vi(U,St),ct}function ht(U,I,z,Q){if(z==null)throw Error(s(151));for(var ct=null,Pt=null,st=I,St=I=0,Nt=null,Bt=z.next();st!==null&&!Bt.done;St++,Bt=z.next()){st.index>St?(Nt=st,st=null):Nt=st.sibling;var wa=B(U,st,Bt.value,Q);if(wa===null){st===null&&(st=Nt);break}t&&st&&wa.alternate===null&&n(U,st),I=h(wa,I,St),Pt===null?ct=wa:Pt.sibling=wa,Pt=wa,st=Nt}if(Bt.done)return a(U,st),xt&&vi(U,St),ct;if(st===null){for(;!Bt.done;St++,Bt=z.next())Bt=K(U,Bt.value,Q),Bt!==null&&(I=h(Bt,I,St),Pt===null?ct=Bt:Pt.sibling=Bt,Pt=Bt);return xt&&vi(U,St),ct}for(st=l(st);!Bt.done;St++,Bt=z.next())Bt=j(st,U,St,Bt.value,Q),Bt!==null&&(t&&Bt.alternate!==null&&st.delete(Bt.key===null?St:Bt.key),I=h(Bt,I,St),Pt===null?ct=Bt:Pt.sibling=Bt,Pt=Bt);return t&&st.forEach(function(xE){return n(U,xE)}),xt&&vi(U,St),ct}function Kt(U,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:t:{for(var ct=z.key;I!==null;){if(I.key===ct){if(ct=z.type,ct===W){if(I.tag===7){a(U,I.sibling),Q=c(I,z.props.children),Q.return=U,U=Q;break t}}else if(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&ir(ct)===I.type){a(U,I.sibling),Q=c(I,z.props),il(Q,z),Q.return=U,U=Q;break t}a(U,I);break}else n(U,I);I=I.sibling}z.type===W?(Q=Ja(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=Uo(z.type,z.key,z.props,null,U.mode,Q),il(Q,z),Q.return=U,U=Q)}return p(U);case Y:t:{for(ct=z.key;I!==null;){if(I.key===ct)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(U,I.sibling),Q=c(I,z.children||[]),Q.return=U,U=Q;break t}else{a(U,I);break}else n(U,I);I=I.sibling}Q=zc(z,U.mode,Q),Q.return=U,U=Q}return p(U);case A:return z=ir(z),Kt(U,I,z,Q)}if(Jt(z))return at(U,I,z,Q);if(M(z)){if(ct=M(z),typeof ct!="function")throw Error(s(150));return z=ct.call(z),ht(U,I,z,Q)}if(typeof z.then=="function")return Kt(U,I,ko(z),Q);if(z.$$typeof===dt)return Kt(U,I,Po(U,z),Q);Ho(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(U,I.sibling),Q=c(I,z),Q.return=U,U=Q):(a(U,I),Q=Lc(z,U.mode,Q),Q.return=U,U=Q),p(U)):a(U,I)}return function(U,I,z,Q){try{nl=0;var ct=Kt(U,I,z,Q);return Fr=null,ct}catch(st){if(st===Gr||st===jo)throw st;var Pt=dn(29,st,null,U.mode);return Pt.lanes=Q,Pt.return=U,Pt}finally{}}}var rr=ym(!0),_m=ym(!1),oa=!1;function Xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xo(t),em(t,null,a),n}return Mo(t,l,n,a),xo(t)}function al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ki(t,a)}}function Zc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Jc=!1;function rl(){if(Jc){var t=Hr;if(t!==null)throw t}}function sl(t,n,a,l){Jc=!1;var c=t.updateQueue;oa=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,P=D.next;D.next=null,p===null?h=P:p.next=P,p=D;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=D))}if(h!==null){var K=c.baseState;p=0,F=P=D=null,E=h;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(It&B)===B:(l&B)===B){B!==0&&B===kr&&(Jc=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,ht=E;B=n;var Kt=a;switch(ht.tag){case 1:if(at=ht.payload,typeof at=="function"){K=at.call(Kt,K,B);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,B=typeof at=="function"?at.call(Kt,K,B):at,B==null)break t;K=R({},K,B);break t;case 2:oa=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=j,D=K):F=F.next=j,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);F===null&&(D=K),c.baseState=D,c.firstBaseUpdate=P,c.lastBaseUpdate=F,h===null&&(c.shared.lanes=0),ga|=p,t.lanes=p,t.memoizedState=K}}function vm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Em(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vm(a[t],n)}var Qr=V(null),Go=V(0);function Tm(t,n){t=Oi,X(Go,t),X(Qr,n),Oi=t|n.baseLanes}function Wc(){X(Go,Oi),X(Qr,Qr.current)}function tf(){Oi=Go.current,k(Qr),k(Go)}var mn=V(null),Dn=null;function fa(t){var n=t.alternate;X(he,he.current&1),X(mn,t),Dn===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(Dn=t)}function ef(t){X(he,he.current),X(mn,t),Dn===null&&(Dn=t)}function Am(t){t.tag===22?(X(he,he.current),X(mn,t),Dn===null&&(Dn=t)):ha()}function ha(){X(he,he.current),X(mn,mn.current)}function gn(t){k(mn),Dn===t&&(Dn=null),k(he)}var he=V(0);function Fo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||oh(a)||uh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ai=0,Tt=null,Qt=null,_e=null,Qo=!1,Yr=!1,sr=!1,Yo=0,ll=0,Kr=null,b0=0;function ue(){throw Error(s(321))}function nf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function af(t,n,a,l,c,h){return Ai=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?rg:vf,sr=!1,h=a(l,c),sr=!1,Yr&&(h=bm(n,a,l,c)),Sm(t),h}function Sm(t){H.H=cl;var n=Qt!==null&&Qt.next!==null;if(Ai=0,_e=Qt=Tt=null,Qo=!1,ll=0,Kr=null,n)throw Error(s(300));t===null||ve||(t=t.dependencies,t!==null&&zo(t)&&(ve=!0))}function bm(t,n,a,l){Tt=t;var c=0;do{if(Yr&&(Kr=null),ll=0,Yr=!1,25<=c)throw Error(s(301));if(c+=1,_e=Qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=sg,h=n(a,l)}while(Yr);return h}function w0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ol(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function rf(){var t=Yo!==0;return Yo=0,t}function sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function lf(t){if(Qo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qo=!1}Ai=0,_e=Qt=Tt=null,Yr=!1,ll=Yo=0,Kr=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Tt.memoizedState=_e=t:_e=_e.next=t,_e}function de(){if(Qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=_e===null?Tt.memoizedState:_e.next;if(n!==null)_e=n,Qt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},_e===null?Tt.memoizedState=_e=t:_e=_e.next=t}return _e}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var n=ll;return ll+=1,Kr===null&&(Kr=[]),t=mm(Kr,t,n),n=Tt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?rg:vf),t}function Xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===dt)return ze(t)}throw Error(s(438,String(t)))}function of(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ko(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Si(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=de();return uf(n,Qt,t)}function uf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=p=null,D=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(It&K)===K:(Ai&K)===K){var B=P.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===kr&&(F=!0);else if((Ai&B)===B){P=P.next,B===kr&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=K,p=h):D=D.next=K,Tt.lanes|=B,ga|=B;K=P.action,sr&&a(h,K),h=P.hasEagerState?P.eagerState:a(h,K)}else B={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=B,p=h):D=D.next=B,Tt.lanes|=K,ga|=K;P=P.next}while(P!==null&&P!==n);if(D===null?p=h:D.next=E,!hn(h,t.memoizedState)&&(ve=!0,F&&(a=Hr,a!==null)))throw a;t.memoizedState=h,t.baseState=p,t.baseQueue=D,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cf(t){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do h=t(h,p.action),p=p.next;while(p!==c);hn(h,n.memoizedState)||(ve=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function wm(t,n,a){var l=Tt,c=de(),h=xt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!hn((Qt||c).memoizedState,a);if(p&&(c.memoizedState=a,ve=!0),c=c.queue,df(Dm.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Xr(9,{destroy:void 0},Cm.bind(null,l,c,a,n),null),Xt===null)throw Error(s(349));h||(Ai&127)!==0||Rm(l,n,a)}return a}function Rm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=Ko(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cm(t,n,a,l){n.value=a,n.getSnapshot=l,Vm(n)&&Om(t)}function Dm(t,n,a){return a(function(){Vm(n)&&Om(t)})}function Vm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Om(t){var n=Za(t,2);n!==null&&un(n,t,2)}function ff(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),sr){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Im(t,n,a,l){return t.baseState=a,uf(t,Qt,typeof l=="function"?l:Si)}function R0(t,n,a,l,c){if(Wo(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Nm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Nm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,p={};H.T=p;try{var E=a(c,l),D=H.S;D!==null&&D(p,E),Mm(t,n,E)}catch(P){hf(t,n,P)}finally{h!==null&&p.types!==null&&(h.types=p.types),H.T=h}}else try{h=a(c,l),Mm(t,n,h)}catch(P){hf(t,n,P)}}function Mm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xm(t,n,l)},function(l){return hf(t,n,l)}):xm(t,n,a)}function xm(t,n,a){n.status="fulfilled",n.value=a,Um(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Nm(t,a)))}function hf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Um(n),n=n.next;while(n!==l)}t.action=null}function Um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lm(t,n){return n}function zm(t,n){if(xt){var a=Xt.formState;if(a!==null){t:{var l=Tt;if(xt){if(ee){e:{for(var c=ee,h=Cn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ee=Vn(c.nextSibling),l=c.data==="F!";break t}}sa(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:n},a.queue=l,a=ng.bind(null,Tt,l),l.dispatch=a,l=ff(!1),h=_f.bind(null,Tt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=R0.bind(null,Tt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Pm(t){var n=de();return Bm(n,Qt,t)}function Bm(t,n,a){if(n=uf(t,n,Lm)[0],t=$o(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ol(n)}catch(p){throw p===Gr?jo:p}else l=n;n=de();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Xr(9,{destroy:void 0},C0.bind(null,c,a),null)),[l,h,t]}function C0(t,n){t.action=n}function jm(t){var n=de(),a=Qt;if(a!==null)return Bm(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Xr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Ko(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function qm(){return de().memoizedState}function Zo(t,n,a,l){var c=en();Tt.flags|=t,c.memoizedState=Xr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Jo(t,n,a,l){var c=de();l=l===void 0?null:l;var h=c.memoizedState.inst;Qt!==null&&l!==null&&nf(l,Qt.memoizedState.deps)?c.memoizedState=Xr(n,h,a,l):(Tt.flags|=t,c.memoizedState=Xr(1|n,h,a,l))}function km(t,n){Zo(8390656,8,t,n)}function df(t,n){Jo(2048,8,t,n)}function D0(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Ko(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Hm(t){var n=de().memoizedState;return D0({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Gm(t,n){return Jo(4,2,t,n)}function Fm(t,n){return Jo(4,4,t,n)}function Qm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ym(t,n,a){a=a!=null?a.concat([t]):null,Jo(4,4,Qm.bind(null,n,t),a)}function mf(){}function Km(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&nf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xm(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&nf(n,l[1]))return l[0];if(l=t(),sr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function gf(t,n,a){return a===void 0||(Ai&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$g(),Tt.lanes|=t,ga|=t,a)}function $m(t,n,a,l){return hn(a,n)?a:Qr.current!==null?(t=gf(t,a,l),hn(t,n)||(ve=!0),t):(Ai&42)===0||(Ai&1073741824)!==0&&(It&261930)===0?(ve=!0,t.memoizedState=a):(t=$g(),Tt.lanes|=t,ga|=t,n)}function Zm(t,n,a,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var p=H.T,E={};H.T=E,_f(t,!1,n,a);try{var D=c(),P=H.S;if(P!==null&&P(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=S0(D,l);ul(t,n,F,_n(t))}else ul(t,n,l,_n(t))}catch(K){ul(t,n,{then:function(){},status:"rejected",reason:K},_n())}finally{et.p=h,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function V0(){}function pf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Jm(t).queue;Zm(t,c,n,ot,a===null?V0:function(){return Wm(t),a(l)})}function Jm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wm(t){var n=Jm(t);n.next===null&&(n=t.alternate.memoizedState),ul(t,n.next.queue,{},_n())}function yf(){return ze(Rl)}function tg(){return de().memoizedState}function eg(){return de().memoizedState}function O0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ua(a);var l=ca(n,t,a);l!==null&&(un(l,n,a),al(l,n,a)),n={cache:Fc()},t.payload=n;return}n=n.return}}function I0(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wo(t)?ig(n,a):(a=xc(t,n,a,l),a!==null&&(un(a,t,l),ag(a,n,l)))}function ng(t,n,a){var l=_n();ul(t,n,a,l)}function ul(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wo(t))ig(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,E=h(p,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,p))return Mo(t,n,c,0),Xt===null&&No(),!1}catch{}finally{}if(a=xc(t,n,c,l),a!==null)return un(a,t,l),ag(a,n,l),!0}return!1}function _f(t,n,a,l){if(l={lane:2,revertLane:$f(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wo(t)){if(n)throw Error(s(479))}else n=xc(t,a,l,2),n!==null&&un(n,t,2)}function Wo(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function ig(t,n){Yr=Qo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ki(t,a)}}var cl={readContext:ze,use:Xo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};cl.useEffectEvent=ue;var rg={readContext:ze,use:Xo,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:ze,useEffect:km,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Zo(4194308,4,Qm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Zo(4194308,4,t,n)},useInsertionEffect:function(t,n){Zo(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(sr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var c=a(n);if(sr){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=I0.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=ff(t);var n=t.queue,a=ng.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:mf,useDeferredValue:function(t,n){var a=en();return gf(a,t,n)},useTransition:function(){var t=ff(!1);return t=Zm.bind(null,Tt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=en();if(xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Xt===null)throw Error(s(349));(It&127)!==0||Rm(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,km(Dm.bind(null,l,h,t),[t]),l.flags|=2048,Xr(9,{destroy:void 0},Cm.bind(null,l,h,a,n),null),a},useId:function(){var t=en(),n=Xt.identifierPrefix;if(xt){var a=Jn,l=Zn;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Yo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=b0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:yf,useFormState:zm,useActionState:zm,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=_f.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:of,useCacheRefresh:function(){return en().memoizedState=O0.bind(null,Tt)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},vf={readContext:ze,use:Xo,useCallback:Km,useContext:ze,useEffect:df,useImperativeHandle:Ym,useInsertionEffect:Gm,useLayoutEffect:Fm,useMemo:Xm,useReducer:$o,useRef:qm,useState:function(){return $o(Si)},useDebugValue:mf,useDeferredValue:function(t,n){var a=de();return $m(a,Qt.memoizedState,t,n)},useTransition:function(){var t=$o(Si)[0],n=de().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:wm,useId:tg,useHostTransitionStatus:yf,useFormState:Pm,useActionState:Pm,useOptimistic:function(t,n){var a=de();return Im(a,Qt,t,n)},useMemoCache:of,useCacheRefresh:eg};vf.useEffectEvent=Hm;var sg={readContext:ze,use:Xo,useCallback:Km,useContext:ze,useEffect:df,useImperativeHandle:Ym,useInsertionEffect:Gm,useLayoutEffect:Fm,useMemo:Xm,useReducer:cf,useRef:qm,useState:function(){return cf(Si)},useDebugValue:mf,useDeferredValue:function(t,n){var a=de();return Qt===null?gf(a,t,n):$m(a,Qt.memoizedState,t,n)},useTransition:function(){var t=cf(Si)[0],n=de().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:wm,useId:tg,useHostTransitionStatus:yf,useFormState:jm,useActionState:jm,useOptimistic:function(t,n){var a=de();return Qt!==null?Im(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:eg};sg.useEffectEvent=Hm;function Ef(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:R({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Tf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(un(n,t,l),al(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(un(n,t,l),al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(un(n,t,a),al(n,t,a))}};function lg(t,n,a,l,c,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,p):n.prototype&&n.prototype.isPureReactComponent?!$s(a,l)||!$s(c,h):!0}function og(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Tf.enqueueReplaceState(n,n.state,null)}function lr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=R({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function ug(t){Io(t)}function cg(t){console.error(t)}function fg(t){Io(t)}function tu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Af(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(t,n)},a}function dg(t){return t=ua(t),t.tag=3,t}function mg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){hg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){hg(n,a,l),typeof c!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function N0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&qr(n,a,c,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?hu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===qo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Yf(t,l,c)),!1;case 22:return a.flags|=65536,l===qo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Yf(t,l,c)),!1}throw Error(s(435,a.tag))}return Yf(t,l,c),hu(),!1}if(xt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==jc&&(t=Error(s(422),{cause:l}),Ws(bn(t,a)))):(l!==jc&&(n=Error(s(423),{cause:l}),Ws(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Af(t.stateNode,l,c),Zc(t,c),ce!==4&&(ce=2)),!1;var h=Error(s(520),{cause:l});if(h=bn(h,a),_l===null?_l=[h]:_l.push(h),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Af(a.stateNode,l,t),Zc(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pa===null||!pa.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=dg(c),mg(c,t,a,l),Zc(a,c),!1}a=a.return}while(a!==null);return!1}var Sf=Error(s(461)),ve=!1;function Pe(t,n,a,l){n.child=t===null?_m(n,null,a,l):rr(n,t.child,a,l)}function gg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return er(n),l=af(t,n,a,p,h,c),E=rf(),t!==null&&!ve?(sf(t,n,c),bi(t,n,c)):(xt&&E&&Pc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function pg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Uc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,yg(t,n,h,l,c)):(t=Uo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!If(t,c)){var p=h.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(p,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=_i(h,l),t.ref=n.ref,t.return=n,n.child=t}function yg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if($s(h,l)&&t.ref===n.ref)if(ve=!1,n.pendingProps=l=h,If(t,c))(t.flags&131072)!==0&&(ve=!0);else return n.lanes=t.lanes,bi(t,n,c)}return bf(t,n,a,l,c)}function _g(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return vg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bo(n,h!==null?h.cachePool:null),h!==null?Tm(n,h):Wc(),Am(n);else return l=n.lanes=536870912,vg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Bo(n,h.cachePool),Tm(n,h),ha(),n.memoizedState=null):(t!==null&&Bo(n,null),Wc(),ha());return Pe(t,n,c,a),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vg(t,n,a,l,c){var h=Yc();return h=h===null?null:{parent:ye._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Bo(n,null),Wc(),Am(n),t!==null&&qr(t,n,l,!0),n.childLanes=c,null}function eu(t,n){return n=iu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Eg(t,n,a){return rr(n,t.child,null,a),t=eu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function M0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(xt){if(l.mode==="hidden")return t=eu(n,l),n.lanes=536870912,fl(null,t);if(ef(n),(t=ee)?(t=Np(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=im(t),a.return=n,n.child=a,Le=n,ee=null)):t=null,t===null)throw sa(n);return n.lanes=536870912,null}return eu(n,l)}var h=t.memoizedState;if(h!==null){var p=h.dehydrated;if(ef(n),c)if(n.flags&256)n.flags&=-257,n=Eg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(ve||qr(t,n,a,!1),c=(a&t.childLanes)!==0,ve||c){if(l=Xt,l!==null&&(p=Hi(l,a),p!==0&&p!==h.retryLane))throw h.retryLane=p,Za(t,p),un(l,t,p),Sf;hu(),n=Eg(t,n,a)}else t=h.treeContext,ee=Vn(p.nextSibling),Le=n,xt=!0,ra=null,Cn=!1,t!==null&&sm(n,t),n=eu(n,l),n.flags|=4096;return n}return t=_i(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function bf(t,n,a,l,c){return er(n),a=af(t,n,a,l,void 0,c),l=rf(),t!==null&&!ve?(sf(t,n,c),bi(t,n,c)):(xt&&l&&Pc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Tg(t,n,a,l,c,h){return er(n),n.updateQueue=null,a=bm(n,l,a,c),Sm(t),l=rf(),t!==null&&!ve?(sf(t,n,h),bi(t,n,h)):(xt&&l&&Pc(n),n.flags|=1,Pe(t,n,a,h),n.child)}function Ag(t,n,a,l,c){if(er(n),n.stateNode===null){var h=zr,p=a.contextType;typeof p=="object"&&p!==null&&(h=ze(p)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Tf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Xc(n),p=a.contextType,h.context=typeof p=="object"&&p!==null?ze(p):zr,h.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Ef(n,a,p,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&Tf.enqueueReplaceState(h,h.state,null),sl(n,l,h,c),rl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,D=lr(a,E);h.props=D;var P=h.context,F=a.contextType;p=zr,typeof F=="object"&&F!==null&&(p=ze(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==p)&&og(n,h,l,p),oa=!1;var B=n.memoizedState;h.state=B,sl(n,l,h,c),rl(),P=n.memoizedState,E||B!==P||oa?(typeof K=="function"&&(Ef(n,a,K,l),P=n.memoizedState),(D=oa||lg(n,a,D,l,B,P,p))?(F||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=p,l=D):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,$c(t,n),p=n.memoizedProps,F=lr(a,p),h.props=F,K=n.pendingProps,B=h.context,P=a.contextType,D=zr,typeof P=="object"&&P!==null&&(D=ze(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==K||B!==D)&&og(n,h,l,D),oa=!1,B=n.memoizedState,h.state=B,sl(n,l,h,c),rl();var j=n.memoizedState;p!==K||B!==j||oa||t!==null&&t.dependencies!==null&&zo(t.dependencies)?(typeof E=="function"&&(Ef(n,a,E,l),j=n.memoizedState),(F=oa||lg(n,a,F,l,B,j,D)||t!==null&&t.dependencies!==null&&zo(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,j,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,j,D)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=D,l=F):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,nu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=rr(n,t.child,null,c),n.child=rr(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=bi(t,n,c),t}function Sg(t,n,a,l){return Wa(),n.flags|=256,Pe(t,n,a,l),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:hm()}}function Cf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function bg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(c?fa(n):ha(),(t=ee)?(t=Np(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=im(t),a.return=n,n.child=a,Le=n,ee=null)):t=null,t===null)throw sa(n);return uh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ha(),c=n.mode,E=iu({mode:"hidden",children:E},c),l=Ja(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Rf(a),l.childLanes=Cf(t,p,a),n.memoizedState=wf,fl(null,l)):(fa(n),Df(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(h)n.flags&256?(fa(n),n.flags&=-257,n=Vf(t,n,a)):n.memoizedState!==null?(ha(),n.child=t.child,n.flags|=128,n=null):(ha(),E=l.fallback,c=n.mode,l=iu({mode:"visible",children:l.children},c),E=Ja(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,rr(n,t.child,null,a),l=n.child,l.memoizedState=Rf(a),l.childLanes=Cf(t,p,a),n.memoizedState=wf,n=fl(null,l));else if(fa(n),uh(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(s(419)),l.stack="",l.digest=p,Ws({value:l,source:null,stack:null}),n=Vf(t,n,a)}else if(ve||qr(t,n,a,!1),p=(a&t.childLanes)!==0,ve||p){if(p=Xt,p!==null&&(l=Hi(p,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Za(t,l),un(p,t,l),Sf;oh(E)||hu(),n=Vf(t,n,a)}else oh(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ee=Vn(E.nextSibling),Le=n,xt=!0,ra=null,Cn=!1,t!==null&&sm(n,t),n=Df(n,l.children),n.flags|=4096);return n}return c?(ha(),E=l.fallback,c=n.mode,D=t.child,P=D.sibling,l=_i(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,P!==null?E=_i(P,E):(E=Ja(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,fl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Rf(a):(c=E.cachePool,c!==null?(D=ye._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=hm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Cf(t,p,a),n.memoizedState=wf,fl(t.child,l)):(fa(n),a=t.child,t=a.sibling,a=_i(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Df(t,n){return n=iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function iu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Vf(t,n,a){return rr(n,t.child,null,a),t=Df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Hc(t.return,n,a)}function Of(t,n,a,l,c,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=h)}function Rg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var p=he.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,X(he,p),Pe(t,n,l,a),l=xt?Js:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,n);else if(t.tag===19)wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Fo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Of(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Fo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Of(n,!0,a,null,h,l);break;case"together":Of(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ga|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(qr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=_i(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_i(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function If(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zo(t)))}function x0(t,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),la(n,ye,t.memoizedState.cache),Wa();break;case 27:case 5:kn(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?bg(t,n,a):(fa(n),t=bi(t,n,a),t!==null?t.sibling:null);fa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(qr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Rg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(he,he.current),l)break;return null;case 22:return n.lanes=0,_g(t,n,a,n.pendingProps);case 24:la(n,ye,t.memoizedState.cache)}return bi(t,n,a)}function Cg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ve=!0;else{if(!If(t,a)&&(n.flags&128)===0)return ve=!1,x0(t,n,a);ve=(t.flags&131072)!==0}else ve=!1,xt&&(n.flags&1048576)!==0&&rm(n,Js,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ir(n.elementType),n.type=t,typeof t=="function")Uc(t)?(l=lr(t,l),n.tag=1,n=Ag(null,n,t,l,a)):(n.tag=0,n=bf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Rt){n.tag=11,n=gg(null,n,t,l,a);break t}else if(c===C){n.tag=14,n=pg(null,n,t,l,a);break t}}throw n=Zt(t)||t,Error(s(306,n,""))}}return n;case 0:return bf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=lr(l,n.pendingProps),Ag(t,n,l,c,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,$c(t,n),sl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,la(n,ye,l),l!==h.cache&&Gc(n,[ye],a,!0),rl(),l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Sg(t,n,l,a);break t}else if(l!==c){c=bn(Error(s(424)),n),Ws(c),n=Sg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Vn(t.firstChild),Le=n,xt=!0,ra=null,Cn=!0,a=_m(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wa(),l===c){n=bi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return nu(t,n),t===null?(a=Pp(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,t=n.pendingProps,l=vu(yt.current).createElement(a),l[le]=n,l[Ue]=t,Be(l,a,t),fe(l),n.stateNode=l):n.memoizedState=Pp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return kn(n),t===null&&xt&&(l=n.stateNode=Up(n.type,n.pendingProps,yt.current),Le=n,Cn=!0,c=ee,Ea(n.type)?(ch=c,ee=Vn(l.firstChild)):ee=c),Pe(t,n,n.pendingProps.children,a),nu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((c=l=ee)&&(l=cE(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Le=n,ee=Vn(l.firstChild),Cn=!1,c=!0):c=!1),c||sa(n)),kn(n),c=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,l=h.children,rh(c,h)?l=null:p!==null&&rh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=af(t,n,w0,null,null,a),Rl._currentValue=c),nu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&xt&&((t=a=ee)&&(a=fE(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,Le=n,ee=null,t=!0):t=!1),t||sa(n)),null;case 13:return bg(t,n,a);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rr(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return gg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,er(n),c=ze(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return pg(t,n,n.type,n.pendingProps,a);case 15:return yg(t,n,n.type,n.pendingProps,a);case 19:return Rg(t,n,a);case 31:return M0(t,n,a);case 22:return _g(t,n,a,n.pendingProps);case 24:return er(n),l=ze(ye),t===null?(c=Yc(),c===null&&(c=Xt,h=Fc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},Xc(n),la(n,ye,c)):((t.lanes&a)!==0&&($c(t,n),sl(n,null,null,a),rl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),la(n,ye,l)):(l=h.cache,la(n,ye,l),l!==c.cache&&Gc(n,[ye],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function Nf(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(tp())t.flags|=8192;else throw ar=qo,Kc}else t.flags&=-16777217}function Dg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hp(n))if(tp())t.flags|=8192;else throw ar=qo,Kc}function au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ns():536870912,t.lanes|=n,Wr|=n)}function hl(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function U0(t,n,a){var l=n.pendingProps;switch(Bc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(ye),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(jr(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qc())),ne(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(wi(n),h!==null?(ne(n),Dg(n,h)):(ne(n),Nf(n,c,null,l,a))):h?h!==t.memoizedState?(wi(n),ne(n),Dg(n,h)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&wi(n),ne(n),Nf(n,c,t,l,a)),null;case 27:if(si(n),a=yt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=it.current,jr(n)?lm(n):(t=Up(c,l,a),n.stateNode=t,wi(n))}return ne(n),null;case 5:if(si(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(h=it.current,jr(n))lm(n);else{var p=vu(yt.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}h[le]=n,h[Ue]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=h;t:switch(Be(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&wi(n)}}return ne(n),Nf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,jr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Le,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[le]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bp(t.nodeValue,a)),t||sa(n,!0)}else t=vu(t).createTextNode(l),t[le]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=jr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[le]=n}else Wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=qc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=jr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[le]=n}else Wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=qc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),au(n,n.updateQueue),ne(n),null);case 4:return re(),t===null&&th(n.stateNode.containerInfo),ne(n),null;case 10:return Ti(n.type),ne(n),null;case 19:if(k(he),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)hl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Fo(t),h!==null){for(n.flags|=128,hl(l,!1),t=h.updateQueue,n.updateQueue=t,au(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)nm(a,t),a=a.sibling;return X(he,he.current&1|2),xt&&vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Me()>uu&&(n.flags|=128,c=!0,hl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Fo(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,au(n,t),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!xt)return ne(n),null}else 2*Me()-l.renderingStartTime>uu&&a!==536870912&&(n.flags|=128,c=!0,hl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Me(),t.sibling=null,a=he.current,X(he,c?a&1|2:a&1),xt&&vi(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return gn(n),tf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&au(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&k(nr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ti(ye),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function L0(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(ye),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));Wa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Wa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return k(he),null;case 4:return re(),null;case 10:return Ti(n.type),null;case 22:case 23:return gn(n),tf(),t!==null&&k(nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(ye),null;case 25:return null;default:return null}}function Vg(t,n){switch(Bc(n),n.tag){case 3:Ti(ye),re();break;case 26:case 27:case 5:si(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:k(he);break;case 10:Ti(n.type);break;case 22:case 23:gn(n),tf(),t!==null&&k(nr);break;case 24:Ti(ye)}}function dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,p=a.inst;l=h(),p.destroy=l}a=a.next}while(a!==c)}}catch(E){Gt(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var D=a,P=E;try{P()}catch(F){Gt(c,D,F)}}}l=l.next}while(l!==h)}}catch(F){Gt(n,n.return,F)}}function Og(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Em(n,a)}catch(l){Gt(t,t.return,l)}}}function Ig(t,n,a){a.props=lr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Gt(t,n,l)}}function ml(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Gt(t,n,c)}}function Wn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Gt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Gt(t,n,c)}else a.current=null}function Ng(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Gt(t,t.return,c)}}function Mf(t,n,a){try{var l=t.stateNode;aE(l,t.type,a,n),l[Ue]=n}catch(c){Gt(t,t.return,c)}}function Mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function xf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ce));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,a),t=t.sibling;t!==null;)Uf(t,n,a),t=t.sibling}function ru(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ru(t,n,a),t=t.sibling;t!==null;)ru(t,n,a),t=t.sibling}function xg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,a),n[le]=t,n[Ue]=a}catch(h){Gt(t,t.return,h)}}var Ri=!1,Ee=!1,Lf=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function z0(t,n){if(t=t.containerInfo,ih=Ru,t=Yd(t),Dc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var p=0,E=-1,D=-1,P=0,F=0,K=t,B=null;e:for(;;){for(var j;K!==a||c!==0&&K.nodeType!==3||(E=p+c),K!==h||l!==0&&K.nodeType!==3||(D=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(j=K.firstChild)!==null;)B=K,K=j;for(;;){if(K===t)break e;if(B===a&&++P===c&&(E=p),B===h&&++F===l&&(D=p),(j=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=j}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ah={focusedElem:t,selectionRange:a},Ru=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var at=lr(a.type,c);t=l.getSnapshotBeforeUpdate(at,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Gt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)lh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function Lg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Di(t,a),l&4&&dl(5,a);break;case 1:if(Di(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Gt(a,a.return,p)}else{var c=lr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Gt(a,a.return,p)}}l&64&&Og(a),l&512&&ml(a,a.return);break;case 3:if(Di(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Em(t,n)}catch(p){Gt(a,a.return,p)}}break;case 27:n===null&&l&4&&xg(a);case 26:case 5:Di(t,a),n===null&&l&4&&Ng(a),l&512&&ml(a,a.return);break;case 12:Di(t,a);break;case 31:Di(t,a),l&4&&Bg(t,a);break;case 13:Di(t,a),l&4&&jg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Q0.bind(null,a),hE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ri,!l){n=n!==null&&n.memoizedState!==null||Ee,c=Ri;var h=Ee;Ri=l,(Ee=n)&&!h?Vi(t,a,(a.subtreeFlags&8772)!==0):Di(t,a),Ri=c,Ee=h}break;case 30:break;default:Di(t,a)}}function zg(t){var n=t.alternate;n!==null&&(t.alternate=null,zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,rn=!1;function Ci(t,n,a){for(a=a.child;a!==null;)Pg(t,n,a),a=a.sibling}function Pg(t,n,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Pi,a)}catch{}switch(a.tag){case 26:Ee||Wn(a,n),Ci(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Wn(a,n);var l=ie,c=rn;Ea(a.type)&&(ie=a.stateNode,rn=!1),Ci(t,n,a),Sl(a.stateNode),ie=l,rn=c;break;case 5:Ee||Wn(a,n);case 6:if(l=ie,c=rn,ie=null,Ci(t,n,a),ie=l,rn=c,ie!==null)if(rn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(h){Gt(a,n,h)}else try{ie.removeChild(a.stateNode)}catch(h){Gt(a,n,h)}break;case 18:ie!==null&&(rn?(t=ie,Op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ls(t)):Op(ie,a.stateNode));break;case 4:l=ie,c=rn,ie=a.stateNode.containerInfo,rn=!0,Ci(t,n,a),ie=l,rn=c;break;case 0:case 11:case 14:case 15:da(2,a,n),Ee||da(4,a,n),Ci(t,n,a);break;case 1:Ee||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ig(a,n,l)),Ci(t,n,a);break;case 21:Ci(t,n,a);break;case 22:Ee=(l=Ee)||a.memoizedState!==null,Ci(t,n,a),Ee=l;break;default:Ci(t,n,a)}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ls(t)}catch(a){Gt(n,n.return,a)}}}function jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ls(t)}catch(a){Gt(n,n.return,a)}}function P0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ug),n;default:throw Error(s(435,t.tag))}}function su(t,n){var a=P0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=Y0.bind(null,t,l);l.then(c,c)}})}function sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ea(E.type)){ie=E.stateNode,rn=!1;break t}break;case 5:ie=E.stateNode,rn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));Pg(h,p,c),ie=null,rn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qg(n,t),n=n.sibling}var Pn=null;function qg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(da(3,t,t.return),dl(3,t),da(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(Ee||a===null||Wn(a,a.return)),l&64&&Ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Pn;if(sn(n,t),ln(t),l&512&&(Ee||a===null||Wn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ci]||h[le]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Be(h,l,a),h[le]=t,fe(h),l=h;break t;case"link":var p=qp("link","href",c).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}h=c.createElement(l),Be(h,l,a),c.head.appendChild(h);break;case"meta":if(p=qp("meta","content",c).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}h=c.createElement(l),Be(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[le]=t,fe(h),l=h}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=jp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?kp(c,t.type,t.stateNode):jp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mf(t,t.memoizedProps,a.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(Ee||a===null||Wn(a,a.return)),a!==null&&l&4&&Mf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(Ee||a===null||Wn(a,a.return)),t.flags&32){c=t.stateNode;try{An(c,"")}catch(at){Gt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Lf=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Gt(t,t.return,at)}}break;case 3:if(Au=null,c=Pn,Pn=Eu(n.containerInfo),sn(n,t),Pn=c,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ls(n.containerInfo)}catch(at){Gt(t,t.return,at)}Lf&&(Lf=!1,kg(t));break;case 4:l=Pn,Pn=Eu(t.stateNode.containerInfo),sn(n,t),ln(t),Pn=l;break;case 12:sn(n,t),ln(t);break;case 31:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ou=Me()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,P=Ri,F=Ee;if(Ri=P||c,Ee=F||D,sn(n,t),Ee=F,Ri=P,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Ri||Ee||or(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(h=D.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=D.stateNode;var K=D.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Gt(D,D.return,at)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(at){Gt(D,D.return,at)}}}else if(n.tag===18){if(a===null){D=n;try{var j=D.stateNode;c?Ip(j,!0):Ip(D.stateNode,!1)}catch(at){Gt(D,D.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,su(t,a))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,su(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Mg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=xf(t);ru(t,h,c);break;case 5:var p=a.stateNode;a.flags&32&&(An(p,""),a.flags&=-33);var E=xf(t);ru(t,E,p);break;case 3:case 4:var D=a.stateNode.containerInfo,P=xf(t);Uf(t,P,D);break;default:throw Error(s(161))}}catch(F){Gt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Di(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lg(t,n.alternate,n),n=n.sibling}function or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),or(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ig(n,n.return,a),or(n);break;case 27:Sl(n.stateNode);case 26:case 5:Wn(n,n.return),or(n);break;case 22:n.memoizedState===null&&or(n);break;case 30:or(n);break;default:or(n)}t=t.sibling}}function Vi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,p=h.flags;switch(h.tag){case 0:case 11:case 15:Vi(c,h,a),dl(4,h);break;case 1:if(Vi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Gt(l,l.return,P)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)vm(D[c],E)}catch(P){Gt(l,l.return,P)}}a&&p&64&&Og(h),ml(h,h.return);break;case 27:xg(h);case 26:case 5:Vi(c,h,a),a&&l===null&&p&4&&Ng(h),ml(h,h.return);break;case 12:Vi(c,h,a);break;case 31:Vi(c,h,a),a&&p&4&&Bg(c,h);break;case 13:Vi(c,h,a),a&&p&4&&jg(c,h);break;case 22:h.memoizedState===null&&Vi(c,h,a),ml(h,h.return);break;case 30:break;default:Vi(c,h,a)}n=n.sibling}}function zf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Pf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function Bn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hg(t,n,a,l),n=n.sibling}function Hg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Bn(t,n,a,l),c&2048&&dl(9,n);break;case 1:Bn(t,n,a,l);break;case 3:Bn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(c&2048){Bn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Gt(n,n.return,D)}}else Bn(t,n,a,l);break;case 31:Bn(t,n,a,l);break;case 13:Bn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,p=n.alternate,n.memoizedState!==null?h._visibility&2?Bn(t,n,a,l):gl(t,n):h._visibility&2?Bn(t,n,a,l):(h._visibility|=2,$r(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&zf(p,n);break;case 24:Bn(t,n,a,l),c&2048&&Pf(n.alternate,n);break;default:Bn(t,n,a,l)}}function $r(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,p=n,E=a,D=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:$r(h,p,E,D,c),dl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?$r(h,p,E,D,c):gl(h,p):(F._visibility|=2,$r(h,p,E,D,c)),c&&P&2048&&zf(p.alternate,p);break;case 24:$r(h,p,E,D,c),c&&P&2048&&Pf(p.alternate,p);break;default:$r(h,p,E,D,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:gl(a,l),c&2048&&zf(l.alternate,l);break;case 24:gl(a,l),c&2048&&Pf(l.alternate,l);break;default:gl(a,l)}n=n.sibling}}var pl=8192;function Zr(t,n,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Gg(t,n,a),t=t.sibling}function Gg(t,n,a){switch(t.tag){case 26:Zr(t,n,a),t.flags&pl&&t.memoizedState!==null&&bE(a,Pn,t.memoizedState,t.memoizedProps);break;case 5:Zr(t,n,a);break;case 3:case 4:var l=Pn;Pn=Eu(t.stateNode.containerInfo),Zr(t,n,a),Pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,Zr(t,n,a),pl=l):Zr(t,n,a));break;default:Zr(t,n,a)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Yg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&da(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):yl(t);break;default:yl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Yg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function Yg(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var c=l.sibling,h=l.return;if(zg(l),l===a){Oe=null;break t}if(c!==null){c.return=h,Oe=c;break t}Oe=h}}}var B0={getCacheForType:function(t){var n=ze(ye),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ze(ye).controller.signal}},j0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Xt=null,Ct=null,It=0,Ht=0,pn=null,ma=!1,Jr=!1,Bf=!1,Oi=0,ce=0,ga=0,ur=0,jf=0,yn=0,Wr=0,_l=null,on=null,qf=!1,ou=0,Kg=0,uu=1/0,cu=null,pa=null,Se=0,ya=null,ts=null,Ii=0,kf=0,Hf=null,Xg=null,vl=0,Gf=null;function _n(){return(qt&2)!==0&&It!==0?It&-It:H.T!==null?$f():ui()}function $g(){if(yn===0)if((It&536870912)===0||xt){var t=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function un(t,n,a){(t===Xt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(es(t,0),_a(t,It,yn,!1)),qi(t,a),((qt&2)===0||t!==Xt)&&(t===Xt&&((qt&2)===0&&(ur|=a),ce===4&&_a(t,It,yn,!1)),ti(t))}function Zg(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ji(t,n),c=l?H0(t,n):Qf(t,n,!0),h=l;do{if(c===0){Jr&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!q0(a)){c=Qf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=_l;var D=E.current.memoizedState.isDehydrated;if(D&&(es(E,p).flags|=256),p=Qf(E,p,!1),p!==2){if(Bf&&!D){E.errorRecoveryDisabledLanes|=h,ur|=h,c=4;break t}h=on,on=c,h!==null&&(on===null?on=h:on.push.apply(on,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){es(t,0),_a(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,yn,!ma);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=ou+300-Me(),10<c)){if(_a(l,n,yn,!ma),En(l,0,!0)!==0)break t;Ii=n,l.timeoutHandle=Dp(Jg.bind(null,l,a,on,cu,qf,n,yn,ur,Wr,ma,h,"Throttled",-0,0),c);break t}Jg(l,a,on,cu,qf,n,yn,ur,Wr,ma,h,null,-0,0)}}break}while(!0);ti(t)}function Jg(t,n,a,l,c,h,p,E,D,P,F,K,B,j){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ce},Gg(n,h,K);var at=(h&62914560)===h?ou-Me():(h&4194048)===h?Kg-Me():0;if(at=wE(K,at),at!==null){Ii=h,t.cancelPendingCommit=at(sp.bind(null,t,n,h,a,l,c,p,E,D,F,K,null,B,j)),_a(t,h,p,!P);return}}sp(t,n,h,a,l,c,p,E,D)}function q0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!hn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~jf,n&=~ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-$e(c),p=1<<h;l[h]=-1,c&=~p}a!==0&&Ms(t,a,n)}function fu(){return(qt&6)===0?(El(0),!1):!0}function Ff(){if(Ct!==null){if(Ht===0)var t=Ct.return;else t=Ct,Ei=tr=null,lf(t),Fr=null,nl=0,t=Ct;for(;t!==null;)Vg(t.alternate,t),t=t.return;Ct=null}}function es(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ii=0,Ff(),Xt=t,Ct=a=_i(t.current,null),It=n,Ht=0,pn=null,ma=!1,Jr=ji(t,n),Bf=!1,Wr=yn=jf=ur=ga=ce=0,on=_l=null,qf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-$e(l),h=1<<c;n|=t[c],l&=~h}return Oi=n,No(),a}function Wg(t,n){Tt=null,H.H=cl,n===Gr||n===jo?(n=gm(),Ht=3):n===Kc?(n=gm(),Ht=4):Ht=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Ct===null&&(ce=1,tu(t,bn(n,t.current)))}function tp(){var t=mn.current;return t===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?t===Dn:!1}function ep(){var t=H.H;return H.H=cl,t===null?cl:t}function np(){var t=H.A;return H.A=B0,t}function hu(){ce=4,ma||(It&4194048)!==It&&mn.current!==null||(Jr=!0),(ga&134217727)===0&&(ur&134217727)===0||Xt===null||_a(Xt,It,yn,!1)}function Qf(t,n,a){var l=qt;qt|=2;var c=ep(),h=np();(Xt!==t||It!==n)&&(cu=null,es(t,n)),n=!1;var p=ce;t:do try{if(Ht!==0&&Ct!==null){var E=Ct,D=pn;switch(Ht){case 8:Ff(),p=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Ht;if(Ht=0,pn=null,ns(t,E,D,P),a&&Jr){p=0;break t}break;default:P=Ht,Ht=0,pn=null,ns(t,E,D,P)}}k0(),p=ce;break}catch(F){Wg(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ei=tr=null,qt=l,H.H=c,H.A=h,Ct===null&&(Xt=null,It=0,No()),p}function k0(){for(;Ct!==null;)ip(Ct)}function H0(t,n){var a=qt;qt|=2;var l=ep(),c=np();Xt!==t||It!==n?(cu=null,uu=Me()+500,es(t,n)):Jr=ji(t,n);t:do try{if(Ht!==0&&Ct!==null){n=Ct;var h=pn;e:switch(Ht){case 1:Ht=0,pn=null,ns(t,n,h,1);break;case 2:case 9:if(dm(h)){Ht=0,pn=null,ap(n);break}n=function(){Ht!==2&&Ht!==9||Xt!==t||(Ht=7),ti(t)},h.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:dm(h)?(Ht=0,pn=null,ap(n)):(Ht=0,pn=null,ns(t,n,h,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?Hp(p):E.stateNode.complete){Ht=0,pn=null;var D=E.sibling;if(D!==null)Ct=D;else{var P=E.return;P!==null?(Ct=P,du(P)):Ct=null}break e}}Ht=0,pn=null,ns(t,n,h,5);break;case 6:Ht=0,pn=null,ns(t,n,h,6);break;case 8:Ff(),ce=6;break t;default:throw Error(s(462))}}G0();break}catch(F){Wg(t,F)}while(!0);return Ei=tr=null,H.H=l,H.A=c,qt=a,Ct!==null?0:(Xt=null,It=0,No(),ce)}function G0(){for(;Ct!==null&&!yc();)ip(Ct)}function ip(t){var n=Cg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?du(t):Ct=n}function ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Tg(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Tg(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:lf(n);default:Vg(a,n),n=Ct=nm(n,Oi),n=Cg(a,n,Oi)}t.memoizedProps=t.pendingProps,n===null?du(t):Ct=n}function ns(t,n,a,l){Ei=tr=null,lf(n),Fr=null,nl=0;var c=n.return;try{if(N0(t,c,n,a,It)){ce=1,tu(t,bn(a,t.current)),Ct=null;return}}catch(h){if(c!==null)throw Ct=c,h;ce=1,tu(t,bn(a,t.current)),Ct=null;return}n.flags&32768?(xt||l===1?t=!0:Jr||(It&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rp(n,t)):du(n)}function du(t){var n=t;do{if((n.flags&32768)!==0){rp(n,ma);return}t=n.return;var a=U0(n.alternate,n,Oi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ce===0&&(ce=5)}function rp(t,n){do{var a=L0(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);ce=6,Ct=null}function sp(t,n,a,l,c,h,p,E,D){t.cancelPendingCommit=null;do mu();while(Se!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Mc,xe(t,a,h,p,E,D),t===Xt&&(Ct=Xt=null,It=0),ts=n,ya=t,Ii=a,kf=h,Hf=c,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K0(li,function(){return fp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,p=qt,qt|=4;try{z0(t,n,a)}finally{qt=p,et.p=c,H.T=l}}Se=1,lp(),op(),up()}}function lp(){if(Se===1){Se=0;var t=ya,n=ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{qg(n,t);var h=ah,p=Yd(t.containerInfo),E=h.focusedElem,D=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&Qd(E.ownerDocument.documentElement,E)){if(D!==null&&Dc(E)){var P=D.start,F=D.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var j=B.getSelection(),at=E.textContent.length,ht=Math.min(D.start,at),Kt=D.end===void 0?ht:Math.min(D.end,at);!j.extend&&ht>Kt&&(p=Kt,Kt=ht,ht=p);var U=Fd(E,ht),I=Fd(E,Kt);if(U&&I&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==I.node||j.focusOffset!==I.offset)){var z=K.createRange();z.setStart(U.node,U.offset),j.removeAllRanges(),ht>Kt?(j.addRange(z),j.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),j.addRange(z))}}}}for(K=[],j=E;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ru=!!ih,ah=ih=null}finally{qt=c,et.p=l,H.T=a}}t.current=n,Se=2}}function op(){if(Se===2){Se=0;var t=ya,n=ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{Lg(t,n.alternate,n)}finally{qt=c,et.p=l,H.T=a}}Se=3}}function up(){if(Se===4||Se===3){Se=0,Vs();var t=ya,n=ts,a=Ii,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Se=5:(Se=0,ts=ya=null,cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pa=null),Us(a),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var h=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];h(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Ii&3)!==0&&mu(),ti(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Gf?vl++:(vl=0,Gf=t):vl=0,El(0)}}function cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function mu(){return lp(),op(),up(),fp()}function fp(){if(Se!==5)return!1;var t=ya,n=kf;kf=0;var a=Us(Ii),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Hf,Hf=null;var h=ya,p=Ii;if(Se=0,ts=ya=null,Ii=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,Qg(h.current),Hg(h,h.current,p,a),qt=E,El(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Pi,h)}catch{}return!0}finally{et.p=c,H.T=l,cp(t,n)}}function hp(t,n,a){n=bn(a,n),n=Af(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(qi(t,2),ti(t))}function Gt(t,n,a){if(t.tag===3)hp(t,t,a);else for(;n!==null;){if(n.tag===3){hp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){t=bn(a,t),a=dg(2),l=ca(n,a,2),l!==null&&(mg(a,l,n,t),qi(l,2),ti(l));break}}n=n.return}}function Yf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Bf=!0,c.add(a),t=F0.bind(null,t,n,a),n.then(t,t))}function F0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xt===t&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>Me()-ou?(qt&2)===0&&es(t,0):jf|=a,Wr===It&&(Wr=0)),ti(t)}function dp(t,n){n===0&&(n=Ns()),t=Za(t,n),t!==null&&(qi(t,n),ti(t))}function Q0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dp(t,a)}function Y0(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),dp(t,a)}function K0(t,n){return La(t,n)}var gu=null,is=null,Kf=!1,pu=!1,Xf=!1,va=0;function ti(t){t!==is&&t.next===null&&(is===null?gu=is=t:is=is.next=t),pu=!0,Kf||(Kf=!0,$0())}function El(t,n){if(!Xf&&pu){Xf=!0;do for(var a=!1,l=gu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var p=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-$e(42|t)+1)-1,h&=c&~(p&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,yp(l,h))}else h=It,h=En(l,l===Xt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ji(l,h)||(a=!0,yp(l,h));l=l.next}while(a);Xf=!1}}function X0(){mp()}function mp(){pu=Kf=!1;var t=0;va!==0&&sE()&&(t=va);for(var n=Me(),a=null,l=gu;l!==null;){var c=l.next,h=gp(l,n);h===0?(l.next=null,a===null?gu=c:a.next=c,c===null&&(is=a)):(a=l,(t!==0||(h&3)!==0)&&(pu=!0)),l=c}Se!==0&&Se!==5||El(t),va!==0&&(va=0)}function gp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-$e(h),E=1<<p,D=c[p];D===-1?((E&a)===0||(E&l)!==0)&&(c[p]=Sr(E,n)):D<=n&&(t.expiredLanes|=E),h&=~E}if(n=Xt,a=It,a=En(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ji(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ar(l),Us(a)){case 2:case 8:a=Re;break;case 32:a=li;break;case 268435456:a=Os;break;default:a=li}return l=pp.bind(null,t),a=La(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function pp(t,n){if(Se!==0&&Se!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(mu()&&t.callbackNode!==a)return null;var l=It;return l=En(t,t===Xt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),gp(t,Me()),t.callbackNode!=null&&t.callbackNode===a?pp.bind(null,t):null)}function yp(t,n){if(mu())return null;Zg(t,n,!0)}function $0(){oE(function(){(qt&6)!==0?La(Ae,X0):mp()})}function $f(){if(va===0){var t=kr;t===0&&(t=Pa,Pa<<=1,(Pa&261888)===0&&(Pa=256)),va=t}return va}function _p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kn(""+t)}function vp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Z0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=_p((c[Ue]||null).action),p=l.submitter;p&&(n=(n=p[Ue]||null)?_p(n.formAction):p.getAttribute("formAction"),n!==null&&(h=n,p=null));var E=new Ga("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var D=p?vp(c,p):new FormData(c);pf(a,{pending:!0,data:D,method:c.method,action:h},null,D)}}else typeof h=="function"&&(E.preventDefault(),D=p?vp(c,p):new FormData(c),pf(a,{pending:!0,data:D,method:c.method,action:h},h,D))},currentTarget:c}]})}}for(var Zf=0;Zf<Nc.length;Zf++){var Jf=Nc[Zf],J0=Jf.toLowerCase(),W0=Jf[0].toUpperCase()+Jf.slice(1);zn(J0,"on"+W0)}zn($d,"onAnimationEnd"),zn(Zd,"onAnimationIteration"),zn(Jd,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(g0,"onTransitionRun"),zn(p0,"onTransitionStart"),zn(y0,"onTransitionCancel"),zn(Wd,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),Ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Ep(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],D=E.instance,P=E.currentTarget;if(E=E.listener,D!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(F){Io(F)}c.currentTarget=null,h=D}else for(p=0;p<l.length;p++){if(E=l[p],D=E.instance,P=E.currentTarget,E=E.listener,D!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(F){Io(F)}c.currentTarget=null,h=D}}}}function Dt(t,n){var a=n[Gi];a===void 0&&(a=n[Gi]=new Set);var l=t+"__bubble";a.has(l)||(Tp(n,t,2,!1),a.add(l))}function Wf(t,n,a){var l=0;n&&(l|=4),Tp(a,t,l,n)}var yu="_reactListening"+Math.random().toString(36).slice(2);function th(t){if(!t[yu]){t[yu]=!0,br.forEach(function(a){a!=="selectionchange"&&(tE.has(a)||Wf(a,!1,t),Wf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yu]||(n[yu]=!0,Wf("selectionchange",!1,n))}}function Tp(t,n,a,l){switch($p(n)){case 2:var c=DE;break;case 8:c=VE;break;default:c=gh}a=c.bind(null,n,a,t),c=void 0,!Hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function eh(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=fi(E),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){l=h=p;continue t}E=E.parentNode}}l=l.return}go(function(){var P=h,F=Vr(a),K=[];t:{var B=tm.get(t);if(B!==void 0){var j=Ga,at=t;switch(t){case"keypress":if(Ha(a)===0)break t;case"keydown":case"keyup":j=bo;break;case"focusin":at="focus",j=ta;break;case"focusout":at="blur",j=ta;break;case"beforeblur":case"afterblur":j=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=_o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Ro;break;case $d:case Zd:case Jd:j=Nr;break;case Wd:j=Mr;break;case"scroll":case"scrollend":j=po;break;case"wheel":j=Do;break;case"copy":case"cut":case"paste":j=Eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ks;break;case"toggle":case"beforetoggle":j=na}var ht=(n&4)!==0,Kt=!ht&&(t==="scroll"||t==="scrollend"),U=ht?B!==null?B+"Capture":null:B;ht=[];for(var I=P,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=nn(I,U),Q!=null&&ht.push(Al(I,Q,z))),Kt)break;I=I.return}0<ht.length&&(B=new j(B,at,null,a,F),K.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&a!==Dr&&(at=a.relatedTarget||a.fromElement)&&(fi(at)||at[Fn]))break t;if((j||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,j?(at=a.relatedTarget||a.toElement,j=P,at=at?fi(at):null,at!==null&&(Kt=f(at),ht=at.tag,at!==Kt||ht!==5&&ht!==27&&ht!==6)&&(at=null)):(j=null,at=P),j!==at)){if(ht=yo,Q="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Ks,Q="onPointerLeave",U="onPointerEnter",I="pointer"),Kt=j==null?B:ja(j),z=at==null?B:ja(at),B=new ht(Q,I+"leave",j,a,F),B.target=Kt,B.relatedTarget=z,Q=null,fi(F)===P&&(ht=new ht(U,I+"enter",at,a,F),ht.target=z,ht.relatedTarget=Kt,Q=ht),Kt=Q,j&&at)e:{for(ht=eE,U=j,I=at,z=0,Q=U;Q;Q=ht(Q))z++;Q=0;for(var ct=I;ct;ct=ht(ct))Q++;for(;0<z-Q;)U=ht(U),z--;for(;0<Q-z;)I=ht(I),Q--;for(;z--;){if(U===I||I!==null&&U===I.alternate){ht=U;break e}U=ht(U),I=ht(I)}ht=null}else ht=null;j!==null&&Ap(K,B,j,ht,!1),at!==null&&Kt!==null&&Ap(K,Kt,at,ht,!0)}}t:{if(B=P?ja(P):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var Pt=Bd;else if(an(B))if(jd)Pt=h0;else{Pt=c0;var st=u0}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&qs(P.elementType)&&(Pt=Bd):Pt=f0;if(Pt&&(Pt=Pt(t,P))){Ka(K,Pt,a,F);break t}st&&st(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Cr(B,"number",B.value)}switch(st=P?ja(P):window,t){case"focusin":(an(st)||st.contentEditable==="true")&&(xr=st,Vc=P,Zs=null);break;case"focusout":Zs=Vc=xr=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Kd(K,a,F);break;case"selectionchange":if(m0)break;case"keydown":case"keyup":Kd(K,a,F)}var St;if(m)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else wt?kt(t,a)&&(Nt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(L&&a.locale!=="ko"&&(wt||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&wt&&(St=$i()):(fn=F,Or="value"in fn?fn.value:fn.textContent,wt=!0)),st=_u(P,Nt),0<st.length&&(Nt=new Fs(Nt,t,null,a,F),K.push({event:Nt,listeners:st}),St?Nt.data=St:(St=pe(a),St!==null&&(Nt.data=St)))),(St=T?De(t,a):Ve(t,a))&&(Nt=_u(P,"onBeforeInput"),0<Nt.length&&(st=new Fs("onBeforeInput","beforeinput",null,a,F),K.push({event:st,listeners:Nt}),st.data=St)),Z0(K,t,P,a,F)}Ep(K,n)})}function Al(t,n,a){return{instance:t,listener:n,currentTarget:a}}function _u(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=nn(t,a),c!=null&&l.unshift(Al(t,c,h)),c=nn(t,n),c!=null&&l.push(Al(t,c,h))),t.tag===3)return l;t=t.return}return[]}function eE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ap(t,n,a,l,c){for(var h=n._reactName,p=[];a!==null&&a!==l;){var E=a,D=E.alternate,P=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||P===null||(D=P,c?(P=nn(a,h),P!=null&&p.unshift(Al(a,P,D))):c||(P=nn(a,h),P!=null&&p.push(Al(a,P,D)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var nE=/\r\n?/g,iE=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(nE,`
`).replace(iE,"")}function bp(t,n){return n=Sp(n),Sp(t)===n}function Yt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,a,l);break;case"style":ho(t,l,h);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Kn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Kn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ce);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Qi(t,"popover",l);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sc.get(a)||a,Qi(t,a,l))}}function nh(t,n,a,l,c,h){switch(a){case"style":ho(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fi.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Ue]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Qi(t,a,l)}}}function Be(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var p=a[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,h,p,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=h=p=c=null,D=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":p=F;break;case"checked":D=F;break;case"defaultChecked":P=F;break;case"value":h=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Yt(t,n,l,F,a,null)}}qa(t,h,E,D,P,p,c,!1);return;case"select":Dt("invalid",t),l=p=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=h,a=p,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):a!=null&&zt(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),h=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,p,E,a,null)}Xi(t,l,c,h);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,D,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Dt(Tl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,a,null)}return;default:if(qs(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&nh(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function aE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,E=null,D=null,P=null,F=null;for(j in a){var K=a[j];if(a.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":D=K;default:l.hasOwnProperty(j)||Yt(t,n,j,null,l,K)}}for(var B in l){var j=l[B];if(K=a[B],l.hasOwnProperty(B)&&(j!=null||K!=null))switch(B){case"type":h=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":F=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==K&&Yt(t,n,B,j,l,K)}}Ki(t,p,E,D,P,F,h,c);return;case"select":j=p=E=B=null;for(h in a)if(D=a[h],a.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":j=D;default:l.hasOwnProperty(h)||Yt(t,n,h,null,l,D)}for(c in l)if(h=l[c],D=a[c],l.hasOwnProperty(c)&&(h!=null||D!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==D&&Yt(t,n,c,h,l,D)}n=E,a=p,l=j,B!=null?zt(t,!!a,B,!1):!!l!=!!a&&(n!=null?zt(t,!!a,n,!0):zt(t,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(p in l)if(c=l[p],h=a[p],l.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Yt(t,n,p,c,l,h)}ka(t,B,j);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Yt(t,n,at,null,l,B)}for(D in l)if(B=l[D],j=a[D],l.hasOwnProperty(D)&&B!==j&&(B!=null||j!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,D,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(P in l)if(B=l[P],j=a[P],l.hasOwnProperty(P)&&B!==j&&(B!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,j)}return;default:if(qs(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&nh(t,n,Kt,void 0,l,B);for(F in l)B=l[F],j=a[F],!l.hasOwnProperty(F)||B===j||B===void 0&&j===void 0||nh(t,n,F,B,l,j);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,B);for(K in l)B=l[K],j=a[K],!l.hasOwnProperty(K)||B===j||B==null&&j==null||Yt(t,n,K,B,l,j)}function wp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,p=c.initiatorType,E=c.duration;if(h&&E&&wp(p)){for(p=0,E=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],P=D.startTime;if(P>E)break;var F=D.transferSize,K=D.initiatorType;F&&wp(K)&&(D=D.responseEnd,p+=F*(D<E?1:(E-P)/(D-P)))}if(--l,n+=8*(h+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ih=null,ah=null;function vu(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sh=null;function sE(){var t=window.event;return t&&t.type==="popstate"?t===sh?!1:(sh=t,!0):(sh=null,!1)}var Dp=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,oE=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(t){return Vp.resolve(null).then(t).catch(uE)}:Dp;function uE(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function Op(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),ls(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var h=a.firstChild;h;){var p=h.nextSibling,E=h.nodeName;h[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=p}}else a==="body"&&Sl(t.ownerDocument.body);a=c}while(a);ls(n)}function Ip(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function lh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lh(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function fE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Np(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function oh(t){return t.data==="$?"||t.data==="$~"}function uh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ch=null;function Mp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Up(t,n,a){switch(n=vu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ba(t)}var On=new Map,Lp=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=et.d;et.d={f:dE,r:mE,D:gE,C:pE,L:yE,m:_E,X:EE,S:vE,M:TE};function dE(){var t=Ni.f(),n=fu();return t||n}function mE(t){var n=hi(t);n!==null&&n.tag===5&&n.type==="form"?Wm(n):Ni.r(t)}var as=typeof document>"u"?null:document;function zp(t,n,a){var l=as;if(l&&typeof n=="string"&&n){var c=oe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Lp.has(c)||(Lp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),fe(n),l.head.appendChild(n)))}}function gE(t){Ni.D(t),zp("dns-prefetch",t,null)}function pE(t,n){Ni.C(t,n),zp("preconnect",t,n)}function yE(t,n,a){Ni.L(t,n,a);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+oe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+oe(a.imageSizes)+'"]')):c+='[href="'+oe(t)+'"]';var h=c;switch(n){case"style":h=rs(t);break;case"script":h=ss(t)}On.has(h)||(t=R({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(h))||n==="script"&&l.querySelector(wl(h))||(n=l.createElement("link"),Be(n,"link",t),fe(n),l.head.appendChild(n)))}}function _E(t,n){Ni.m(t,n);var a=as;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+oe(l)+'"][href="'+oe(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ss(t)}if(!On.has(h)&&(t=R({rel:"modulepreload",href:t},n),On.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(h)))return}l=a.createElement("link"),Be(l,"link",t),fe(l),a.head.appendChild(l)}}}function vE(t,n,a){Ni.S(t,n,a);var l=as;if(l&&t){var c=Un(l).hoistableStyles,h=rs(t);n=n||"default";var p=c.get(h);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(bl(h)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(h))&&fh(t,a);var D=p=l.createElement("link");fe(D),Be(D,"link",t),D._p=new Promise(function(P,F){D.onload=P,D.onerror=F}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(h,p)}}}function EE(t,n){Ni.X(t,n);var a=as;if(a&&t){var l=Un(a).hoistableScripts,c=ss(t),h=l.get(c);h||(h=a.querySelector(wl(c)),h||(t=R({src:t,async:!0},n),(n=On.get(c))&&hh(t,n),h=a.createElement("script"),fe(h),Be(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function TE(t,n){Ni.M(t,n);var a=as;if(a&&t){var l=Un(a).hoistableScripts,c=ss(t),h=l.get(c);h||(h=a.querySelector(wl(c)),h||(t=R({src:t,async:!0,type:"module"},n),(n=On.get(c))&&hh(t,n),h=a.createElement("script"),fe(h),Be(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Pp(t,n,a,l){var c=(c=yt.current)?Eu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=rs(a.href),a=Un(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rs(a.href);var h=Un(c).hoistableStyles,p=h.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=c.querySelector(bl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),h||AE(c,t,a,p.state))),n&&l===null)throw Error(s(528,""));return p}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(a),a=Un(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function rs(t){return'href="'+oe(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Bp(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function AE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",a),fe(n),t.head.appendChild(n))}function ss(t){return'[src="'+oe(t)+'"]'}function wl(t){return"script[async]"+t}function jp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+oe(a.href)+'"]');if(l)return n.instance=l,fe(l),l;var c=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),fe(l),Be(l,"style",c),Tu(l,a.precedence,t),n.instance=l;case"stylesheet":c=rs(a.href);var h=t.querySelector(bl(c));if(h)return n.state.loading|=4,n.instance=h,fe(h),h;l=Bp(a),(c=On.get(c))&&fh(l,c),h=(t.ownerDocument||t).createElement("link"),fe(h);var p=h;return p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),Be(h,"link",l),n.state.loading|=4,Tu(h,a.precedence,t),n.instance=h;case"script":return h=ss(a.src),(c=t.querySelector(wl(h)))?(n.instance=c,fe(c),c):(l=a,(c=On.get(h))&&(l=R({},a),hh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),fe(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tu(l,a.precedence,t));return n.instance}function Tu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function fh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Au=null;function qp(t,n,a){if(Au===null){var l=new Map,c=Au=new Map;c.set(a,l)}else c=Au,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[ci]||h[le]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(h):l.set(p,[h])}}return l}function kp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function SE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=rs(l.href),h=n.querySelector(bl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Su.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,fe(h);return}h=n.ownerDocument||n,l=Bp(l),(c=On.get(c))&&fh(l,c),h=h.createElement("link"),fe(h);var p=h;p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),Be(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Su.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var dh=0;function wE(t,n){return t.stylesheets&&t.count===0&&wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&wu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&dh===0&&(dh=62500*rE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>dh?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bu=null;function wu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bu=new Map,n.forEach(RE,t),bu=null,Su.call(t))}function RE(t,n){if(!(n.state.loading&4)){var a=bu.get(t);if(a)var l=a.get(null);else{a=new Map,bu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),h=a.get(p)||l,h===l&&a.set(null,c),a.set(p,c),this.count++,l=Su.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function CE(t,n,a,l,c,h,p,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Gp(t,n,a,l,c,h,p,E,D,P,F,K){return t=new CE(t,n,a,p,D,P,F,K,E),n=1,h===!0&&(n|=24),h=dn(3,null,null,n),t.current=h,h.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},Xc(h),t}function Fp(t){return t?(t=zr,t):zr}function Qp(t,n,a,l,c,h){c=Fp(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ca(t,l,n),a!==null&&(un(a,t,n),al(a,t,n))}function Yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function mh(t,n){Yp(t,n),(t=t.alternate)&&Yp(t,n)}function Kp(t){if(t.tag===13||t.tag===31){var n=Za(t,67108864);n!==null&&un(n,t,67108864),mh(t,67108864)}}function Xp(t){if(t.tag===13||t.tag===31){var n=_n();n=xs(n);var a=Za(t,n);a!==null&&un(a,t,n),mh(t,n)}}var Ru=!0;function DE(t,n,a,l){var c=H.T;H.T=null;var h=et.p;try{et.p=2,gh(t,n,a,l)}finally{et.p=h,H.T=c}}function VE(t,n,a,l){var c=H.T;H.T=null;var h=et.p;try{et.p=8,gh(t,n,a,l)}finally{et.p=h,H.T=c}}function gh(t,n,a,l){if(Ru){var c=ph(l);if(c===null)eh(t,n,l,Cu,a),Zp(t,l);else if(IE(c,t,n,a,l))l.stopPropagation();else if(Zp(t,l),n&4&&-1<OE.indexOf(t)){for(;c!==null;){var h=hi(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=xn(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var D=1<<31-$e(p);E.entanglements[1]|=D,p&=~D}ti(h),(qt&6)===0&&(uu=Me()+500,El(0))}}break;case 31:case 13:E=Za(h,2),E!==null&&un(E,h,2),fu(),mh(h,2)}if(h=ph(l),h===null&&eh(t,n,l,Cu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else eh(t,n,l,null,a)}}function ph(t){return t=Vr(t),yh(t)}var Cu=null;function yh(t){if(Cu=null,t=fi(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function $p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ro()){case Ae:return 2;case Re:return 8;case li:case so:return 32;case Os:return 268435456;default:return 32}default:return 32}}var _h=!1,Ta=null,Aa=null,Sa=null,Cl=new Map,Dl=new Map,ba=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(t,n){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Vl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=hi(n),n!==null&&Kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function IE(t,n,a,l,c){switch(n){case"focusin":return Ta=Vl(Ta,t,n,a,l,c),!0;case"dragenter":return Aa=Vl(Aa,t,n,a,l,c),!0;case"mouseover":return Sa=Vl(Sa,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Cl.set(h,Vl(Cl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Dl.set(h,Vl(Dl.get(h)||null,t,n,a,l,c)),!0}return!1}function Jp(t){var n=fi(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,oo(t.priority,function(){Xp(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,oo(t.priority,function(){Xp(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ph(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dr=l,a.target.dispatchEvent(l),Dr=null}else return n=hi(a),n!==null&&Kp(n),t.blockedOn=a,!1;n.shift()}return!0}function Wp(t,n,a){Du(t)&&a.delete(n)}function NE(){_h=!1,Ta!==null&&Du(Ta)&&(Ta=null),Aa!==null&&Du(Aa)&&(Aa=null),Sa!==null&&Du(Sa)&&(Sa=null),Cl.forEach(Wp),Dl.forEach(Wp)}function Vu(t,n){t.blockedOn===n&&(t.blockedOn=null,_h||(_h=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NE)))}var Ou=null;function ty(t){Ou!==t&&(Ou=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(yh(l||a)===null)continue;break}var h=hi(a);h!==null&&(t.splice(n,3),n-=3,pf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ls(t){function n(D){return Vu(D,t)}Ta!==null&&Vu(Ta,t),Aa!==null&&Vu(Aa,t),Sa!==null&&Vu(Sa,t),Cl.forEach(n),Dl.forEach(n);for(var a=0;a<ba.length;a++){var l=ba[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)Jp(a),a.blockedOn===null&&ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],p=c[Ue]||null;if(typeof h=="function")p||ty(a);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[Ue]||null)E=p.formAction;else if(yh(c)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ty(a)}}}function ey(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function vh(t){this._internalRoot=t}Iu.prototype.render=vh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();Qp(a,l,t,n,null,null)},Iu.prototype.unmount=vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qp(t.current,2,null,t,null,null),fu(),n[Fn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ui();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ba.length&&n!==0&&n<ba[a].priority;a++);ba.splice(a,0,t),a===0&&Jp(t)}};var ny=e.version;if(ny!=="19.2.0")throw Error(s(527,ny,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var ME={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Pi=Nu.inject(ME),Ge=Nu}catch{}}return Il.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=ug,h=cg,p=fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Gp(t,1,!1,null,null,a,l,null,c,h,p,ey),t[Fn]=n.current,th(t),new vh(n)},Il.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=ug,p=cg,E=fg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Gp(t,1,!0,n,a??null,l,c,D,h,p,E,ey),n.context=Fp(null),a=n.current,l=_n(),l=xs(l),c=ua(l),c.callback=null,ca(a,c,l),a=l,n.current.lanes=a,qi(n,a),ti(n),t[Fn]=n.current,th(t),new Iu(n)},Il.version="19.2.0",Il}var hy;function GE(){if(hy)return Ah.exports;hy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ah.exports=HE(),Ah.exports}var FE=GE();const QE=T_(FE),YE="modulepreload",KE=function(r,e){return new URL(r,e).href},dy={},Hu=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let d=function(S){return Promise.all(S.map(R=>Promise.resolve(R).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const g=document.getElementsByTagName("link"),_=document.querySelector("meta[property=csp-nonce]"),v=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));o=d(i.map(S=>{if(S=KE(S,s),S in dy)return;dy[S]=!0;const R=S.endsWith(".css"),x=R?'[rel="stylesheet"]':"";if(!!s)for(let W=g.length-1;W>=0;W--){const J=g[W];if(J.href===S&&(!R||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${S}"]${x}`))return;const Y=document.createElement("link");if(Y.rel=R?"stylesheet":YE,R||(Y.as="script"),Y.crossOrigin="",Y.href=S,v&&Y.setAttribute("nonce",v),document.head.appendChild(Y),R)return new Promise((W,J)=>{Y.addEventListener("load",W),Y.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${S}`)))})}))}function f(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&f(g.reason);return e().catch(f)})},XE=async()=>{var r,e;(e=(r=window.Capacitor)==null?void 0:r.isNativePlatform)!=null&&e.call(r)&&await(await Hu(()=>import("./admobNative-BPEWTT3J.js"),[],import.meta.url)).initMobApp()};var jn=(r=>(r.Home="HOME",r.Game="GAME",r.Store="STORE",r))(jn||{});const Ra=({children:r,variant:e="primary",size:i="normal",fullWidth:s=!1,className:o="",...f})=>{const d="font-bold rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 flex items-center justify-center",g={primary:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white hover:opacity-90 shadow-lg shadow-cyan-500/20 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-cyan-400",secondary:"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600 disabled:opacity-50 disabled:cursor-not-allowed focus:ring-slate-500"},_={normal:"py-2 px-4 text-base",large:"py-3 px-6 text-lg"},v=s?"w-full":"w-auto",S=`${d} ${g[e]} ${_[i]} ${v} ${o}`;return nt.jsx("button",{className:S,...f,children:r})},$E=({navigate:r,onSuggestClick:e,onStartGame:i})=>{const[s,o]=me.useState(!1),[f,d]=me.useState(!1),g=async()=>{const _="https://play.google.com/store/apps/details?id=com.mrodr.yonunca";if(navigator.share)try{await navigator.share({title:"Yo Nunca",text:"Descarga Yo Nunca y juega con tus amigos!",url:_})}catch(v){console.error("Error compartiendo la app:",v)}else try{await navigator.clipboard.writeText(_),d(!0),setTimeout(()=>d(!1),2e3)}catch(v){console.error("No se pudo copiar al portapapeles",v)}};return nt.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 animate-fadeIn",children:[nt.jsx("h1",{className:"text-6xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500 mb-4 drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Yo Nunca"}),nt.jsx("p",{className:"text-slate-300 mb-12 text-lg",children:"El juego para revelar secretos."}),nt.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[nt.jsxs(Ra,{onClick:()=>{i(s),r(jn.Game)},fullWidth:!0,size:"large",children:[nt.jsx("i",{className:"fas fa-play mr-2"}),"Iniciar Partida"]}),nt.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[nt.jsx("input",{id:"include-adult",type:"checkbox",checked:s,onChange:_=>o(_.target.checked),className:"h-5 w-5"}),nt.jsx("label",{htmlFor:"include-adult",className:"text-sm text-slate-300",children:"Incluir +18"})]}),nt.jsxs(Ra,{onClick:e,variant:"secondary",fullWidth:!0,children:[nt.jsx("i",{className:"fas fa-lightbulb mr-2"}),"Sugerir Frase"]}),nt.jsxs(Ra,{onClick:()=>r(jn.Store),variant:"secondary",fullWidth:!0,children:[nt.jsx("i",{className:"fas fa-store mr-2"}),"Tienda"]}),nt.jsxs(Ra,{onClick:g,variant:"secondary",fullWidth:!0,children:[nt.jsx("i",{className:"fas fa-share-alt mr-2"}),f?"Enlace copiado!":"Compartir App"]})]})]})};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,S=f>>2,R=(f&3)<<4|g>>4;let x=(g&15)<<2|v>>6,G=v&63;_||(G=64,d||(x=64)),s.push(i[S],i[R],i[x],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(A_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ZE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||g==null||v==null||R==null)throw new JE;const x=f<<2|g>>4;if(s.push(x),v!==64){const G=g<<4&240|v>>2;if(s.push(G),R!==64){const Y=v<<6&192|R;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WE=function(r){const e=A_(r);return S_.encodeByteArray(e,!0)},Gu=function(r){return WE(r).replace(/\./g,"")},tT=function(r){try{return S_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=()=>eT().__FIREBASE_DEFAULTS__,iT=()=>{if(typeof process>"u"||typeof my>"u")return;const r=my.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tT(r[1]);return e&&JSON.parse(e)},sd=()=>{try{return nT()||iT()||aT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rT=r=>{var e,i;return(i=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},sT=r=>{const e=rT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},b_=()=>{var r;return(r=sd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Gu(JSON.stringify(i)),Gu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){var r;const e=(r=sd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return!cT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="FirebaseError";class bs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=mT,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w_.prototype.create)}}class w_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?gT(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new bs(o,g,s)}}function gT(r,e){return r.replace(pT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pT=/\{\$([^}]+)}/g;function Lh(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if(gy(f)&&gy(d)){if(!Lh(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function gy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){return r&&r._delegate?r._delegate:r}class kl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new lT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vT(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&e(d,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(r){return r===cr?void 0:r}function vT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const TT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},AT=Lt.INFO,ST={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},bT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ST[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R_{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const wT=(r,e)=>e.some(i=>r instanceof i);let py,yy;function RT(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C_=new WeakMap,zh=new WeakMap,D_=new WeakMap,Rh=new WeakMap,ld=new WeakMap;function DT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Da(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&C_.set(i,r)}).catch(()=>{}),ld.set(e,r),e}function VT(r){if(zh.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});zh.set(r,e)}let Ph={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return zh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||D_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OT(r){Ph=r(Ph)}function IT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ch(this),e,...i);return D_.set(s,e.sort?e.sort():[e]),Da(s)}:CT().includes(r)?function(...e){return r.apply(Ch(this),e),Da(C_.get(this))}:function(...e){return Da(r.apply(Ch(this),e))}}function NT(r){return typeof r=="function"?IT(r):(r instanceof IDBTransaction&&VT(r),wT(r,RT())?new Proxy(r,Ph):r)}function Da(r){if(r instanceof IDBRequest)return DT(r);if(Rh.has(r))return Rh.get(r);const e=NT(r);return e!==r&&(Rh.set(r,e),ld.set(e,r)),e}const Ch=r=>ld.get(r);function MT(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),g=Da(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Da(d.result),_.oldVersion,_.newVersion,Da(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const xT=["get","getKey","getAll","getAllKeys","count"],UT=["put","add","delete","clear"],Dh=new Map;function _y(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=UT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xT.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Dh.set(e,f),f}OT(r=>({...r,get:(e,i,s)=>_y(e,i)||r.get(e,i,s),has:(e,i)=>!!_y(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function zT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bh="@firebase/app",vy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new R_("@firebase/app"),PT="@firebase/app-compat",BT="@firebase/analytics-compat",jT="@firebase/analytics",qT="@firebase/app-check-compat",kT="@firebase/app-check",HT="@firebase/auth",GT="@firebase/auth-compat",FT="@firebase/database",QT="@firebase/data-connect",YT="@firebase/database-compat",KT="@firebase/functions",XT="@firebase/functions-compat",$T="@firebase/installations",ZT="@firebase/installations-compat",JT="@firebase/messaging",WT="@firebase/messaging-compat",tA="@firebase/performance",eA="@firebase/performance-compat",nA="@firebase/remote-config",iA="@firebase/remote-config-compat",aA="@firebase/storage",rA="@firebase/storage-compat",sA="@firebase/firestore",lA="@firebase/vertexai-preview",oA="@firebase/firestore-compat",uA="firebase",cA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",fA={[Bh]:"fire-core",[PT]:"fire-core-compat",[jT]:"fire-analytics",[BT]:"fire-analytics-compat",[kT]:"fire-app-check",[qT]:"fire-app-check-compat",[HT]:"fire-auth",[GT]:"fire-auth-compat",[FT]:"fire-rtdb",[QT]:"fire-data-connect",[YT]:"fire-rtdb-compat",[KT]:"fire-fn",[XT]:"fire-fn-compat",[$T]:"fire-iid",[ZT]:"fire-iid-compat",[JT]:"fire-fcm",[WT]:"fire-fcm-compat",[tA]:"fire-perf",[eA]:"fire-perf-compat",[nA]:"fire-rc",[iA]:"fire-rc-compat",[aA]:"fire-gcs",[rA]:"fire-gcs-compat",[sA]:"fire-fst",[oA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[uA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,hA=new Map,qh=new Map;function Ey(r,e){try{r.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qu(r){const e=r.name;if(qh.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,r);for(const i of Fu.values())Ey(i,r);for(const i of hA.values())Ey(i,r);return!0}function dA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new w_("app","Firebase",mA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=cA;function V_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Va.create("bad-app-name",{appName:String(o)});if(i||(i=b_()),!i)throw Va.create("no-options");const f=Fu.get(o);if(f){if(Lh(i,f.options)&&Lh(s,f.config))return f;throw Va.create("duplicate-app",{appName:o})}const d=new ET(o);for(const _ of qh.values())d.addComponent(_);const g=new gA(i,s,d);return Fu.set(o,g),g}function yA(r=jh){const e=Fu.get(r);if(!e&&r===jh&&b_())return V_();if(!e)throw Va.create("no-app",{appName:r});return e}function hs(r,e,i){var s;let o=(s=fA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const f=o.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${o}" with version "${e}":`];f&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}Qu(new kl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firebase-heartbeat-database",vA=1,Hl="firebase-heartbeat-store";let Vh=null;function O_(){return Vh||(Vh=MT(_A,vA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Vh}async function EA(r){try{const i=(await O_()).transaction(Hl),s=await i.objectStore(Hl).get(I_(r));return await i.done,s}catch(e){if(e instanceof bs)Ui.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Ty(r,e){try{const s=(await O_()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,I_(r)),await s.done}catch(i){if(i instanceof bs)Ui.warn(i.message);else{const s=Va.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function I_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1024,AA=720*60*60*1e3;class SA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Ay();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=AA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ay(),{heartbeatsToSend:s,unsentEntries:o}=bA(this._heartbeatsCache.heartbeats),f=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Ui.warn(i),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function bA(r,e=TA){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Sy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Sy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await EA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Sy(r){return Gu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){Qu(new kl("platform-logger",e=>new LT(e),"PRIVATE")),Qu(new kl("heartbeat",e=>new SA(e),"PRIVATE")),hs(Bh,vy,r),hs(Bh,vy,"esm2017"),hs("fire-js","")}RA("");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,N_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function b(){}b.prototype=A.prototype,C.D=A.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(O,N,M){for(var w=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)w[Zt-2]=arguments[Zt];return A.prototype[N].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,b){b||(b=0);var O=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)O[N]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(N=0;16>N;++N)O[N]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=C.g[0],b=C.g[1],N=C.g[2];var M=C.g[3],w=A+(M^b&(N^M))+O[0]+3614090360&4294967295;A=b+(w<<7&4294967295|w>>>25),w=M+(N^A&(b^N))+O[1]+3905402710&4294967295,M=A+(w<<12&4294967295|w>>>20),w=N+(b^M&(A^b))+O[2]+606105819&4294967295,N=M+(w<<17&4294967295|w>>>15),w=b+(A^N&(M^A))+O[3]+3250441966&4294967295,b=N+(w<<22&4294967295|w>>>10),w=A+(M^b&(N^M))+O[4]+4118548399&4294967295,A=b+(w<<7&4294967295|w>>>25),w=M+(N^A&(b^N))+O[5]+1200080426&4294967295,M=A+(w<<12&4294967295|w>>>20),w=N+(b^M&(A^b))+O[6]+2821735955&4294967295,N=M+(w<<17&4294967295|w>>>15),w=b+(A^N&(M^A))+O[7]+4249261313&4294967295,b=N+(w<<22&4294967295|w>>>10),w=A+(M^b&(N^M))+O[8]+1770035416&4294967295,A=b+(w<<7&4294967295|w>>>25),w=M+(N^A&(b^N))+O[9]+2336552879&4294967295,M=A+(w<<12&4294967295|w>>>20),w=N+(b^M&(A^b))+O[10]+4294925233&4294967295,N=M+(w<<17&4294967295|w>>>15),w=b+(A^N&(M^A))+O[11]+2304563134&4294967295,b=N+(w<<22&4294967295|w>>>10),w=A+(M^b&(N^M))+O[12]+1804603682&4294967295,A=b+(w<<7&4294967295|w>>>25),w=M+(N^A&(b^N))+O[13]+4254626195&4294967295,M=A+(w<<12&4294967295|w>>>20),w=N+(b^M&(A^b))+O[14]+2792965006&4294967295,N=M+(w<<17&4294967295|w>>>15),w=b+(A^N&(M^A))+O[15]+1236535329&4294967295,b=N+(w<<22&4294967295|w>>>10),w=A+(N^M&(b^N))+O[1]+4129170786&4294967295,A=b+(w<<5&4294967295|w>>>27),w=M+(b^N&(A^b))+O[6]+3225465664&4294967295,M=A+(w<<9&4294967295|w>>>23),w=N+(A^b&(M^A))+O[11]+643717713&4294967295,N=M+(w<<14&4294967295|w>>>18),w=b+(M^A&(N^M))+O[0]+3921069994&4294967295,b=N+(w<<20&4294967295|w>>>12),w=A+(N^M&(b^N))+O[5]+3593408605&4294967295,A=b+(w<<5&4294967295|w>>>27),w=M+(b^N&(A^b))+O[10]+38016083&4294967295,M=A+(w<<9&4294967295|w>>>23),w=N+(A^b&(M^A))+O[15]+3634488961&4294967295,N=M+(w<<14&4294967295|w>>>18),w=b+(M^A&(N^M))+O[4]+3889429448&4294967295,b=N+(w<<20&4294967295|w>>>12),w=A+(N^M&(b^N))+O[9]+568446438&4294967295,A=b+(w<<5&4294967295|w>>>27),w=M+(b^N&(A^b))+O[14]+3275163606&4294967295,M=A+(w<<9&4294967295|w>>>23),w=N+(A^b&(M^A))+O[3]+4107603335&4294967295,N=M+(w<<14&4294967295|w>>>18),w=b+(M^A&(N^M))+O[8]+1163531501&4294967295,b=N+(w<<20&4294967295|w>>>12),w=A+(N^M&(b^N))+O[13]+2850285829&4294967295,A=b+(w<<5&4294967295|w>>>27),w=M+(b^N&(A^b))+O[2]+4243563512&4294967295,M=A+(w<<9&4294967295|w>>>23),w=N+(A^b&(M^A))+O[7]+1735328473&4294967295,N=M+(w<<14&4294967295|w>>>18),w=b+(M^A&(N^M))+O[12]+2368359562&4294967295,b=N+(w<<20&4294967295|w>>>12),w=A+(b^N^M)+O[5]+4294588738&4294967295,A=b+(w<<4&4294967295|w>>>28),w=M+(A^b^N)+O[8]+2272392833&4294967295,M=A+(w<<11&4294967295|w>>>21),w=N+(M^A^b)+O[11]+1839030562&4294967295,N=M+(w<<16&4294967295|w>>>16),w=b+(N^M^A)+O[14]+4259657740&4294967295,b=N+(w<<23&4294967295|w>>>9),w=A+(b^N^M)+O[1]+2763975236&4294967295,A=b+(w<<4&4294967295|w>>>28),w=M+(A^b^N)+O[4]+1272893353&4294967295,M=A+(w<<11&4294967295|w>>>21),w=N+(M^A^b)+O[7]+4139469664&4294967295,N=M+(w<<16&4294967295|w>>>16),w=b+(N^M^A)+O[10]+3200236656&4294967295,b=N+(w<<23&4294967295|w>>>9),w=A+(b^N^M)+O[13]+681279174&4294967295,A=b+(w<<4&4294967295|w>>>28),w=M+(A^b^N)+O[0]+3936430074&4294967295,M=A+(w<<11&4294967295|w>>>21),w=N+(M^A^b)+O[3]+3572445317&4294967295,N=M+(w<<16&4294967295|w>>>16),w=b+(N^M^A)+O[6]+76029189&4294967295,b=N+(w<<23&4294967295|w>>>9),w=A+(b^N^M)+O[9]+3654602809&4294967295,A=b+(w<<4&4294967295|w>>>28),w=M+(A^b^N)+O[12]+3873151461&4294967295,M=A+(w<<11&4294967295|w>>>21),w=N+(M^A^b)+O[15]+530742520&4294967295,N=M+(w<<16&4294967295|w>>>16),w=b+(N^M^A)+O[2]+3299628645&4294967295,b=N+(w<<23&4294967295|w>>>9),w=A+(N^(b|~M))+O[0]+4096336452&4294967295,A=b+(w<<6&4294967295|w>>>26),w=M+(b^(A|~N))+O[7]+1126891415&4294967295,M=A+(w<<10&4294967295|w>>>22),w=N+(A^(M|~b))+O[14]+2878612391&4294967295,N=M+(w<<15&4294967295|w>>>17),w=b+(M^(N|~A))+O[5]+4237533241&4294967295,b=N+(w<<21&4294967295|w>>>11),w=A+(N^(b|~M))+O[12]+1700485571&4294967295,A=b+(w<<6&4294967295|w>>>26),w=M+(b^(A|~N))+O[3]+2399980690&4294967295,M=A+(w<<10&4294967295|w>>>22),w=N+(A^(M|~b))+O[10]+4293915773&4294967295,N=M+(w<<15&4294967295|w>>>17),w=b+(M^(N|~A))+O[1]+2240044497&4294967295,b=N+(w<<21&4294967295|w>>>11),w=A+(N^(b|~M))+O[8]+1873313359&4294967295,A=b+(w<<6&4294967295|w>>>26),w=M+(b^(A|~N))+O[15]+4264355552&4294967295,M=A+(w<<10&4294967295|w>>>22),w=N+(A^(M|~b))+O[6]+2734768916&4294967295,N=M+(w<<15&4294967295|w>>>17),w=b+(M^(N|~A))+O[13]+1309151649&4294967295,b=N+(w<<21&4294967295|w>>>11),w=A+(N^(b|~M))+O[4]+4149444226&4294967295,A=b+(w<<6&4294967295|w>>>26),w=M+(b^(A|~N))+O[11]+3174756917&4294967295,M=A+(w<<10&4294967295|w>>>22),w=N+(A^(M|~b))+O[2]+718787259&4294967295,N=M+(w<<15&4294967295|w>>>17),w=b+(M^(N|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+M&4294967295}s.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var b=A-this.blockSize,O=this.B,N=this.h,M=0;M<A;){if(N==0)for(;M<=b;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<A;)if(O[N++]=C.charCodeAt(M++),N==this.blockSize){o(this,O),N=0;break}}else for(;M<A;)if(O[N++]=C[M++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=A},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var b=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=b&255,b/=256;for(this.u(C),C=Array(16),A=b=0;4>A;++A)for(var O=0;32>O;O+=8)C[b++]=this.g[A]>>>O&255;return C};function f(C,A){var b=g;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=A(C)}function d(C,A){this.h=A;for(var b=[],O=!0,N=C.length-1;0<=N;N--){var M=C[N]|0;O&&M==A||(b[N]=M,O=!1)}this.g=b}var g={};function _(C){return-128<=C&&128>C?f(C,function(A){return new d([A|0],0>A?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return R;if(0>C)return J(v(-C));for(var A=[],b=1,O=0;C>=b;O++)A[O]=C/b|0,b*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return J(S(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=v(Math.pow(A,8)),O=R,N=0;N<C.length;N+=8){var M=Math.min(8,C.length-N),w=parseInt(C.substring(N,N+M),A);8>M?(M=v(Math.pow(A,M)),O=O.j(M).add(v(w))):(O=O.j(b),O=O.add(v(w)))}return O}var R=_(0),x=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();for(var C=0,A=1,b=0;b<this.g.length;b++){var O=this.i(b);C+=(0<=O?O:4294967296+O)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Y(this))return"0";if(W(this))return"-"+J(this).toString(C);for(var A=v(Math.pow(C,6)),b=this,O="";;){var N=Rt(b,A).g;b=mt(b,N.j(A));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=N,Y(b))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function Y(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function W(C){return C.h==-1}r.l=function(C){return C=mt(this,C),W(C)?-1:Y(C)?0:1};function J(C){for(var A=C.g.length,b=[],O=0;O<A;O++)b[O]=~C.g[O];return new d(b,~C.h).add(x)}r.abs=function(){return W(this)?J(this):this},r.add=function(C){for(var A=Math.max(this.g.length,C.g.length),b=[],O=0,N=0;N<=A;N++){var M=O+(this.i(N)&65535)+(C.i(N)&65535),w=(M>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=w>>>16,M&=65535,w&=65535,b[N]=w<<16|M}return new d(b,b[b.length-1]&-2147483648?-1:0)};function mt(C,A){return C.add(J(A))}r.j=function(C){if(Y(this)||Y(C))return R;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(0>this.l(G)&&0>C.l(G))return v(this.m()*C.m());for(var A=this.g.length+C.g.length,b=[],O=0;O<2*A;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<C.g.length;N++){var M=this.i(O)>>>16,w=this.i(O)&65535,Zt=C.i(N)>>>16,Jt=C.i(N)&65535;b[2*O+2*N]+=w*Jt,At(b,2*O+2*N),b[2*O+2*N+1]+=M*Jt,At(b,2*O+2*N+1),b[2*O+2*N+1]+=w*Zt,At(b,2*O+2*N+1),b[2*O+2*N+2]+=M*Zt,At(b,2*O+2*N+2)}for(O=0;O<A;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=A;O<2*A;O++)b[O]=0;return new d(b,0)};function At(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function dt(C,A){this.g=C,this.h=A}function Rt(C,A){if(Y(A))throw Error("division by zero");if(Y(C))return new dt(R,R);if(W(C))return A=Rt(J(C),A),new dt(J(A.g),J(A.h));if(W(A))return A=Rt(C,J(A)),new dt(J(A.g),A.h);if(30<C.g.length){if(W(C)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var b=x,O=A;0>=O.l(C);)b=Wt(b),O=Wt(O);var N=Vt(b,1),M=Vt(O,1);for(O=Vt(O,2),b=Vt(b,2);!Y(O);){var w=M.add(O);0>=w.l(C)&&(N=N.add(b),M=w),O=Vt(O,1),b=Vt(b,1)}return A=mt(C,N.j(A)),new dt(N,A)}for(N=R;0<=C.l(A);){for(b=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=v(b),w=M.j(A);W(w)||0<w.l(C);)b-=O,M=v(b),w=M.j(A);Y(M)&&(M=x),N=N.add(M),C=mt(C,w)}return new dt(N,C)}r.A=function(C){return Rt(this,C).h},r.and=function(C){for(var A=Math.max(this.g.length,C.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)&C.i(O);return new d(b,this.h&C.h)},r.or=function(C){for(var A=Math.max(this.g.length,C.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)|C.i(O);return new d(b,this.h|C.h)},r.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)^C.i(O);return new d(b,this.h^C.h)};function Wt(C){for(var A=C.g.length+1,b=[],O=0;O<A;O++)b[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(b,C.h)}function Vt(C,A){var b=A>>5;A%=32;for(var O=C.g.length-b,N=[],M=0;M<O;M++)N[M]=0<A?C.i(M+b)>>>A|C.i(M+b+1)<<32-A:C.i(M+b);return new d(N,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,N_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,dr=d}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M_,Ml,x_,zu,kh,U_,L_,z_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var y=0,T=!1,L={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function x(u,m,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:R,x.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Y(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)tt[kt-2]=arguments[kt];return m.prototype[L].apply(T,tt)}}function W(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(_(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=T[tt]}else u.push(T)}}class mt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function dt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Rt(u){return Rt[" "](u),u}Rt[" "]=function(){};var Wt=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Vt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function C(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function A(u){const m={};for(const y in u)m[y]=u[y];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let q=0;q<b.length;q++)y=b[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function N(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function M(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Ot;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Zt{constructor(){this.h=this.g=null}add(m,y){const T=Jt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Jt=new mt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Ot=new Zt,gt=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(V)}};var V=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){M(y)}var m=Jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var it=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u})();function lt(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Wt){t:{try{Rt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&lt.aa.h.call(this)}}Y(lt,X);var yt={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function re(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++Ne,this.da=this.fa=!1}function kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,y,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=vr(u,m,T,L);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new re(m,this.src,q,!!T,L),m.fa=y,u.push(m)),m};function xa(u,m){var y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(kn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function vr(u,m,y,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return L}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),Ua={};function Er(u,m,y,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Er(u,m[q],y,T,L);return null}return y=ro(y),u&&u[bt]?u.K(m,y,v(T)?!!T.capture:!1,L):pc(u,m,y,!1,T,L)}function pc(u,m,y,T,L,q){if(!m)throw Error("Invalid event type");var tt=v(L)?!!L.capture:!!L,kt=Vs(u);if(kt||(u[Mn]=kt=new si(u)),y=kt.add(m,y,T,tt,q),y.proxy)return y;if(T=ao(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)it||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ar(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ao(){function u(y){return m.call(u.src,u.listener,y)}const m=yc;return u}function Tr(u,m,y,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Tr(u,m[q],y,T,L);else T=v(T)?!!T.capture:!!T,y=ro(y),u&&u[bt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=vr(q,y,T,L),-1<y&&(kn(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vr(m,y,T,L)),(y=-1<u?m[u]:null)&&La(y))}function La(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])xa(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Ar(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Vs(m))?(xa(y,u),y.h==0&&(y.src=null,m[Mn]=null)):kn(u)}}}function Ar(u){return u in Ua?Ua[u]:Ua[u]="on"+u}function yc(u,m){if(u.da)u=!0;else{m=new lt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&La(u),u=y.call(T,m)}return u}function Vs(u){return u=u[Mn],u instanceof si?u:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ro(u){return typeof u=="function"?u:(u[Me]||(u[Me]=function(m){return u.handleEvent(m)}),u[Me])}function Ae(){k.call(this),this.i=new si(this),this.M=this,this.F=null}Y(Ae,k),Ae.prototype[bt]=!0,Ae.prototype.removeEventListener=function(u,m,y,T){Tr(this,u,m,y,T)};function Re(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var L=m;m=new X(T,u),O(m,L)}if(L=!0,y)for(var q=y.length-1;0<=q;q--){var tt=m.g=y[q];L=li(tt,T,!0,m)&&L}if(tt=m.g=u,L=li(tt,T,!0,m)&&L,L=li(tt,T,!1,m)&&L,y)for(q=0;q<y.length;q++)tt=m.g=y[q],L=li(tt,T,!1,m)&&L}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)kn(y[T]);delete u.g[m],u.h--}}this.F=null},Ae.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Ae.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function li(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==y){var kt=tt.listener,pe=tt.ha||tt.src;tt.fa&&xa(u.i,tt),L=kt.call(pe,T)!==!1&&L}}return L&&!T.defaultPrevented}function so(u,m,y){if(typeof u=="function")y&&(u=x(u,y));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Os(u){u.g=so(()=>{u.g=null,u.i&&(u.i=!1,Os(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _c extends k{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function za(u){k.call(this),this.h=u,this.g={}}Y(za,k);var Pi=[];function Ge(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&La(m)},u),u.g={}}za.prototype.N=function(){za.aa.N.call(this),Ge(this)},za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=g.JSON.stringify,$e=g.JSON.parse,vc=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Is(){}Is.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function Pa(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){X.call(this,"d")}Y(Bi,X);function xn(){X.call(this,"c")}Y(xn,X);var En={},ji=null;function Sr(){return ji=ji||new Ae}En.La="serverreachability";function Ns(u){X.call(this,En.La,u)}Y(Ns,X);function oi(u){const m=Sr();Re(m,new Ns(m))}En.STAT_EVENT="statevent";function qi(u,m){X.call(this,En.STAT_EVENT,u),this.stat=m}Y(qi,X);function xe(u){const m=Sr();Re(m,new qi(m,u))}En.Ma="timingevent";function Ms(u,m){X.call(this,En.Ma,u),this.size=m}Y(Ms,X);function ki(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function xs(u,m,y,T,L,q){u.info(function(){if(u.g)if(q)for(var tt="",kt=q.split("&"),pe=0;pe<kt.length;pe++){var wt=kt[pe].split("=");if(1<wt.length){var De=wt[0];wt=wt[1];var Ve=De.split("_");tt=2<=Ve.length&&Ve[1]=="type"?tt+(De+"="+wt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+tt})}function Us(u,m,y,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+q+" "+tt})}function ui(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gn(u,y)+(T?" "+T:"")})}function oo(u,m){u.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function Gn(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return vn(y)}catch{return m}}var le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Gi(){}Y(Gi,Is),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},Fn=new Gi;function Qn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new za(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uo}function uo(){this.i=null,this.g="",this.h=!1}var Ls={},ci={};function Ba(u,m,y){u.L=1,u.v=ka(oe(m)),u.m=y,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Un(u),u.A=oe(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),mi(y.i,"t",T),u.C=0,y=u.j.J,u.h=new uo,u.g=Ro(u.j,y?m:null,!u.m),0<u.O&&(u.M=new _c(x(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pi[0]=L.toString()),L=Pi);for(var q=0;q<L.length;q++){var tt=Er(y,L[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),oi(),xs(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&We(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ve=We(this.g);var m=this.g.Ba();const ia=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=ia?oi(3):oi(2)),br(this);var y=this.g.Z();this.X=y;e:if(hi(this)){var T=Fa(this.g);u="";var L=T.length,q=We(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ze(this),Fi(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,Us(this.i,this.u,this.A,this.l,this.R,Ve,y),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,pe=this.g;if((kt=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(kt)){var wt=kt;break e}}wt=null}if(y=wt)ui(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,y);else{this.o=!1,this.s=3,xe(12),Ze(this),Fi(this);break t}}if(this.P){y=!0;let an;for(;!this.J&&this.C<tt.length;)if(an=ja(this,tt),an==ci){Ve==4&&(this.s=4,xe(14),y=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Ls){this.s=4,xe(15),ui(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else ui(this.i,this.l,an,null),Yn(this,an);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||tt.length!=0||this.h.h||(this.s=1,xe(16),y=!1),this.o=this.o&&y,!y)ui(this.i,this.l,tt,"[Invalid Chunked Response]"),Ze(this),Fi(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Ys(De),De.M=!0,xe(11))}}else ui(this.i,this.l,tt,null),Yn(this,tt);Ve==4&&Ze(this),this.o&&!this.J&&(Ve==4?So(this.j,this):(this.o=!1,Un(this)))}else yo(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ze(this),Fi(this)}}}catch{}finally{}};function hi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ja(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?ci:(y=Number(m.substring(y,T)),isNaN(y)?Ls:(T+=1,T+y>m.length?ci:(m=m.slice(T,T+y),u.C=T+y,m)))}Qn.prototype.cancel=function(){this.J=!0,Ze(this)};function Un(u){u.S=Date.now()+u.I,fe(u,u.I)}function fe(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ki(x(u.ba,u),m)}function br(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(oo(this.i,this.A),this.L!=2&&(oi(),xe(17)),Ze(this),this.s=2,Fi(this)):fe(this,this.S-u)};function Fi(u){u.j.G==0||u.J||So(u.j,u)}function Ze(u){br(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ge(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yn(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Qi(y.h,u))){if(!u.K&&Qi(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ea(y),ta(y);else break t;Qs(y),xe(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=ki(x(y.Za,y),6e3));if(1>=co(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else pi(y,11)}else if((u.K||y.g==u)&&ea(y),!At(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let wt=L[m];if(y.T=wt[0],wt=wt[1],y.G==2)if(wt[0]=="c"){y.K=wt[1],y.ia=wt[2];const De=wt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Ve=wt[4];Ve!=null&&(y.Aa=Ve,y.j.info("SVER="+y.Aa));const ia=wt[5];ia!=null&&typeof ia=="number"&&0<ia&&(T=1.5*ia,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const an=u.g;if(an){const Ka=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var q=T.h;q.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Yi(q,q.h),q.h=null))}if(T.D){const yi=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;yi&&(T.ya=yi,zt(T.I,T.D,yi))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var tt=u;if(T.qa=wo(T,T.J?T.ia:null,T.W),tt.K){Tn(T.h,tt);var kt=tt,pe=T.L;pe&&(kt.I=pe),kt.B&&(br(kt),Un(kt)),T.g=tt}else To(T);0<y.i.length&&Nr(y)}else wt[0]!="stop"&&wt[0]!="close"||pi(y,7);else y.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?pi(y,7):Gs(y):wt[0]!="noop"&&y.l&&y.l.ta(wt),y.v=0)}}oi(4)}catch{}}var Ec=class{constructor(u,m){this.g=u,this.map=m}};function zs(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function co(u){return u.h?1:u.g?u.g.size:0}function Qi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Yi(u,m){u.g?u.g.add(m):u.h=m}function Tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zs.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Je(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return W(u.i)}function fo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Tc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function wr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Tc(u),T=fo(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],y&&y[q],u)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),L=null;if(0<=T){var q=u[y].substring(0,T);L=u[y].substring(T+1)}else q=u[y];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof di){this.h=u.h,Ki(this,u.j),this.o=u.o,this.g=u.g,qa(this,u.s),this.l=u.l;var m=u.i,y=new Kn;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Cr(this,y),this.m=u.m}else u&&(m=String(u).match(Bs))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),qa(this,m[4]),this.l=Xi(m[5]||"",!0),Cr(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}di.prototype.toString=function(){var u=[],m=this.j;m&&u.push(An(m,js,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(An(m,js,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(An(y,y.charAt(0)=="/"?qs:ho,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",An(y,bc)),u.join("")};function oe(u){return new di(u)}function Ki(u,m,y){u.j=y?Xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qa(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Cr(u,m,y){m instanceof Kn?(u.i=m,mo(u.i,u.h)):(y||(m=An(m,Sc)),u.i=new Kn(m,u.h))}function zt(u,m,y){u.i.set(m,y)}function ka(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function An(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Ac),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ac(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var js=/[#\/\?@]/g,ho=/[#\?:]/g,qs=/[#\?]/g,Sc=/[#\?@]/g,bc=/#/g;function Kn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ce(u){u.g||(u.g=new Map,u.h=0,u.i&&Rr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Kn.prototype,r.add=function(u,m){Ce(this),this.i=null,u=cn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Dr(u,m){Ce(u),m=cn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vr(u,m){return Ce(u),m=cn(u,m),u.g.has(m)}r.forEach=function(u,m){Ce(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){Ce(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)y.push(m[T])}return y},r.V=function(u){Ce(this);let m=[];if(typeof u=="string")Vr(this,u)&&(m=m.concat(this.g.get(cn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Ce(this),this.i=null,u=cn(this,u),Vr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function mi(u,m,y){Dr(u,m),0<y.length&&(u.i=null,u.g.set(cn(u,m),W(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function cn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function mo(u,m){m&&!u.j&&(Ce(u),u.i=null,u.g.forEach(function(y,T){var L=T.toLowerCase();T!=L&&(Dr(this,T),mi(this,L,y))},u)),u.j=m}function ks(u,m){const y=new Hi;if(g.Image){const T=new Image;T.onload=G(nn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=G(nn,y,"TestLoadImage: error",!1,m,T),T.onabort=G(nn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(nn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function go(u,m){const y=new Hi,T=new AbortController,L=setTimeout(()=>{T.abort(),nn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?nn(y,"TestPingServer: ok",!0,m):nn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),nn(y,"TestPingServer: error",!1,m)})}function nn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function Ln(){this.g=new vc}function Hs(u,m,y){const T=y||"";try{wr(u,function(L,q){let tt=L;v(L)&&(tt=vn(L)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Xn(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Xn,Is),Xn.prototype.g=function(){return new fn(this.l,this.j)},Xn.prototype.i=(function(u){return function(){return u}})({});function fn(u,m){Ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(fn,Ae),r=fn.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$i(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Or(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Or(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):$i(this),this.readyState==3&&Or(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$i(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function $i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ha(u){let m="";return Vt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Zi(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Ha(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):zt(u,m,y))}function te(u){Ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(te,Ae);var Fe=/^https?$/i,gi=["POST","PUT"];r=te.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?lo(this.o):lo(Fn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ga(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(gi,m,void 0))||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ir(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Ga(this,q)}};function Ga(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ji(u),Wi(u)}function Ji(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),te.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},r.bb=function(){po(this)};function po(u){if(u.h&&typeof d<"u"&&(!u.v[1]||We(u)!=4||u.Z()!=2)){if(u.u&&We(u)==4)so(u.Ea,0,u);else if(Re(u,"readystatechange"),We(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=tt===0){var L=String(u.D).match(Bs)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Fe.test(L?L.toLowerCase():"")}y=T}if(y)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var q=2<We(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ji(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){Ir(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{y.onreadystatechange=T}catch{}}}function Ir(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function We(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<We(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$e(m)}};function Fa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(u){const m={};u=(u.g&&2<=We(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var y=N(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[L]||[];m[L]=q,q.push(y)}C(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function _o(u){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(u&&u.concurrentRequestLimit),this.Da=new Ln,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_o.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){xe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=wo(this,null,this.W),Nr(this)};function Gs(u){if(vo(u),u.G==3){var m=u.U++,y=oe(u.I);if(zt(y,"SID",u.K),zt(y,"RID",m),zt(y,"TYPE","terminate"),Ya(u,y),m=new Qn(u,u.j,m),m.L=2,m.v=ka(oe(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Ro(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Un(m)}Ks(u)}function ta(u){u.g&&(Ys(u),u.g.cancel(),u.g=null)}function vo(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),ea(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Nr(u){if(!Ps(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||gt(),ot||(et(),ot=!0),Ot.add(m,u),u.B=0}}function wc(u,m){return co(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ki(x(u.Ga,u,m),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Fs(this,L,m),y=oe(this.I),zt(y,"RID",u),zt(y,"CVER",22),this.D&&zt(y,"X-HTTP-Session-Id",this.D),Ya(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(Ha(q)))+"&"+m:this.m&&Zi(y,this.m,q)),Yi(this.h,L),this.Ua&&zt(y,"TYPE","init"),this.P?(zt(y,"$req",m),zt(y,"SID","null"),L.T=!0,Ba(L,y,null)):Ba(L,y,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||Ps(this.h)||Eo(this))};function Eo(u,m){var y;m?y=m.l:y=u.U++;const T=oe(u.I);zt(T,"SID",u.K),zt(T,"RID",y),zt(T,"AID",u.T),Ya(u,T),u.m&&u.o&&Zi(T,u.m,u.o),y=new Qn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Fs(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Yi(u.h,y),Ba(y,T,m)}function Ya(u,m){u.H&&Vt(u.H,function(y,T){zt(m,T,y)}),u.l&&wr({},function(y,T){zt(m,T,y)})}function Fs(u,m,y){y=Math.min(u.i.length,y);var T=u.l?x(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+y];q==-1?0<y?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let kt=!0;for(let pe=0;pe<y;pe++){let wt=L[pe].g;const De=L[pe].map;if(wt-=q,0>wt)q=Math.max(0,L[pe].g-100),kt=!1;else try{Hs(De,tt,"req"+wt+"_")}catch{T&&T(De)}}if(kt){T=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function To(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||gt(),ot||(et(),ot=!0),Ot.add(m,u),u.v=0}}function Qs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ki(x(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ki(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),ta(this),Ao(this))};function Ys(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=oe(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),Ya(u,m),u.m&&u.o&&Zi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ka(oe(m)),y.m=null,y.P=!0,fi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),Qs(this),xe(19))};function ea(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function So(u,m){var y=null;if(u.g==m){ea(u),Ys(u),u.g=null;var T=2}else if(Qi(u.h,m))y=m.D,Tn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Sr(),Re(T,new Ms(T,y)),Nr(u)}else To(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&wc(u,m)||T==2&&Qs(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function bo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var y=x(u.fb,u),T=u.Xa;const L=!T;T=new di(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ki(T,"https"),ka(T),L?ks(T.toString(),y):go(T.toString(),y)}else xe(2);u.G=0,u.l&&u.l.sa(m),Ks(u),vo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Ks(u){if(u.G=0,u.ka=[],u.l){const m=Je(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function wo(u,m,y){var T=y instanceof di?oe(y):new di(y);if(T.g!="")m&&(T.g=m+"."+T.g),qa(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new di(null);T&&Ki(q,T),m&&(q.g=m),L&&qa(q,L),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&zt(T,y,m),zt(T,"VER",u.la),Ya(u,T),T}function Ro(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new te(new Xn({eb:y})):new te(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}r=Co.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Mr(){}Mr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ae.call(this),this.g=new _o(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new na(this)}Y(tn,Ae),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Gs(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=vn(u),u=y);m.i.push(new Ec(m.Ya++,u)),m.G==3&&Nr(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,tn.aa.N.call(this)};function Do(u){Bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Do,Bi);function Vo(){xn.call(this),this.status=1}Y(Vo,xn);function na(u){this.g=u}Y(na,Co),na.prototype.ua=function(){Re(this.g,"a")},na.prototype.ta=function(u){Re(this.g,new Do(u))},na.prototype.sa=function(u){Re(this.g,new Vo)},na.prototype.ra=function(){Re(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,z_=function(){return new Mr},L_=function(){return Sr()},U_=En,kh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,zu=le,Ue.COMPLETE="complete",x_=Ue,Pa.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Ml=Pa,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,M_=te}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new R_("@firebase/firestore");function Nl(){return mr.logLevel}function rt(r,...e){if(mr.logLevel<=Lt.DEBUG){const i=e.map(od);mr.debug(`Firestore (${ws}): ${r}`,...i)}}function Li(r,...e){if(mr.logLevel<=Lt.ERROR){const i=e.map(od);mr.error(`Firestore (${ws}): ${r}`,...i)}}function ms(r,...e){if(mr.logLevel<=Lt.WARN){const i=e.map(od);mr.warn(`Firestore (${ws}): ${r}`,...i)}}function od(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r="Unexpected state"){const e=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: `+r;throw Li(e),new Error(e)}function Ft(r,e){r||pt()}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class DA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class VA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Mi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Mi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new P_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Ke(e)}}class OA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new OA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Ft(this.o===void 0);const s=f=>{f.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new NA(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=xA(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%e.length))}return s}}function jt(r,e){return r<e?-1:r>e?1:0}function gs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new we(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new we(0,0))}static max(){return new vt(new we(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(),s===void 0?s=e.length-i:s>e.length-i&&pt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=e.get(o),d=i.get(o);if(f<d)return-1;if(f>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class ae extends Gl{construct(e,i,s){return new ae(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const UA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Gl{construct(e,i,s){return new qe(e,i,s)}static isValidIdentifier(e){return UA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qe(["__name__"])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ae.fromString(e))}static fromName(e){return new ft(ae.fromString(e).popFirst(5))}static empty(){return new ft(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ae(e.slice()))}}function LA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new Ia(o,ft.empty(),e)}function zA(r){return new Ia(r.readTime,r.key,-1)}class Ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ia(vt.min(),ft.empty(),-1)}static max(){return new Ia(vt.max(),ft.empty(),-1)}}function PA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:jt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==BA)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,f=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++f,d&&f===o&&i()}),(_=>s(_)))})),d=!0,f===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next((S=>{d[v]=S,++g,g===f&&s(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function qA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ud.oe=-1;function nc(r){return r==null}function Yu(r){return r===0&&1/r==-1/0}function kA(r){return typeof r=="number"&&Number.isInteger(r)&&!Yu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Rs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function j_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=f??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new je(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(e,i,s,o,f){return this}insert(e,i,s){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cy(this.data.getIterator())}getIteratorFrom(e){return new Cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ke(this.comparator);return i.data=e,i}}class Cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new qn([])}unionWith(e){let i=new ke(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new q_("Invalid base64 string: "+f):f}})(e);return new He(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const HA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(Ft(!!r),typeof r=="string"){let e=0;const i=HA.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function fd(r){const e=r.mapValue.fields.__previous_value__;return cd(e)?fd(e):e}function Fl(r){const e=Na(r.mapValue.fields.__local_write_time__.timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i,s,o,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class Ql{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{}};function pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cd(r)?4:QA(r)?9007199254740991:FA(r)?10:11:pt()}function ai(r,e){if(r===e)return!0;const i=pr(r);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Na(o.timestampValue),g=Na(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return gr(o.bytesValue).isEqual(gr(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ge(o.geoPointValue.latitude)===ge(f.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ge(o.integerValue)===ge(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ge(o.doubleValue),g=ge(f.doubleValue);return d===g?Yu(d)===Yu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return gs(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(Ry(d)!==Ry(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0})(r,e);default:return pt()}}function Yl(r,e){return(r.values||[]).find((i=>ai(i,e)))!==void 0}function ps(r,e){if(r===e)return 0;const i=pr(r),s=pr(e);if(i!==s)return jt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const g=ge(f.integerValue||f.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return Dy(r.timestampValue,e.timestampValue);case 4:return Dy(Fl(r),Fl(e));case 5:return jt(r.stringValue,e.stringValue);case 6:return(function(f,d){const g=gr(f),_=gr(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=jt(g[v],_[v]);if(S!==0)return S}return jt(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const g=jt(ge(f.latitude),ge(d.latitude));return g!==0?g:jt(ge(f.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Vy(r.arrayValue,e.arrayValue);case 10:return(function(f,d){var g,_,v,S;const R=f.fields||{},x=d.fields||{},G=(g=R.value)===null||g===void 0?void 0:g.arrayValue,Y=(_=x.value)===null||_===void 0?void 0:_.arrayValue,W=jt(((v=G==null?void 0:G.values)===null||v===void 0?void 0:v.length)||0,((S=Y==null?void 0:Y.values)===null||S===void 0?void 0:S.length)||0);return W!==0?W:Vy(G,Y)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Uu.mapValue&&d===Uu.mapValue)return 0;if(f===Uu.mapValue)return 1;if(d===Uu.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let R=0;R<_.length&&R<S.length;++R){const x=jt(_[R],S[R]);if(x!==0)return x;const G=ps(g[_[R]],v[S[R]]);if(G!==0)return G}return jt(_.length,S.length)})(r.mapValue,e.mapValue);default:throw pt()}}function Dy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jt(r,e);const i=Na(r),s=Na(e),o=jt(i.seconds,s.seconds);return o!==0?o:jt(i.nanos,s.nanos)}function Vy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=ps(i[o],s[o]);if(f)return f}return jt(i.length,s.length)}function ys(r){return Hh(r)}function Hh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Na(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return gr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=Hh(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${Hh(i.fields[d])}`;return o+"}"})(r.mapValue):pt()}function Gh(r){return!!r&&"integerValue"in r}function hd(r){return!!r&&"arrayValue"in r}function Oy(r){return!!r&&"nullValue"in r}function Iy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pu(r){return!!r&&"mapValue"in r}function FA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Rs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function QA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Pu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=qe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=zl(d):o.push(g.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Pu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Rs(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new In(zl(this.value))}}function k_(r){const e=[];return Rs(r.fields,((i,s)=>{const o=new qe([i]);if(Pu(s)){const f=k_(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,vt.min(),vt.min(),vt.min(),In.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,vt.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,vt.min(),vt.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,vt.min(),vt.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i){this.position=e,this.inclusive=i}}function Ny(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=ps(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function My(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i="asc"){this.field=e,this.dir=i}}function YA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{}class be extends H_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new XA(e,i,s):i==="array-contains"?new JA(e,s):i==="in"?new WA(e,s):i==="not-in"?new tS(e,s):i==="array-contains-any"?new eS(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new $A(e,s):new ZA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends H_{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new ri(e,i)}matches(e){return G_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function G_(r){return r.op==="and"}function F_(r){return KA(r)&&G_(r)}function KA(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Fh(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+ys(r.value);if(F_(r))return r.filters.map((e=>Fh(e))).join(",");{const e=r.filters.map((i=>Fh(i))).join(",");return`${r.op}(${e})`}}function Q_(r,e){return r instanceof be?(function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,g)=>f&&Q_(d,o.filters[g])),!0):!1})(r,e):void pt()}function Y_(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(Y_).join(" ,")+"}"})(r):"Filter"}class XA extends be{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class $A extends be{constructor(e,i){super(e,"in",i),this.keys=K_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ZA extends be{constructor(e,i){super(e,"not-in",i),this.keys=K_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function K_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>ft.fromName(s.referenceValue)))}class JA extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Yl(i.arrayValue,this.value)}}class WA extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class tS extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Yl(this.value.arrayValue,i)}}class eS extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Yl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function xy(r,e=null,i=[],s=[],o=null,f=null,d=null){return new nS(r,e,i,s,o,f,d)}function dd(r){const e=Et(r);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Fh(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ys(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ys(s))).join(",")),e.ue=i}return e.ue}function md(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!YA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Q_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!My(r.startAt,e.startAt)&&My(r.endAt,e.endAt)}function Qh(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iS(r,e,i,s,o,f,d,g){return new ic(r,e,i,s,o,f,d,g)}function gd(r){return new ic(r)}function Uy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aS(r){return r.collectionGroup!==null}function Pl(r){const e=Et(r);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Xu(f,s))})),i.has(qe.keyField().canonicalString())||e.ce.push(new Xu(qe.keyField(),s))}return e.ce}function ni(r){const e=Et(r);return e.le||(e.le=rS(e,Pl(r))),e.le}function rS(r,e){if(r.limitType==="F")return xy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new Xu(o.field,f)}));const i=r.endAt?new Ku(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ku(r.startAt.position,r.startAt.inclusive):null;return xy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Yh(r,e,i){return new ic(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function ac(r,e){return md(ni(r),ni(e))&&r.limitType===e.limitType}function X_(r){return`${dd(ni(r))}|lt:${r.limitType}`}function us(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Y_(o))).join(", ")}]`),nc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ys(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ys(o))).join(",")),`Target(${s})`})(ni(r))}; limitType=${r.limitType})`}function rc(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ft.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of Pl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const v=Ny(d,g,_);return d.inclusive?v<=0:v<0})(s.startAt,Pl(s),o)||s.endAt&&!(function(d,g,_){const v=Ny(d,g,_);return d.inclusive?v>=0:v>0})(s.endAt,Pl(s),o))})(r,e)}function sS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $_(r){return(e,i)=>{let s=!1;for(const o of Pl(r)){const f=lS(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function lS(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):(function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?ps(_,v):pt()})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return j_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new se(ft.comparator);function zi(){return oS}const Z_=new se(ft.comparator);function xl(...r){let e=Z_;for(const i of r)e=e.insert(i.key,i);return e}function J_(r){let e=Z_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function hr(){return Bl()}function W_(){return Bl()}function Bl(){return new Cs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const uS=new se(ft.comparator),cS=new ke(ft.comparator);function Mt(...r){let e=cS;for(const i of r)e=e.add(i);return e}const fS=new ke(jt);function hS(){return fS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function tv(r){return{integerValue:""+r}}function dS(r,e){return kA(e)?tv(e):pd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function mS(r,e,i){return r instanceof $u?(function(o,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&cd(f)&&(f=fd(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}})(i,e):r instanceof Kl?nv(r,e):r instanceof Xl?iv(r,e):(function(o,f){const d=ev(o,f),g=Ly(d)+Ly(o.Pe);return Gh(d)&&Gh(o.Pe)?tv(g):pd(o.serializer,g)})(r,e)}function gS(r,e,i){return r instanceof Kl?nv(r,e):r instanceof Xl?iv(r,e):i}function ev(r,e){return r instanceof Zu?(function(s){return Gh(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class $u extends sc{}class Kl extends sc{constructor(e){super(),this.elements=e}}function nv(r,e){const i=av(e);for(const s of r.elements)i.some((o=>ai(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Xl extends sc{constructor(e){super(),this.elements=e}}function iv(r,e){let i=av(e);for(const s of r.elements)i=i.filter((o=>!ai(o,s)));return{arrayValue:{values:i}}}class Zu extends sc{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Ly(r){return ge(r.integerValue||r.doubleValue)}function av(r){return hd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Kl&&o instanceof Kl||s instanceof Xl&&o instanceof Xl?gs(s.elements,o.elements,ai):s instanceof Zu&&o instanceof Zu?ai(s.Pe,o.Pe):s instanceof $u&&o instanceof $u})(r.transform,e.transform)}class yS{constructor(e,i){this.version=e,this.transformResults=i}}class xi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lc{}function rv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lv(r.key,xi.none()):new Wl(r.key,r.data,xi.none());{const i=r.data,s=In.empty();let o=new ke(qe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new yr(r.key,s,new qn(o.toArray()),xi.none())}}function _S(r,e,i){r instanceof Wl?(function(o,f,d){const g=o.value.clone(),_=Py(o.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof yr?(function(o,f,d){if(!Bu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Py(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(sv(o)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jl(r,e,i,s){return r instanceof Wl?(function(f,d,g,_){if(!Bu(f.precondition,d))return g;const v=f.value.clone(),S=By(f.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,s):r instanceof yr?(function(f,d,g,_){if(!Bu(f.precondition,d))return g;const v=By(f.fieldTransforms,_,d),S=d.data;return S.setAll(sv(f)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((R=>R.field)))})(r,e,i,s):(function(f,d,g){return Bu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function vS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=ev(s.transform,o||null);f!=null&&(i===null&&(i=In.empty()),i.set(s.field,f))}return i||null}function zy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&gs(s,o,((f,d)=>pS(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends lc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends lc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function sv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Py(r,e,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,gS(d,g,i[o]))}return s}function By(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,mS(f,d,e))}return s}class lv extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ES extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&_S(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=W_();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const _=rv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,((i,s)=>zy(i,s)))&&gs(this.baseMutations,e.baseMutations,((i,s)=>zy(i,s)))}}class yd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length);let o=(function(){return uS})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new yd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Ut;function bS(r){switch(r){default:return pt();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function ov(r){if(r===void 0)return Li("GRPC error has no .code"),$.UNKNOWN;switch(r){case Te.OK:return $.OK;case Te.CANCELLED:return $.CANCELLED;case Te.UNKNOWN:return $.UNKNOWN;case Te.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Te.INTERNAL:return $.INTERNAL;case Te.UNAVAILABLE:return $.UNAVAILABLE;case Te.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Te.NOT_FOUND:return $.NOT_FOUND;case Te.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Te.ABORTED:return $.ABORTED;case Te.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Te.DATA_LOSS:return $.DATA_LOSS;default:return pt()}}(Ut=Te||(Te={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new dr([4294967295,4294967295],0);function jy(r){const e=wS().encode(r),i=new N_;return i.update(e),new Uint8Array(i.digest())}function qy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new dr([i,s],0),new dr([o,f],0)]}class _d{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=dr.fromNumber(this.Ie)}Ee(e,i,s){let o=e.add(i.multiply(dr.fromNumber(s)));return o.compare(RS)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=jy(e),[s,o]=qy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);if(!this.de(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new _d(f,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.Ie===0)return;const i=jy(e),[s,o]=qy(i);for(let f=0;f<this.hashCount;f++){const d=this.Ee(s,o,f);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,to.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new oc(vt.min(),o,new se(jt),zi(),Mt())}}class to{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new to(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,i,s,o){this.Re=e,this.removedTargetIds=i,this.key=s,this.Ve=o}}class uv{constructor(e,i){this.targetId=e,this.me=i}}class cv{constructor(e,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class ky{constructor(){this.fe=0,this.ge=Gy(),this.pe=He.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Mt(),i=Mt(),s=Mt();return this.ge.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt()}})),new to(this.pe,this.ye,e,i,s)}Ce(){this.we=!1,this.ge=Gy()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CS{constructor(e){this.Le=e,this.Be=new Map,this.ke=zi(),this.qe=Hy(),this.Qe=new se(jt)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const s=this.Ge(i);switch(e.state){case 0:this.ze(i)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(e.resumeToken));break;default:pt()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((s,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,s=e.me.count,o=this.Je(i);if(o){const f=o.target;if(Qh(f))if(s===0){const d=new ft(f.path);this.Ue(i,d,Xe.newNoDocument(d,vt.min()))}else Ft(s===1);else{const d=this.Ye(i);if(d!==s){const g=this.Ze(e),_=g?this.Xe(g,e,d):1;if(_!==0){this.je(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=gr(s).toUint8Array()}catch(_){if(_ instanceof q_)return ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new _d(d,o,f)}catch(_){return ms(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ie===0?null:g}Xe(e,i,s){return i.me.count===s-this.nt(e,i.targetId)?0:2}nt(e,i){const s=this.Le.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,f,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((f,d)=>{const g=this.Je(d);if(g){if(f.current&&Qh(g.target)){const _=new ft(g.target.path);this.ke.get(_)!==null||this.it(d,_)||this.Ue(d,_,Xe.newNoDocument(_,e))}f.be&&(i.set(d,f.ve()),f.Ce())}}));let s=Mt();this.qe.forEach(((f,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.Je(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(f))})),this.ke.forEach(((f,d)=>d.setReadTime(e)));const o=new oc(e,i,this.Qe,this.ke,s);return this.ke=zi(),this.qe=Hy(),this.Qe=new se(jt),o}$e(e,i){if(!this.ze(e))return;const s=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new ky,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new ke(jt),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ky),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function Hy(){return new se(ft.comparator)}function Gy(){return new se(ft.comparator)}const DS={asc:"ASCENDING",desc:"DESCENDING"},VS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OS={and:"AND",or:"OR"};class IS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Kh(r,e){return r.useProto3Json||nc(e)?e:{value:e}}function Ju(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NS(r,e){return Ju(r,e.toTimestamp())}function ii(r){return Ft(!!r),vt.fromTimestamp((function(i){const s=Na(i);return new we(s.seconds,s.nanos)})(r))}function vd(r,e){return Xh(r,e).canonicalString()}function Xh(r,e){const i=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function hv(r){const e=ae.fromString(r);return Ft(yv(e)),e}function $h(r,e){return vd(r.databaseId,e.path)}function Oh(r,e){const i=hv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(mv(i))}function dv(r,e){return vd(r.databaseId,e)}function MS(r){const e=hv(r);return e.length===4?ae.emptyPath():mv(e)}function Zh(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mv(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Fy(r,e,i){return{name:$h(r,e),fields:i.value.mapValue.fields}}function xS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(v,S){return v.useProto3Json?(Ft(S===void 0||typeof S=="string"),He.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array),He.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const S=v.code===void 0?$.UNKNOWN:ov(v.code);return new ut(S,v.message||"")})(d);i=new cv(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Oh(r,s.document.name),f=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):vt.min(),g=new In({mapValue:{fields:s.document.fields}}),_=Xe.newFoundDocument(o,f,d,g),v=s.targetIds||[],S=s.removedTargetIds||[];i=new ju(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Oh(r,s.document),f=s.readTime?ii(s.readTime):vt.min(),d=Xe.newNoDocument(o,f),g=s.removedTargetIds||[];i=new ju([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Oh(r,s.document),f=s.removedTargetIds||[];i=new ju([],f,o,null)}else{if(!("filter"in e))return pt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new SS(o,f),g=s.targetId;i=new uv(g,d)}}return i}function US(r,e){let i;if(e instanceof Wl)i={update:Fy(r,e.key,e.value)};else if(e instanceof lv)i={delete:$h(r,e.key)};else if(e instanceof yr)i={update:Fy(r,e.key,e.data),updateMask:GS(e.fieldMask)};else{if(!(e instanceof ES))return pt();i={verify:$h(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const g=d.transform;if(g instanceof $u)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zu)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw pt()})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:NS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:pt()})(r,e.precondition)),i}function LS(r,e){return r&&r.length>0?(Ft(e!==void 0),r.map((i=>(function(o,f){let d=o.updateTime?ii(o.updateTime):ii(f);return d.isEqual(vt.min())&&(d=ii(f)),new yS(d,o.transformResults||[])})(i,e)))):[]}function zS(r,e){return{documents:[dv(r,e.path)]}}function PS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=dv(r,o);const f=(function(v){if(v.length!==0)return pv(ri.create(v,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(v){if(v.length!==0)return v.map((S=>(function(x){return{field:cs(x.field),direction:qS(x.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Kh(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:i,parent:o}}function BS(r){let e=MS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let f=[];i.where&&(f=(function(R){const x=gv(R);return x instanceof ri&&F_(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((x=>(function(Y){return new Xu(fs(Y.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let x;return x=typeof R=="object"?R.value:R,nc(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(R){const x=!!R.before,G=R.values||[];return new Ku(G,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(R){const x=!R.before,G=R.values||[];return new Ku(G,x)})(i.endAt)),iS(e,o,d,f,g,"F",_,v)}function jS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function gv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=fs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fs(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=fs(i.unaryFilter.field);return be.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return pt()}})(r):r.fieldFilter!==void 0?(function(i){return be.create(fs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((s=>gv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt()}})(i.compositeFilter.op))})(r):pt()}function qS(r){return DS[r]}function kS(r){return VS[r]}function HS(r){return OS[r]}function cs(r){return{fieldPath:r.canonicalString()}}function fs(r){return qe.fromServerFormat(r.fieldPath)}function pv(r){return r instanceof be?(function(i){if(i.op==="=="){if(Iy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(Oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(Oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:kS(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const s=i.getFilters().map((o=>pv(o)));return s.length===1?s[0]:{compositeFilter:{op:HS(i.op),filters:s}}})(r):pt()}function GS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function yv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,s,o,f=vt.min(),d=vt.min(),g=He.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.ct=e}}function QS(r){const e=BS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.un=new KS}addToCollectionParentIndex(e,i){return this.un.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ia.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class KS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new ke(ae.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ke(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _s(0)}static kn(){return new _s(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.changes=new Cs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&jl(s.mutation,o,qn.empty(),we.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=hr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=xl();return f.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=hr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let f=zi();const d=Bl(),g=(function(){return Bl()})();return i.forEach(((_,v)=>{const S=s.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof yr)?f=f.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),jl(S.mutation,v,S.mutation.getFieldMask(),we.now())):d.set(v.key,qn.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>{var R;return g.set(v,new $S(S,(R=d.get(v))!==null&&R!==void 0?R:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=Bl();let o=new se(((d,g)=>d-g)),f=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=s.get(_)||qn.empty();S=g.applyToLocalView(v,S),s.set(_,S);const R=(o.get(g.batchId)||Mt()).add(_);o=o.insert(g.batchId,R)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,R=W_();S.forEach((x=>{if(!f.has(x)){const G=rv(i.get(x),s.get(x));G!==null&&R.set(x,G),f=f.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,R))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):aS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):Z.resolve(hr());let g=-1,_=f;return d.next((v=>Z.forEach(v,((S,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),f.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((x=>{_=_.insert(S,x)}))))).next((()=>this.populateOverlays(e,v,f))).next((()=>this.computeViews(e,_,v,Mt()))).next((S=>({batchId:g,changes:J_(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((s=>{let o=xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,f).next((g=>Z.forEach(g,(_=>{const v=(function(R,x){return new ic(x,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((S=>{S.forEach(((R,x)=>{d=d.insert(R,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let g=xl();return d.forEach(((_,v)=>{const S=f.get(_);S!==void 0&&jl(S.mutation,v,qn.empty(),we.now()),rc(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:QS(o.bundledQuery),readTime:ii(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.overlays=new se(ft.comparator),this.Ir=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=hr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.ht(e,i,f)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.Ir.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=hr(),f=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new se(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=f.get(v.largestBatchId);S===null&&(S=hr(),f=f.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=hr(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>g.set(v,S))),!(g.size()>=o)););return Z.resolve(g)}ht(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new AS(i,s));let f=this.Ir.get(i);f===void 0&&(f=Mt(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.Tr=new ke(Ie.Er),this.dr=new ke(Ie.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Vr(new Ie(e,i))}mr(e,i){e.forEach((s=>this.removeReference(s,i)))}gr(e){const i=new ft(new ae([])),s=new Ie(i,e),o=new Ie(i,e+1),f=[];return this.dr.forEachInRange([s,o],(d=>{this.Vr(d),f.push(d.key)})),f}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ft(new ae([])),s=new Ie(i,e),o=new Ie(i,e+1);let f=Mt();return this.dr.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ie(e,0),s=this.Tr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ft.comparator(e.key,i.key)||jt(e.wr,i.wr)}static Ar(e,i){return jt(e.wr,i.wr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new ke(Ie.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TS(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.br=this.br.add(new Ie(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.vr(s),f=o<0?0:o;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,o],(d=>{const g=this.Dr(d.wr);f.push(g)})),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new ke(jt);return i.forEach((o=>{const f=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,d],(g=>{s=s.add(g.wr)}))})),Z.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;ft.isDocumentKey(f)||(f=f.child(""));const d=new Ie(new ft(f),0);let g=new ke(jt);return this.br.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.wr)),!0)}),d),Z.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Z.forEach(i.mutations,(o=>{const f=new Ie(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,i){const s=new Ie(i,0),o=this.br.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.Mr=e,this.docs=(function(){return new se(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=zi();const d=i.path,g=new ft(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||PA(zA(S),s)<=0||(o.has(S.key)||rc(i,S))&&(f=f.insert(S.key,S.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(e,i,s,o){pt()}Or(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new ib(this)}getSize(e){return Z.resolve(this.size)}}class ib extends XS{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.persistence=e,this.Nr=new Cs((i=>dd(i)),md),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ed,this.targetCount=0,this.kr=_s.Bn()}forEachTarget(e,i){return this.Nr.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Kn(i),Z.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Nr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(f).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Nr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Br.Rr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Br.mr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Br.yr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,i){this.qr={},this.overlays={},this.Qr=new ud(0),this.Kr=!1,this.Kr=!0,this.$r=new tb,this.referenceDelegate=e(this),this.Ur=new ab(this),this.indexManager=new YS,this.remoteDocumentCache=(function(o){return new nb(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new FS(i),this.Gr=new JS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.qr[e.toKey()];return s||(s=new eb(i,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const o=new sb(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((f=>this.referenceDelegate.jr(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Hr(e,i){return Z.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,i))))}}class sb extends jA{constructor(e){super(),this.currentSequenceNumber=e}}class Td{constructor(e){this.persistence=e,this.Jr=new Ed,this.Yr=null}static Zr(e){return new Td(e)}get Xr(){if(this.Yr)return this.Yr;throw pt()}addReference(e,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.Xr.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(s=>{const o=ft.fromPath(s);return this.ei(e,o).next((f=>{f||i.removeEntry(o,vt.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.$i=s,this.Ui=o}static Wi(e,i){let s=Mt(),o=Mt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Ad(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return fT()?8:qA(uT())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.Yi(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.Zi(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new lb;return this.Xi(e,i,d).next((g=>{if(f.result=g,this.zi)return this.es(e,i,d,g.size)}))})).next((()=>f.result))}es(e,i,s,o){return s.documentReadCount<this.ji?(Nl()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Nl()<=Lt.DEBUG&&rt("QueryEngine","Query:",us(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Nl()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):Z.resolve())}Yi(e,i){if(Uy(i))return Z.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Yh(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Mt(...f);return this.Ji.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.ts(i,g);return this.ns(i,v,d,_.readTime)?this.Yi(e,Yh(i,null,"F")):this.rs(e,v,i,_)}))))})))))}Zi(e,i,s,o){return Uy(i)||o.isEqual(vt.min())?Z.resolve(null):this.Ji.getDocuments(e,s).next((f=>{const d=this.ts(i,f);return this.ns(i,d,s,o)?Z.resolve(null):(Nl()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),us(i)),this.rs(e,d,i,LA(o,-1)).next((g=>g)))}))}ts(e,i){let s=new ke($_(e));return i.forEach(((o,f)=>{rc(e,f)&&(s=s.add(f))})),s}ns(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Xi(e,i,s){return Nl()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",us(i)),this.Ji.getDocumentsMatchingQuery(e,i,Ia.min(),s)}rs(e,i,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,i,s,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new se(jt),this._s=new Cs((f=>dd(f)),md),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function cb(r,e,i,s){return new ub(r,e,i,s)}async function _v(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.ls(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],g=[];let _=Mt();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of f){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(s,_).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function fb(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,S){const R=v.batch,x=R.keys();let G=Z.resolve();return x.forEach((Y=>{G=G.next((()=>S.getEntry(_,Y))).next((W=>{const J=v.docVersions.get(Y);Ft(J!==null),W.version.compareTo(J)<0&&(R.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),S.addEntry(W)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,R)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Mt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function vv(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function hb(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const g=[];e.targetChanges.forEach(((S,R)=>{const x=o.get(R);if(!x)return;g.push(i.Ur.removeMatchingKeys(f,S.removedDocuments,R).next((()=>i.Ur.addMatchingKeys(f,S.addedDocuments,R))));let G=x.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(R)!==null?G=G.withResumeToken(He.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,s)),o=o.insert(R,G),(function(W,J,mt){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,G,S)&&g.push(i.Ur.updateTargetData(f,G))}));let _=zi(),v=Mt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,S))})),g.push(db(f,d,e.documentUpdates).next((S=>{_=S.Ps,v=S.Is}))),!s.isEqual(vt.min())){const S=i.Ur.getLastRemoteSnapshotVersion(f).next((R=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,v))).next((()=>_))})).then((f=>(i.os=o,f)))}function db(r,e,i){let s=Mt(),o=Mt();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=zi();return i.forEach(((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):rt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Ps:d,Is:o}}))}function mb(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function gb(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Ur.getTargetData(s,e).next((f=>f?(o=f,Z.resolve(o)):i.Ur.allocateTargetId(s).next((d=>(o=new Ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(e,s.targetId)),s}))}async function Jh(r,e,i){const s=Et(r),o=s.os.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Jl(d))throw d;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Qy(r,e,i){const s=Et(r);let o=vt.min(),f=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const R=Et(_),x=R._s.get(S);return x!==void 0?Z.resolve(R.os.get(x)):R.Ur.getTargetData(v,S)})(s,d,ni(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(d,g.targetId).next((_=>{f=_}))})).next((()=>s.ss.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?f:Mt()))).next((g=>(pb(s,sS(e),g),{documents:g,Ts:f})))))}function pb(r,e,i){let s=r.us.get(e)||vt.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.us.set(e,s)}class Yy{constructor(){this.activeTargetIds=hS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yb{constructor(){this.so=new Yy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,s){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function Ih(){return Lu===null?Lu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Tb extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${o}/databases/${f}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${f}`}get Fo(){return!1}Mo(i,s,o,f,d){const g=Ih(),_=this.xo(i,s.toUriEncodedString());rt("RestConnection",`Sending RPC '${i}' ${g}:`,_,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,f,d),this.No(i,_,v,o).then((S=>(rt("RestConnection",`Received RPC '${i}' ${g}: `,S),S)),(S=>{throw ms("RestConnection",`RPC '${i}' ${g} failed with error: `,S,"url: ",_,"request:",o),S}))}Lo(i,s,o,f,d,g){return this.Mo(i,s,o,f,d)}Oo(i,s,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ws})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((f,d)=>i[d]=f)),o&&o.headers.forEach(((f,d)=>i[d]=f))}xo(i,s){const o=vb[i];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,s,o){const f=Ih();return new Promise(((d,g)=>{const _=new M_;_.setWithCredentials(!0),_.listenOnce(x_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zu.NO_ERROR:const S=_.getResponseJson();rt(Ye,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),d(S);break;case zu.TIMEOUT:rt(Ye,`RPC '${e}' ${f} timed out`),g(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const R=_.getStatus();if(rt(Ye,`RPC '${e}' ${f} failed with status:`,R,"response text:",_.getResponseText()),R>0){let x=_.getResponseJson();Array.isArray(x)&&(x=x[0]);const G=x==null?void 0:x.error;if(G&&G.status&&G.message){const Y=(function(J){const mt=J.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(mt)>=0?mt:$.UNKNOWN})(G.status);g(new ut(Y,G.message))}else g(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut($.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{rt(Ye,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);rt(Ye,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",v,s,15)}))}Bo(e,i,s){const o=Ih(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=z_(),g=L_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const S=f.join("");rt(Ye,`Creating RPC '${e}' stream ${o}: ${S}`,_);const R=d.createWebChannel(S,_);let x=!1,G=!1;const Y=new Eb({Io:J=>{G?rt(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(x||(rt(Ye,`Opening RPC '${e}' stream ${o} transport.`),R.open(),x=!0),rt(Ye,`RPC '${e}' stream ${o} sending:`,J),R.send(J))},To:()=>R.close()}),W=(J,mt,At)=>{J.listen(mt,(dt=>{try{At(dt)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return W(R,Ml.EventType.OPEN,(()=>{G||(rt(Ye,`RPC '${e}' stream ${o} transport opened.`),Y.yo())})),W(R,Ml.EventType.CLOSE,(()=>{G||(G=!0,rt(Ye,`RPC '${e}' stream ${o} transport closed`),Y.So())})),W(R,Ml.EventType.ERROR,(J=>{G||(G=!0,ms(Ye,`RPC '${e}' stream ${o} transport errored:`,J),Y.So(new ut($.UNAVAILABLE,"The operation could not be completed")))})),W(R,Ml.EventType.MESSAGE,(J=>{var mt;if(!G){const At=J.data[0];Ft(!!At);const dt=At,Rt=dt.error||((mt=dt[0])===null||mt===void 0?void 0:mt.error);if(Rt){rt(Ye,`RPC '${e}' stream ${o} received error:`,Rt);const Wt=Rt.status;let Vt=(function(b){const O=Te[b];if(O!==void 0)return ov(O)})(Wt),C=Rt.message;Vt===void 0&&(Vt=$.INTERNAL,C="Unknown error status: "+Wt+" with message "+Rt.message),G=!0,Y.So(new ut(Vt,C)),R.close()}else rt(Ye,`RPC '${e}' stream ${o} received:`,At),Y.bo(At)}})),W(g,U_.STAT_EVENT,(J=>{J.stat===kh.PROXY?rt(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===kh.NOPROXY&&rt(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.wo()}),0),Y}}function Nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(r){return new IS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i,s=1e3,o=1.5,f=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=o,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i,s,o,f,d,g,_){this.ui=e,this.Ho=s,this.Jo=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ev(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===i&&this.P_(s,o)}),(s=>{e((()=>{const o=new ut($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,i){const s=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ab extends Tv{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=xS(this.serializer,e),s=(function(f){if(!("targetChange"in f))return vt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ii(d.readTime):vt.min()})(e);return this.listener.d_(i,s)}A_(e){const i={};i.database=Zh(this.serializer),i.addTarget=(function(f,d){let g;const _=d.target;if(g=Qh(_)?{documents:zS(f,_)}:{query:PS(f,_)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=fv(f,d.resumeToken);const v=Kh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Ju(f,d.snapshotVersion.toTimestamp());const v=Kh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=jS(this.serializer,e);s&&(i.labels=s),this.a_(i)}R_(e){const i={};i.database=Zh(this.serializer),i.removeTarget=e,this.a_(i)}}class Sb extends Tv{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=LS(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.g_(s,i)}p_(){const e={};e.database=Zh(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>US(this.serializer,s)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends class{}{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Mo(e,Xh(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut($.UNKNOWN,f.toString())}))}Lo(e,i,s,o,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(e,Xh(i,s),o,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class wb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Li(i),this.D_=!1):rt("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o((d=>{s.enqueueAndForget((async()=>{_r(this)&&(rt("RemoteStore","Restarting streams for network reachability change."),await(async function(_){const v=Et(_);v.L_.add(4),await eo(v),v.q_.set("Unknown"),v.L_.delete(4),await cc(v)})(this))}))})),this.q_=new wb(s,o)}}async function cc(r){if(_r(r))for(const e of r.B_)await e(!0)}async function eo(r){for(const e of r.B_)await e(!1)}function Av(r,e){const i=Et(r);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Rd(i)?wd(i):Ds(i).r_()&&bd(i,e))}function Sd(r,e){const i=Et(r),s=Ds(i);i.N_.delete(e),s.r_()&&Sv(i,e),i.N_.size===0&&(s.r_()?s.o_():_r(i)&&i.q_.set("Unknown"))}function bd(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(r).A_(e)}function Sv(r,e){r.Q_.xe(e),Ds(r).R_(e)}function wd(r){r.Q_=new CS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ds(r).start(),r.q_.v_()}function Rd(r){return _r(r)&&!Ds(r).n_()&&r.N_.size>0}function _r(r){return Et(r).L_.size===0}function bv(r){r.Q_=void 0}async function Cb(r){r.q_.set("Online")}async function Db(r){r.N_.forEach(((e,i)=>{bd(r,e)}))}async function Vb(r,e){bv(r),Rd(r)?(r.q_.M_(e),wd(r)):r.q_.set("Unknown")}async function Ob(r,e,i){if(r.q_.set("Online"),e instanceof cv&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const g of f.targetIds)o.N_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.N_.delete(g),o.Q_.removeTarget(g))})(r,e)}catch(s){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wu(r,s)}else if(e instanceof ju?r.Q_.Ke(e):e instanceof uv?r.Q_.He(e):r.Q_.We(e),!i.isEqual(vt.min()))try{const s=await vv(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const g=f.Q_.rt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=f.N_.get(v);S&&f.N_.set(v,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const S=f.N_.get(_);if(!S)return;f.N_.set(_,S.withResumeToken(He.EMPTY_BYTE_STRING,S.snapshotVersion)),Sv(f,_);const R=new Ca(S.target,_,v,S.sequenceNumber);bd(f,R)})),f.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){rt("RemoteStore","Failed to raise snapshot:",s),await Wu(r,s)}}async function Wu(r,e,i){if(!Jl(e))throw e;r.L_.add(1),await eo(r),r.q_.set("Offline"),i||(i=()=>vv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await cc(r)}))}function wv(r,e){return e().catch((i=>Wu(r,i,e)))}async function fc(r){const e=Et(r),i=Ma(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ib(e);)try{const o=await mb(e.localStore,s);if(o===null){e.O_.length===0&&i.o_();break}s=o.batchId,Nb(e,o)}catch(o){await Wu(e,o)}Rv(e)&&Cv(e)}function Ib(r){return _r(r)&&r.O_.length<10}function Nb(r,e){r.O_.push(e);const i=Ma(r);i.r_()&&i.V_&&i.m_(e.mutations)}function Rv(r){return _r(r)&&!Ma(r).n_()&&r.O_.length>0}function Cv(r){Ma(r).start()}async function Mb(r){Ma(r).p_()}async function xb(r){const e=Ma(r);for(const i of r.O_)e.m_(i.mutations)}async function Ub(r,e,i){const s=r.O_.shift(),o=yd.from(s,e,i);await wv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await fc(r)}async function Lb(r,e){e&&Ma(r).V_&&await(async function(s,o){if((function(d){return bS(d)&&d!==$.ABORTED})(o.code)){const f=s.O_.shift();Ma(s).s_(),await wv(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await fc(s)}})(r,e),Rv(r)&&Cv(r)}async function Xy(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const s=_r(i);i.L_.add(3),await eo(i),s&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await cc(i)}async function zb(r,e){const i=Et(r);e?(i.L_.delete(2),await cc(i)):e||(i.L_.add(2),await eo(i),i.q_.set("Unknown"))}function Ds(r){return r.K_||(r.K_=(function(i,s,o){const f=Et(i);return f.w_(),new Ab(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Eo:Cb.bind(null,r),Ro:Db.bind(null,r),mo:Vb.bind(null,r),d_:Ob.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Rd(r)?wd(r):r.q_.set("Unknown")):(await r.K_.stop(),bv(r))}))),r.K_}function Ma(r){return r.U_||(r.U_=(function(i,s,o){const f=Et(i);return f.w_(),new Sb(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Mb.bind(null,r),mo:Lb.bind(null,r),f_:xb.bind(null,r),g_:Ub.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await fc(r)):(await r.U_.stop(),r.O_.length>0&&(rt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new Cd(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Jl(r))return new ut($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=xl(),this.sortedSet=new se(this.comparator)}static emptySet(e){return new ds(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.W_=new se(ft.comparator)}track(e){const i=e.doc.key,s=this.W_.get(i);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(i,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(i):e.type===1&&s.type===2?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):pt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,s)=>{e.push(s)})),e}}class vs{constructor(e,i,s,o,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new vs(e,i,ds.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Bb{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,s){const o=Et(i),f=o.queries;o.queries=Zy(),f.forEach(((d,g)=>{for(const _ of g.j_)_.onError(s)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function Zy(){return new Cs((r=>X_(r)),ac)}async function Dv(r,e){const i=Et(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.H_()&&e.J_()&&(s=2):(f=new Pb,s=e.J_()?0:1);try{switch(s){case 0:f.z_=await i.onListen(o,!0);break;case 1:f.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Dd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.j_.push(e),e.Z_(i.onlineState),f.z_&&e.X_(f.z_)&&Vd(i)}async function Vv(r,e){const i=Et(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.j_.indexOf(e);d>=0&&(f.j_.splice(d,1),f.j_.length===0?o=e.J_()?0:1:!f.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function jb(r,e){const i=Et(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.j_)g.X_(o)&&(s=!0);d.z_=o}}s&&Vd(i)}function qb(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const f of o.j_)f.onError(i);s.queries.delete(e)}function Vd(r){r.Y_.forEach((e=>{e.next()}))}var Wh,Jy;(Jy=Wh||(Wh={})).ea="default",Jy.Cache="cache";class Ov{constructor(e,i,s){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const s=i!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.key=e}}class Nv{constructor(e){this.key=e}}class kb{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Mt(),this.mutatedKeys=Mt(),this.Aa=$_(e),this.Ra=new ds(this.Aa)}get Va(){return this.Ta}ma(e,i){const s=i?i.fa:new $y,o=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,R)=>{const x=o.get(S),G=rc(this.query,R)?R:null,Y=!!x&&this.mutatedKeys.has(x.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;x&&G?x.data.isEqual(G.data)?Y!==W&&(s.track({type:3,doc:G}),J=!0):this.ga(x,G)||(s.track({type:2,doc:G}),J=!0,(_&&this.Aa(G,_)>0||v&&this.Aa(G,v)<0)&&(g=!0)):!x&&G?(s.track({type:0,doc:G}),J=!0):x&&!G&&(s.track({type:1,doc:x}),J=!0,(_||v)&&(g=!0)),J&&(G?(d=d.add(G),f=W?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),s.track({type:1,doc:S})}return{Ra:d,fa:s,ns:g,mutatedKeys:f}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((S,R)=>(function(G,Y){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return W(G)-W(Y)})(S.type,R.type)||this.Aa(S.doc,R.doc))),this.pa(s),o=o!=null&&o;const g=i&&!o?this.ya():[],_=this.da.size===0&&this.current&&!o?1:0,v=_!==this.Ea;return this.Ea=_,d.length!==0||v?{snapshot:new vs(this.query,e.Ra,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $y,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Mt(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const i=[];return e.forEach((s=>{this.da.has(s)||i.push(new Nv(s))})),this.da.forEach((s=>{e.has(s)||i.push(new Iv(s))})),i}ba(e){this.Ta=e.Ts,this.da=Mt();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return vs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Hb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Gb{constructor(e){this.key=e,this.va=!1}}class Fb{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Cs((g=>X_(g)),ac),this.Ma=new Map,this.xa=new Set,this.Oa=new se(ft.comparator),this.Na=new Map,this.La=new Ed,this.Ba={},this.ka=new Map,this.qa=_s.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Qb(r,e,i=!0){const s=Pv(r);let o;const f=s.Fa.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.Da()):o=await Mv(s,e,i,!0),o}async function Yb(r,e){const i=Pv(r);await Mv(i,e,!0,!1)}async function Mv(r,e,i,s){const o=await gb(r.localStore,ni(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await Kb(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Av(r.remoteStore,o),g}async function Kb(r,e,i,s,o){r.Ka=(R,x,G)=>(async function(W,J,mt,At){let dt=J.view.ma(mt);dt.ns&&(dt=await Qy(W.localStore,J.query,!1).then((({documents:C})=>J.view.ma(C,dt))));const Rt=At&&At.targetChanges.get(J.targetId),Wt=At&&At.targetMismatches.get(J.targetId)!=null,Vt=J.view.applyChanges(dt,W.isPrimaryClient,Rt,Wt);return t_(W,J.targetId,Vt.wa),Vt.snapshot})(r,R,x,G);const f=await Qy(r.localStore,e,!0),d=new kb(e,f.Ts),g=d.ma(f.documents),_=to.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);t_(r,i,v.wa);const S=new Hb(e,i,d);return r.Fa.set(e,S),r.Ma.has(i)?r.Ma.get(i).push(e):r.Ma.set(i,[e]),v.snapshot}async function Xb(r,e,i){const s=Et(r),o=s.Fa.get(e),f=s.Ma.get(o.targetId);if(f.length>1)return s.Ma.set(o.targetId,f.filter((d=>!ac(d,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jh(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Sd(s.remoteStore,o.targetId),td(s,o.targetId)})).catch(Zl)):(td(s,o.targetId),await Jh(s.localStore,o.targetId,!0))}async function $b(r,e){const i=Et(r),s=i.Fa.get(e),o=i.Ma.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Sd(i.remoteStore,s.targetId))}async function Zb(r,e,i){const s=a1(r);try{const o=await(function(d,g){const _=Et(d),v=we.now(),S=g.reduce(((G,Y)=>G.add(Y.key)),Mt());let R,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Y=zi(),W=Mt();return _.cs.getEntries(G,S).next((J=>{Y=J,Y.forEach(((mt,At)=>{At.isValidDocument()||(W=W.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,Y))).next((J=>{R=J;const mt=[];for(const At of g){const dt=vS(At,R.get(At.key).overlayedDocument);dt!=null&&mt.push(new yr(At.key,dt,k_(dt.value.mapValue),xi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,mt,g)})).next((J=>{x=J;const mt=J.applyToLocalDocumentSet(R,W);return _.documentOverlayCache.saveOverlays(G,J.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:J_(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.Ba[d.currentUser.toKey()];v||(v=new se(jt)),v=v.insert(g,_),d.Ba[d.currentUser.toKey()]=v})(s,o.batchId,i),await no(s,o.changes),await fc(s.remoteStore)}catch(o){const f=Dd(o,"Failed to persist write");i.reject(f)}}async function xv(r,e){const i=Et(r);try{const s=await hb(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Na.get(f);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?Ft(d.va):o.removedDocuments.size>0&&(Ft(d.va),d.va=!1))})),await no(i,s,e)}catch(s){await Zl(s)}}function Wy(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Fa.forEach(((f,d)=>{const g=d.view.Z_(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach(((S,R)=>{for(const x of R.j_)x.Z_(g)&&(v=!0)})),v&&Vd(_)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Jb(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Na.get(e),f=o&&o.key;if(f){let d=new se(ft.comparator);d=d.insert(f,Xe.newNoDocument(f,vt.min()));const g=Mt().add(f),_=new oc(vt.min(),new Map,new se(jt),d,g);await xv(s,_),s.Oa=s.Oa.remove(f),s.Na.delete(e),Od(s)}else await Jh(s.localStore,e,!1).then((()=>td(s,e,i))).catch(Zl)}async function Wb(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await fb(i.localStore,e);Lv(i,s,null),Uv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await no(i,o)}catch(o){await Zl(o)}}async function t1(r,e,i){const s=Et(r);try{const o=await(function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next((R=>(Ft(R!==null),S=R.keys(),_.mutationQueue.removeMutationBatch(v,R)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(s.localStore,e);Lv(s,e,i),Uv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await no(s,o)}catch(o){await Zl(o)}}function Uv(r,e){(r.ka.get(e)||[]).forEach((i=>{i.resolve()})),r.ka.delete(e)}function Lv(r,e,i){const s=Et(r);let o=s.Ba[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),i&&r.Ca.$a(s,i);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||zv(r,s)}))}function zv(r,e){r.xa.delete(e.path.canonicalString());const i=r.Oa.get(e);i!==null&&(Sd(r.remoteStore,i),r.Oa=r.Oa.remove(e),r.Na.delete(i),Od(r))}function t_(r,e,i){for(const s of i)s instanceof Iv?(r.La.addReference(s.key,e),e1(r,s)):s instanceof Nv?(rt("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||zv(r,s.key)):pt()}function e1(r,e){const i=e.key,s=i.path.canonicalString();r.Oa.get(i)||r.xa.has(s)||(rt("SyncEngine","New document in limbo: "+i),r.xa.add(s),Od(r))}function Od(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const i=new ft(ae.fromString(e)),s=r.qa.next();r.Na.set(s,new Gb(i)),r.Oa=r.Oa.insert(i,s),Av(r.remoteStore,new Ca(ni(gd(i.path)),s,"TargetPurposeLimboResolution",ud.oe))}}async function no(r,e,i){const s=Et(r),o=[],f=[],d=[];s.Fa.isEmpty()||(s.Fa.forEach(((g,_)=>{d.push(s.Ka(_,e,i).then((v=>{var S;if((v||i)&&s.isPrimaryClient){const R=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(_.targetId,R?"current":"not-current")}if(v){o.push(v);const R=Ad.Wi(_.targetId,v);f.push(R)}})))})),await Promise.all(d),s.Ca.d_(o),await(async function(_,v){const S=Et(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>Z.forEach(v,(x=>Z.forEach(x.$i,(G=>S.persistence.referenceDelegate.addReference(R,x.targetId,G))).next((()=>Z.forEach(x.Ui,(G=>S.persistence.referenceDelegate.removeReference(R,x.targetId,G)))))))))}catch(R){if(!Jl(R))throw R;rt("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const x=R.targetId;if(!R.fromCache){const G=S.os.get(x),Y=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(Y);S.os=S.os.insert(x,W)}}})(s.localStore,f))}async function n1(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const s=await _v(i.localStore,e);i.currentUser=e,(function(f,d){f.ka.forEach((g=>{g.forEach((_=>{_.reject(new ut($.CANCELLED,d))}))})),f.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await no(i,s.hs)}}function i1(r,e){const i=Et(r),s=i.Na.get(e);if(s&&s.va)return Mt().add(s.key);{let o=Mt();const f=i.Ma.get(e);if(!f)return o;for(const d of f){const g=i.Fa.get(d);o=o.unionWith(g.view.Va)}return o}}function Pv(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jb.bind(null,e),e.Ca.d_=jb.bind(null,e.eventManager),e.Ca.$a=qb.bind(null,e.eventManager),e}function a1(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t1.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return cb(this.persistence,new ob,e.initialUser,this.serializer)}Ga(e){return new rb(Td.Zr,this.serializer)}Wa(e){return new yb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n1.bind(null,this.syncEngine),await zb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Bb})()}createDatastore(e){const i=uc(e.databaseInfo.databaseId),s=(function(f){return new Tb(f)})(e.databaseInfo);return(function(f,d,g,_){return new bb(f,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,g){return new Rb(s,o,f,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Wy(this.syncEngine,i,0)),(function(){return Ky.D()?new Ky:new _b})())}createSyncEngine(e,i){return(function(o,f,d,g,_,v,S){const R=new Fb(o,f,d,g,_,v);return S&&(R.Qa=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=Et(o);rt("RemoteStore","RemoteStore shutting down."),f.L_.add(5),await eo(f),f.k_.shutdown(),f.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=B_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{rt("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Dd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mh(r,e){r.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _v(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function e_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await s1(r);rt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Xy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Xy(e.remoteStore,o))),r._onlineComponents=e}async function s1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await Mh(r,new tc)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),await Mh(r,new tc);return r._offlineComponents}async function jv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),await e_(r,r._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),await e_(r,new ed))),r._onlineComponents}function l1(r){return jv(r).then((e=>e.syncEngine))}async function qv(r){const e=await jv(r),i=e.eventManager;return i.onListen=Qb.bind(null,e.syncEngine),i.onUnlisten=Xb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Yb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=$b.bind(null,e.syncEngine),i}function o1(r,e,i={}){const s=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const S=new Bv({next:x=>{S.Za(),d.enqueueAndForget((()=>Vv(f,R)));const G=x.docs.has(g);!G&&x.fromCache?v.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&_&&_.source==="server"?v.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),R=new Ov(gd(g.path),S,{includeMetadataChanges:!0,_a:!0});return Dv(f,R)})(await qv(r),r.asyncQueue,e,i,s))),s.promise}function u1(r,e,i={}){const s=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,g,_,v){const S=new Bv({next:x=>{S.Za(),d.enqueueAndForget((()=>Vv(f,R))),x.fromCache&&_.source==="server"?v.reject(new ut($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),R=new Ov(g,S,{includeMetadataChanges:!0,_a:!0});return Dv(f,R)})(await qv(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r,e,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function c1(r,e,i,s){if(e===!0&&s===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function i_(r){if(!ft.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function a_(r){if(ft.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt()}function Es(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Id(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CA;switch(s.type){case"firstParty":return new IA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=n_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),n_.delete(i),s.terminate())})(this),Promise.resolve()}}function f1(r,e,i,s={}){var o;const f=(r=Es(r,hc))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Ke.MOCK_USER;else{g=oT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ke(v)}r._authCredentials=new DA(new P_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new dc(this.firestore,e,this._query)}}class Nn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Oa extends dc{constructor(e,i,s){super(e,i,gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ft(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Gv(r,e,...i){if(r=ql(r),Hv("collection","path",e),r instanceof hc){const s=ae.fromString(e,...i);return a_(s),new Oa(r,null,s)}{if(!(r instanceof Nn||r instanceof Oa))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(e,...i));return a_(s),new Oa(r.firestore,null,s)}}function Fv(r,e,...i){if(r=ql(r),arguments.length===1&&(e=B_.newId()),Hv("doc","path",e),r instanceof hc){const s=ae.fromString(e,...i);return i_(s),new Nn(r,null,new ft(s))}{if(!(r instanceof Nn||r instanceof Oa))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(e,...i));return i_(s),new Nn(r.firestore,r instanceof Oa?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ev(this,"async_queue_retry"),this.Vu=()=>{const s=Nh();s&&rt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=Nh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Nh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Mi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Jl(e))throw e;rt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(s);throw Li("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=Cd.createAndSchedule(this,e,i,s,(f=>this.yu(f)));return this.Tu.push(o),o}fu(){this.Eu&&pt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class mc extends hc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new s_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s_(e),this._firestoreClient=void 0,await e}}}function h1(r,e){const i=typeof r=="object"?r:yA(),s=typeof r=="string"?r:"(default)",o=dA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=sT("firestore");f&&f1(o,...f)}return o}function Nd(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d1(r),r._firestoreClient}function d1(r){var e,i,s;const o=r._freezeSettings(),f=(function(g,_,v,S){return new GA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,kv(S.experimentalLongPollingOptions),S.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new r1(r._authCredentials,r._appCheckCredentials,r._queue,f,r._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(He.fromBase64String(e))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ts(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=/^__.*__$/;class g1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}function Yv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class Ld{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ec(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Yv(this.Cu)&&m1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class p1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||uc(e)}Qu(e,i,s,o=!1){return new Ld({Cu:e,methodName:i,qu:s,path:qe.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y1(r){const e=r._freezeSettings(),i=uc(r._databaseId);return new p1(r._databaseId,!!e.ignoreUndefinedProperties,i)}function _1(r,e,i,s,o,f={}){const d=r.Qu(f.merge||f.mergeFields?2:0,e,i,o);Zv("Data must be an object, but it was:",d,s);const g=Xv(s,d);let _,v;if(f.merge)_=new qn(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const S=[];for(const R of f.mergeFields){const x=v1(e,R,i);if(!d.contains(x))throw new ut($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);T1(S,x)||S.push(x)}_=new qn(S),v=d.fieldTransforms.filter((R=>_.covers(R.field)))}else _=null,v=d.fieldTransforms;return new g1(new In(g),_,v)}function Kv(r,e){if($v(r=ql(r)))return Zv("Unsupported field value:",e,r),Xv(r,e);if(r instanceof Qv)return(function(s,o){if(!Yv(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const g of s){let _=Kv(g,o.Lu(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=ql(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=we.fromDate(s);return{timestampValue:Ju(o.serializer,f)}}if(s instanceof we){const f=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,f)}}if(s instanceof xd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ts)return{bytesValue:fv(o.serializer,s._byteString)};if(s instanceof Nn){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:vd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ud)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Bu("VectorValues must only contain numeric values.");return pd(g.serializer,_)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${Id(s)}`)})(r,e)}function Xv(r,e){const i={};return j_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(r,((s,o)=>{const f=Kv(o,e.Mu(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function $v(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof xd||r instanceof Ts||r instanceof Nn||r instanceof Qv||r instanceof Ud)}function Zv(r,e,i){if(!$v(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const s=Id(i);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function v1(r,e,i){if((e=ql(e))instanceof Md)return e._internalPath;if(typeof e=="string")return Jv(r,e);throw ec("Field path arguments must be of type string or ",r,!1,void 0,i)}const E1=new RegExp("[~\\*/\\[\\]]");function Jv(r,e,i){if(e.search(E1)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Md(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ec(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ut($.INVALID_ARGUMENT,g+r+_)}function T1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(t0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class A1 extends Wv{data(){return super.data()}}function t0(r,e){return typeof e=="string"?Jv(r,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b1{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rs(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){var i,s,o;const f=(o=(s=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>ge(d.doubleValue)));return new Ud(f)}convertGeoPoint(e){return new xd(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=fd(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=Na(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ae.fromString(e);Ft(yv(s));const o=new Ql(s.get(1),s.get(3)),f=new ft(s.popFirst(5));return o.isEqual(i)||Li(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e0 extends Wv{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(t0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class qu extends e0{data(e={}){return super.data(e)}}class R1{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new qu(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ll(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const _=new qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ll(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:C1(g.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function C1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){r=Es(r,Nn);const e=Es(r.firestore,mc);return o1(Nd(e),r._key).then((i=>N1(e,r,i)))}class n0 extends b1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,i)}}function V1(r){r=Es(r,dc);const e=Es(r.firestore,mc),i=Nd(e),s=new n0(e);return S1(r._query),u1(i,r._query).then((o=>new R1(e,s,r,o)))}function O1(r,e){const i=Es(r.firestore,mc),s=Fv(r),o=w1(r.converter,e);return I1(i,[_1(y1(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,xi.exists(!1))]).then((()=>s))}function I1(r,e){return(function(s,o){const f=new Mi;return s.asyncQueue.enqueueAndForget((async()=>Zb(await l1(s),o,f))),f.promise})(Nd(r),e)}function N1(r,e,i){const s=i.docs.get(e._key),o=new n0(r);return new e0(r,o,e._key,s,new Ll(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ws=o})(pA),Qu(new kl("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new mc(new VA(s.getProvider("auth-internal")),new MA(s.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(v.options.projectId,S)})(d,o),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),hs(wy,"4.7.3",e),hs(wy,"4.7.3","esm2017")})();var M1="firebase",x1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(M1,x1,"app");var l_={};const os=r=>{const e=typeof import.meta<"u"?import.meta:void 0;if(e&&e.env&&e.env[r])return e.env[r];if(typeof process<"u"&&l_[r])return l_[r]},zd=[],fr={apiKey:os("VITE_FIREBASE_API_KEY"),authDomain:os("VITE_FIREBASE_AUTH_DOMAIN"),projectId:os("VITE_FIREBASE_PROJECT_ID"),storageBucket:os("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:os("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:os("VITE_FIREBASE_APP_ID")};Object.entries(fr).forEach(([r,e])=>{e||zd.push(r)});const io=zd.length===0;let gc=null;if(!io)console.warn("[firebaseConfig] Firebase no configurado. Las siguientes claves VITE_* faltan o no estuvieron disponibles en tiempo de build:",zd),console.warn("[firebaseConfig] Para desarrollo local crea un archivo `.env.local` en la raz con las variables VITE_FIREBASE_*. En CI asegrate de inyectarlas antes de la compilacin. Ver `./.env.example` como referencia.");else{const r={apiKey:fr.apiKey,authDomain:fr.authDomain,projectId:fr.projectId,storageBucket:fr.storageBucket,messagingSenderId:fr.messagingSenderId,appId:fr.appId},e=V_(r);gc=h1(e)}const ei=[{id:"1",text:"Yo nunca he fingido que me gustaba un regalo.",isPremium:!1},{id:"2",text:"Yo nunca he espiado el mvil de mi pareja.",isPremium:!1},{id:"3",text:"Yo nunca he usado el cepillo de dientes de otra persona.",isPremium:!1},{id:"4",text:"Yo nunca he vuelto con un ex.",isPremium:!1},{id:"5",text:"Yo nunca me he redo en un momento inoportuno.",isPremium:!1}],$t={freePhrases:[],premiumPhrases:[],adultPhrases:[],allPhrases:[],lastUpdated:0},U1=3600*1e3,i0=()=>{const r=Date.now();return $t.lastUpdated>0&&r-$t.lastUpdated<U1},nd=async(r=!1)=>{if(i0()&&!r){console.log("Cach de frases vlido, omitiendo actualizacin");return}if(!io){console.warn("[updatePhraseCache] Firebase no est configurado, usando datos mock."),$t.freePhrases=ei.filter(e=>!e.isPremium),$t.premiumPhrases=ei.filter(e=>e.isPremium),$t.adultPhrases=[],$t.allPhrases=ei,$t.lastUpdated=Date.now();return}try{console.log("Actualizando cach de frases...");const e=Gv(gc,"phrases"),i=await V1(e);$t.freePhrases=[],$t.premiumPhrases=[],$t.adultPhrases=[],$t.allPhrases=[],i.forEach(s=>{const o={id:s.id,...s.data()};$t.allPhrases.push(o),o.isPremium?$t.premiumPhrases.push(o):$t.freePhrases.push(o),o.isAdult&&$t.adultPhrases.push(o)}),$t.lastUpdated=Date.now(),console.log(`Cach actualizado: ${$t.allPhrases.length} frases en total`)}catch(e){console.error("Error actualizando cach de frases:",e),$t.freePhrases=ei.filter(i=>!i.isPremium),$t.premiumPhrases=ei.filter(i=>i.isPremium),$t.adultPhrases=[],$t.allPhrases=ei,$t.lastUpdated=Date.now()}},L1=async(r,e=!1)=>{if(console.log(`Fetching phrases... premium=${r} adult=${e}`),!io)return console.warn("[fetchPhrases] Firebase no est configurado, devolviendo datos mock."),r?ei:ei.filter(i=>!i.isPremium);try{(!i0()||$t.allPhrases.length===0)&&await nd(!0);let i=[];return r&&e?i=[...$t.allPhrases]:r&&!e?i=$t.allPhrases.filter(s=>!s.isAdult):!r&&e?i=$t.freePhrases:i=$t.freePhrases.filter(s=>!s.isAdult),i}catch(i){return console.error("Error obteniendo frases desde cach:",i),r?ei:ei.filter(s=>!s.isPremium)}},z1=async r=>{console.log(`Adding suggestion: "${r}"`);try{if(!io)throw console.warn("[addSuggestion] Firebase no est configurado. La sugerencia no se enviar en este entorno."),new Error("Firebase no configurado en este entorno.");await O1(Gv(gc,"suggestions"),{text:r,createdAt:new Date,status:"pending"}),console.log("Suggestion submitted successfully.")}catch(e){throw console.error("Error adding suggestion:",e),new Error("No se pudo enviar la sugerencia. Intntalo ms tarde.")}},dw=async()=>{try{if(!io)return console.warn("[getStripeProductKeys] Firebase no est configurado, devolviendo claves por defecto."),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"};const r=Fv(gc,"config","stripe_products"),e=await D1(r);return e.exists()?e.data():(console.log("No se encontraron claves de productos en Firestore"),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"})}catch(r){return console.error("Error obteniendo claves de productos:",r),{price_remove_ads:"price_remove_ads",price_premium_phrases:"price_premium_phrases"}}},P1=({navigate:r,hasPremium:e,includeAdult:i})=>{const[s,o]=me.useState([]),[f,d]=me.useState(null),[g,_]=me.useState(!0),[v,S]=me.useState(null);me.useEffect(()=>{(async()=>{try{_(!0),S(null);const Y=await L1(e,!!i);Y.length===0?S("No se encontraron frases. Intntalo ms tarde."):(o(Y),d(Y[Math.floor(Math.random()*Y.length)]))}catch(Y){S("No se pudieron cargar las frases. Revisa tu conexin."),console.error(Y)}finally{_(!1)}})()},[e]);const R=me.useCallback(()=>{if(s.length>0){const G=s.filter(Y=>Y.id!==(f==null?void 0:f.id));if(G.length>0){const Y=G[Math.floor(Math.random()*G.length)];d(Y)}else{const Y=s[Math.floor(Math.random()*s.length)];d(Y)}}},[s,f]),x=()=>g?nt.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[nt.jsx("i",{className:"fas fa-spinner fa-spin text-5xl text-cyan-400"}),nt.jsx("p",{className:"mt-4 text-slate-300",children:"Cargando frases..."})]}):v?nt.jsx("p",{className:"text-center text-red-400",children:v}):f&&nt.jsxs("div",{className:"text-center text-2xl md:text-3xl font-semibold leading-relaxed animate-fadeIn",children:[nt.jsx("span",{className:"text-slate-400",children:"Yo nunca..."}),nt.jsx("br",{}),nt.jsx("span",{className:"text-white drop-shadow-lg",children:f.text})]},f.id);return nt.jsxs("div",{className:"flex flex-col items-center justify-between h-full w-full p-4",children:[nt.jsx("div",{className:"w-full flex justify-start",children:nt.jsx("button",{onClick:()=>r(jn.Home),className:"text-slate-400 hover:text-white transition-colors",children:nt.jsx("i",{className:"fas fa-arrow-left fa-lg"})})}),nt.jsx("div",{className:"flex-grow flex items-center justify-center w-full max-w-md my-8",children:x()}),nt.jsx("div",{className:"w-full max-w-xs",children:nt.jsxs(Ra,{onClick:R,disabled:g||s.length<=1,fullWidth:!0,size:"large",children:[nt.jsx("i",{className:"fas fa-forward mr-2"}),"Siguiente"]})})]})},o_=({icon:r,title:e,description:i,price:s,onClick:o,disabled:f,disabledText:d})=>nt.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-6 flex flex-col items-center text-center backdrop-blur-sm border border-slate-700 transition-all ${f?"opacity-60":""}`,children:[nt.jsx("i",{className:`text-5xl mb-4 text-cyan-400 ${r}`}),nt.jsx("h3",{className:"text-xl font-bold mb-2",children:e}),nt.jsx("p",{className:"text-slate-400 mb-4 flex-grow",children:i}),f?nt.jsx("p",{className:"text-lg font-bold text-green-400",children:d||"Comprado!"}):nt.jsx(Ra,{onClick:o,fullWidth:!0,children:s})]}),B1=({navigate:r,onPurchaseRemoveAds:e,onPurchasePremium:i,showAds:s,hasPremium:o})=>{const f=async(d,g)=>{var v,S;console.log(`Initiating ${g} purchase flow...`);const _=((S=(v=window.Capacitor)==null?void 0:v.isNativePlatform)==null?void 0:S.call(v))??!1;try{if(_){const R=await Hu(()=>import("./purchaseService-C_GG-Fee.js"),[],import.meta.url),x=g==="removeAds"?"remove_ads":"premium_phrases";await R.buyProduct(x)&&d()}else{const{handleRemoveAdsPayment:R,handlePremiumPayment:x}=await Hu(async()=>{const{handleRemoveAdsPayment:Y,handlePremiumPayment:W}=await import("./stripeService-B_eRQCQM.js");return{handleRemoveAdsPayment:Y,handlePremiumPayment:W}},[],import.meta.url);let G=!1;g==="removeAds"?G=await R():g==="premium"&&(G=await x()),G&&d()}}catch(R){console.error("Payment error:",R),alert("No se pudo procesar el pago. Intntalo ms tarde.")}};return nt.jsxs("div",{className:"flex flex-col w-full h-full p-4 animate-fadeIn",children:[nt.jsxs("div",{className:"flex justify-between items-center mb-8",children:[nt.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500",children:"Tienda"}),nt.jsx("button",{onClick:()=>r(jn.Home),className:"text-slate-400 hover:text-white transition-colors",children:nt.jsx("i",{className:"fas fa-times fa-2x"})})]}),nt.jsxs("div",{className:"space-y-6",children:[nt.jsx(o_,{icon:"fas fa-shield-halved",title:"Eliminar Anuncios",description:"Disfruta de una experiencia de juego ininterrumpida sin anuncios.",price:"Comprar por 2.99",onClick:()=>f(e,"removeAds"),disabled:!s}),nt.jsx(o_,{icon:"fas fa-star",title:"Paquete Premium",description:"Desbloquea cientos de frases extra, ms atrevidas y divertidas.",price:"Comprar por 4.99",onClick:()=>f(i,"premium"),disabled:o})]}),nt.jsx("p",{className:"text-center text-slate-500 text-xs mt-8",children:"Las compras son procesadas de forma segura a travs de Stripe."})]})},j1=({children:r,onClose:e})=>nt.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:e,children:nt.jsx("div",{className:"bg-slate-800 rounded-lg shadow-2xl w-full max-w-md border border-slate-700 animate-scaleUp",onClick:i=>i.stopPropagation(),children:r})}),q1=({onClose:r})=>{const[e,i]=me.useState(""),[s,o]=me.useState(!1),[f,d]=me.useState(""),[g,_]=me.useState(!1),v=async S=>{if(S.preventDefault(),e.trim().length<10){d("La frase debe tener al menos 10 caracteres.");return}d(""),o(!0);try{await z1(e),_(!0),setTimeout(()=>{r()},2e3)}catch{d("No se pudo enviar la sugerencia. Intntalo de nuevo."),o(!1)}};return nt.jsx(j1,{onClose:r,children:nt.jsx("div",{className:"p-6",children:g?nt.jsxs("div",{className:"text-center",children:[nt.jsx("i",{className:"fas fa-check-circle text-5xl text-green-400 mb-4"}),nt.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Gracias!"}),nt.jsx("p",{className:"text-slate-300",children:"Tu sugerencia ha sido enviada para revisin."})]}):nt.jsxs(nt.Fragment,{children:[nt.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sugerir una Frase"}),nt.jsx("p",{className:"text-slate-400 mb-6",children:"Tienes una idea genial? Comprtela con nosotros! Si es aprobada, aparecer en el juego."}),nt.jsxs("form",{onSubmit:v,children:[nt.jsxs("div",{className:"relative",children:[nt.jsx("span",{className:"absolute left-4 top-3 text-slate-400",children:"Yo nunca..."}),nt.jsx("input",{type:"text",value:e,onChange:S=>i(S.target.value),placeholder:"he hecho...",className:"w-full bg-slate-700 border border-slate-600 rounded-md py-3 pr-4 pl-36 focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",disabled:s})]}),f&&nt.jsx("p",{className:"text-red-400 text-sm mt-2",children:f}),nt.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[nt.jsx(Ra,{type:"button",variant:"secondary",onClick:r,disabled:s,children:"Cancelar"}),nt.jsx(Ra,{type:"submit",disabled:s||e.trim()==="",children:s?nt.jsxs(nt.Fragment,{children:[nt.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Enviando..."]}):"Enviar Sugerencia"})]})]})]})})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var As;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(As||(As={}));let xh=class extends Error{constructor(e,i,s){super(e),this.message=e,this.code=i,this.data=s}};const k1=r=>{var e,i;return r!=null&&r.androidBridge?"android":!((i=(e=r==null?void 0:r.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},H1=r=>{const e=r.CapacitorCustomPlatform||null,i=r.Capacitor||{},s=i.Plugins=i.Plugins||{},o=()=>e!==null?e.name:k1(r),f=()=>o()!=="web",d=R=>{const x=v.get(R);return!!(x!=null&&x.platforms.has(o())||g(R))},g=R=>{var x;return(x=i.PluginHeaders)===null||x===void 0?void 0:x.find(G=>G.name===R)},_=R=>r.console.error(R),v=new Map,S=(R,x={})=>{const G=v.get(R);if(G)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),G.proxy;const Y=o(),W=g(R);let J;const mt=async()=>(!J&&Y in x?J=typeof x[Y]=="function"?J=await x[Y]():J=x[Y]:e!==null&&!J&&"web"in x&&(J=typeof x.web=="function"?J=await x.web():J=x.web),J),At=(A,b)=>{var O,N;if(W){const M=W==null?void 0:W.methods.find(w=>b===w.name);if(M)return M.rtype==="promise"?w=>i.nativePromise(R,b.toString(),w):(w,Zt)=>i.nativeCallback(R,b.toString(),w,Zt);if(A)return(O=A[b])===null||O===void 0?void 0:O.bind(A)}else{if(A)return(N=A[b])===null||N===void 0?void 0:N.bind(A);throw new xh(`"${R}" plugin is not implemented on ${Y}`,As.Unimplemented)}},dt=A=>{let b;const O=(...N)=>{const M=mt().then(w=>{const Zt=At(w,A);if(Zt){const Jt=Zt(...N);return b=Jt==null?void 0:Jt.remove,Jt}else throw new xh(`"${R}.${A}()" is not implemented on ${Y}`,As.Unimplemented)});return A==="addListener"&&(M.remove=async()=>b()),M};return O.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:A,writable:!1,configurable:!1}),O},Rt=dt("addListener"),Wt=dt("removeListener"),Vt=(A,b)=>{const O=Rt({eventName:A},b),N=async()=>{const w=await O;Wt({eventName:A,callbackId:w},b)},M=new Promise(w=>O.then(()=>w({remove:N})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await N()},M},C=new Proxy({},{get(A,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?Vt:Rt;case"removeListener":return Wt;default:return dt(b)}}});return s[R]=C,v.set(R,{name:R,proxy:C,platforms:new Set([...Object.keys(x),...W?[Y]:[]])}),C};return i.convertFileSrc||(i.convertFileSrc=R=>R),i.getPlatform=o,i.handleError=_,i.isNativePlatform=f,i.isPluginAvailable=d,i.registerPlugin=S,i.Exception=xh,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},G1=r=>r.Capacitor=H1(r),id=G1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pd=id.registerPlugin;let a0=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,i){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(i);const f=this.windowListeners[e];f&&!f.registered&&this.addWindowListener(f),s&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,i);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,i,s){const o=this.listeners[e];if(!o){if(s){let f=this.retainedEventArguments[e];f||(f=[]),f.push(i),this.retainedEventArguments[e]=f}return}o.forEach(f=>f(i))}hasListeners(e){var i;return!!(!((i=this.listeners[e])===null||i===void 0)&&i.length)}registerWindowListener(e,i){this.windowListeners[i]={registered:!1,windowEventName:e,pluginEventName:i,handler:s=>{this.notifyListeners(i,s)}}}unimplemented(e="not implemented"){return new id.Exception(e,As.Unimplemented)}unavailable(e="not available"){return new id.Exception(e,As.Unavailable)}async removeListener(e,i){const s=this.listeners[e];if(!s)return;const o=s.indexOf(i);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const i=this.retainedEventArguments[e];i&&(delete this.retainedEventArguments[e],i.forEach(s=>{this.notifyListeners(e,s)}))}};const u_=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),c_=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);let F1=class extends a0{async getCookies(){const e=document.cookie,i={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,f]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=c_(o).trim(),f=c_(f).trim(),i[o]=f}),i}async setCookie(e){try{const i=u_(e.key),s=u_(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,f=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${i}=${s||""}${o}; path=${f}; ${d};`}catch(i){return Promise.reject(i)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const i of e)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}};Pd("CapacitorCookies",{web:()=>new F1});const Q1=async r=>new Promise((e,i)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>i(o),s.readAsDataURL(r)}),Y1=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(o=>o.toLocaleLowerCase()).reduce((o,f,d)=>(o[f]=r[e[d]],o),{})},K1=(r,e=!0)=>r?Object.entries(r).reduce((s,o)=>{const[f,d]=o;let g,_;return Array.isArray(d)?(_="",d.forEach(v=>{g=e?encodeURIComponent(v):v,_+=`${f}=${g}&`}),_.slice(0,-1)):(g=e?encodeURIComponent(d):d,_=`${f}=${g}`),`${s}&${_}`},"").substr(1):null,X1=(r,e={})=>{const i=Object.assign({method:r.method||"GET",headers:r.headers},e),o=Y1(r.headers)["content-type"]||"";if(typeof r.data=="string")i.body=r.data;else if(o.includes("application/x-www-form-urlencoded")){const f=new URLSearchParams;for(const[d,g]of Object.entries(r.data||{}))f.set(d,g);i.body=f.toString()}else if(o.includes("multipart/form-data")||r.data instanceof FormData){const f=new FormData;if(r.data instanceof FormData)r.data.forEach((g,_)=>{f.append(_,g)});else for(const g of Object.keys(r.data))f.append(g,r.data[g]);i.body=f;const d=new Headers(i.headers);d.delete("content-type"),i.headers=d}else(o.includes("application/json")||typeof r.data=="object")&&(i.body=JSON.stringify(r.data));return i};let $1=class extends a0{async request(e){const i=X1(e,e.webFetchExtra),s=K1(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,f=await fetch(o,i),d=f.headers.get("content-type")||"";let{responseType:g="text"}=f.ok?e:{};d.includes("application/json")&&(g="json");let _,v;switch(g){case"arraybuffer":case"blob":v=await f.blob(),_=await Q1(v);break;case"json":_=await f.json();break;case"document":case"text":default:_=await f.text()}const S={};return f.headers.forEach((R,x)=>{S[x]=R}),{data:_,headers:S,status:f.status,url:f.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}};Pd("CapacitorHttp",{web:()=>new $1});var f_;(function(r){r.General="General",r.ParentalGuidance="ParentalGuidance",r.Teen="Teen",r.MatureAudience="MatureAudience"})(f_||(f_={}));var h_;(function(r){r.SizeChanged="bannerAdSizeChanged",r.Loaded="bannerAdLoaded",r.FailedToLoad="bannerAdFailedToLoad",r.Opened="bannerAdOpened",r.Closed="bannerAdClosed",r.AdImpression="bannerAdImpression"})(h_||(h_={}));var d_;(function(r){r.TOP_CENTER="TOP_CENTER",r.CENTER="CENTER",r.BOTTOM_CENTER="BOTTOM_CENTER"})(d_||(d_={}));var ad;(function(r){r.BANNER="BANNER",r.FULL_BANNER="FULL_BANNER",r.LARGE_BANNER="LARGE_BANNER",r.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",r.LEADERBOARD="LEADERBOARD",r.ADAPTIVE_BANNER="ADAPTIVE_BANNER",r.SMART_BANNER="SMART_BANNER"})(ad||(ad={}));var m_;(function(r){r.Loaded="interstitialAdLoaded",r.FailedToLoad="interstitialAdFailedToLoad",r.Showed="interstitialAdShowed",r.FailedToShow="interstitialAdFailedToShow",r.Dismissed="interstitialAdDismissed"})(m_||(m_={}));var g_;(function(r){r.Loaded="onRewardedInterstitialAdLoaded",r.FailedToLoad="onRewardedInterstitialAdFailedToLoad",r.Showed="onRewardedInterstitialAdShowed",r.FailedToShow="onRewardedInterstitialAdFailedToShow",r.Dismissed="onRewardedInterstitialAdDismissed",r.Rewarded="onRewardedInterstitialAdReward"})(g_||(g_={}));var p_;(function(r){r.Loaded="onRewardedVideoAdLoaded",r.FailedToLoad="onRewardedVideoAdFailedToLoad",r.Showed="onRewardedVideoAdShowed",r.FailedToShow="onRewardedVideoAdFailedToShow",r.Dismissed="onRewardedVideoAdDismissed",r.Rewarded="onRewardedVideoAdReward"})(p_||(p_={}));var y_;(function(r){r.NOT_REQUIRED="NOT_REQUIRED",r.OBTAINED="OBTAINED",r.REQUIRED="REQUIRED",r.UNKNOWN="UNKNOWN"})(y_||(y_={}));var __;(function(r){r[r.DISABLED=0]="DISABLED",r[r.EEA=1]="EEA",r[r.NOT_EEA=2]="NOT_EEA"})(__||(__={}));const ku=Pd("AdMob",{web:()=>Hu(()=>import("./web-BwpyE5L4.js"),[],import.meta.url).then(r=>new r.AdMobWeb)}),Z1=()=>{const[r,e]=me.useState(jn.Home),[i,s]=me.useState(!1),[o,f]=me.useState(!0),[d,g]=me.useState(!1),[_,v]=me.useState(!1);me.useEffect(()=>{if(XE(),(async()=>{try{console.log("Inicializando cach de frases al arrancar la app"),await nd(!0)}catch(W){console.error("Error inicializando cach de frases:",W)}})(),o){const W={adId:"ca-app-pub-9300246128306730/2896321418",adSize:ad.BANNER,position:"BOTTOM_CENTER",margin:0};ku.showBanner(W).then(()=>console.log("Banner AdMob mostrado")).catch(J=>console.error("Error mostrando banner (mobile):",J))}return()=>{ku.hideBanner().catch(()=>{})}},[o]),me.useEffect(()=>{(async()=>{try{console.log(`Estado premium cambiado: ${d}, actualizando cach...`),await nd(!0)}catch(W){console.error("Error actualizando cach despus de cambio premium:",W)}})()},[d]);const S=me.useCallback(Y=>{e(Y)},[]),R=()=>{f(!1),ku.hideBanner().catch(()=>{}),alert("Gracias! Los anuncios han sido eliminados."),e(jn.Home)},x=()=>{g(!0),alert("Gracias! Has comprado el paquete de frases premium."),e(jn.Home)},G=()=>{switch(r){case jn.Game:return nt.jsx(P1,{navigate:S,hasPremium:d,includeAdult:_});case jn.Store:return nt.jsx(B1,{navigate:S,onPurchaseRemoveAds:R,onPurchasePremium:x,showAds:o,hasPremium:d});case jn.Home:default:return nt.jsx($E,{navigate:S,onSuggestClick:()=>s(!0),onStartGame:Y=>v(Y)})}};return nt.jsxs("div",{className:"relative min-h-screen w-full flex flex-col items-center justify-center p-4 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 overflow-hidden",children:[nt.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),nt.jsx("div",{className:"z-10 w-full max-w-md mx-auto flex-grow flex flex-col justify-center",children:G()}),i&&nt.jsx(q1,{onClose:()=>s(!1)})]})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const J1=r=>{const e=new Map;e.set("web",{name:"web"});const i=r.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(f,d)=>{i.platforms.set(f,d)},o=f=>{i.platforms.has(f)&&(i.currentPlatform=i.platforms.get(f))};return i.addPlatform=s,i.setPlatform=o,i},W1=r=>r.CapacitorPlatforms=J1(r),r0=W1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});r0.addPlatform;r0.setPlatform;var Ss;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(Ss||(Ss={}));class Uh extends Error{constructor(e,i,s){super(e),this.message=e,this.code=i,this.data=s}}const tw=r=>{var e,i;return r!=null&&r.androidBridge?"android":!((i=(e=r==null?void 0:r.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},ew=r=>{var e,i,s,o,f;const d=r.CapacitorCustomPlatform||null,g=r.Capacitor||{},_=g.Plugins=g.Plugins||{},v=r.CapacitorPlatforms,S=()=>d!==null?d.name:tw(r),R=((e=v==null?void 0:v.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||S,x=()=>R()!=="web",G=((i=v==null?void 0:v.currentPlatform)===null||i===void 0?void 0:i.isNativePlatform)||x,Y=C=>{const A=Rt.get(C);return!!(A!=null&&A.platforms.has(R())||mt(C))},W=((s=v==null?void 0:v.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||Y,J=C=>{var A;return(A=g.PluginHeaders)===null||A===void 0?void 0:A.find(b=>b.name===C)},mt=((o=v==null?void 0:v.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||J,At=C=>r.console.error(C),dt=(C,A,b)=>Promise.reject(`${b} does not have an implementation of "${A}".`),Rt=new Map,Wt=(C,A={})=>{const b=Rt.get(C);if(b)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),b.proxy;const O=R(),N=mt(C);let M;const w=async()=>(!M&&O in A?M=typeof A[O]=="function"?M=await A[O]():M=A[O]:d!==null&&!M&&"web"in A&&(M=typeof A.web=="function"?M=await A.web():M=A.web),M),Zt=(gt,V)=>{var k,X;if(N){const it=N==null?void 0:N.methods.find(lt=>V===lt.name);if(it)return it.rtype==="promise"?lt=>g.nativePromise(C,V.toString(),lt):(lt,yt)=>g.nativeCallback(C,V.toString(),lt,yt);if(gt)return(k=gt[V])===null||k===void 0?void 0:k.bind(gt)}else{if(gt)return(X=gt[V])===null||X===void 0?void 0:X.bind(gt);throw new Uh(`"${C}" plugin is not implemented on ${O}`,Ss.Unimplemented)}},Jt=gt=>{let V;const k=(...X)=>{const it=w().then(lt=>{const yt=Zt(lt,gt);if(yt){const bt=yt(...X);return V=bt==null?void 0:bt.remove,bt}else throw new Uh(`"${C}.${gt}()" is not implemented on ${O}`,Ss.Unimplemented)});return gt==="addListener"&&(it.remove=async()=>V()),it};return k.toString=()=>`${gt.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:gt,writable:!1,configurable:!1}),k},H=Jt("addListener"),et=Jt("removeListener"),ot=(gt,V)=>{const k=H({eventName:gt},V),X=async()=>{const lt=await k;et({eventName:gt,callbackId:lt},V)},it=new Promise(lt=>k.then(()=>lt({remove:X})));return it.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await X()},it},Ot=new Proxy({},{get(gt,V){switch(V){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?ot:H;case"removeListener":return et;default:return Jt(V)}}});return _[C]=Ot,Rt.set(C,{name:C,proxy:Ot,platforms:new Set([...Object.keys(A),...N?[O]:[]])}),Ot},Vt=((f=v==null?void 0:v.currentPlatform)===null||f===void 0?void 0:f.registerPlugin)||Wt;return g.convertFileSrc||(g.convertFileSrc=C=>C),g.getPlatform=R,g.handleError=At,g.isNativePlatform=G,g.isPluginAvailable=W,g.pluginMethodNoop=dt,g.registerPlugin=Vt,g.Exception=Uh,g.DEBUG=!!g.DEBUG,g.isLoggingEnabled=!!g.isLoggingEnabled,g.platform=g.getPlatform(),g.isNative=g.isNativePlatform(),g},nw=r=>r.Capacitor=ew(r),$l=nw(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s0=$l.registerPlugin,_w=$l.Plugins;class l0{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,i){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(i);const f=this.windowListeners[e];f&&!f.registered&&this.addWindowListener(f),s&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,i);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,i,s){const o=this.listeners[e];if(!o){if(s){let f=this.retainedEventArguments[e];f||(f=[]),f.push(i),this.retainedEventArguments[e]=f}return}o.forEach(f=>f(i))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,i){this.windowListeners[i]={registered:!1,windowEventName:e,pluginEventName:i,handler:s=>{this.notifyListeners(i,s)}}}unimplemented(e="not implemented"){return new $l.Exception(e,Ss.Unimplemented)}unavailable(e="not available"){return new $l.Exception(e,Ss.Unavailable)}async removeListener(e,i){const s=this.listeners[e];if(!s)return;const o=s.indexOf(i);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const i=this.retainedEventArguments[e];i&&(delete this.retainedEventArguments[e],i.forEach(s=>{this.notifyListeners(e,s)}))}}const v_=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),E_=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class iw extends l0{async getCookies(){const e=document.cookie,i={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,f]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=E_(o).trim(),f=E_(f).trim(),i[o]=f}),i}async setCookie(e){try{const i=v_(e.key),s=v_(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,f=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${i}=${s||""}${o}; path=${f}; ${d};`}catch(i){return Promise.reject(i)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const i of e)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}s0("CapacitorCookies",{web:()=>new iw});const aw=async r=>new Promise((e,i)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>i(o),s.readAsDataURL(r)}),rw=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(o=>o.toLocaleLowerCase()).reduce((o,f,d)=>(o[f]=r[e[d]],o),{})},sw=(r,e=!0)=>r?Object.entries(r).reduce((s,o)=>{const[f,d]=o;let g,_;return Array.isArray(d)?(_="",d.forEach(v=>{g=e?encodeURIComponent(v):v,_+=`${f}=${g}&`}),_.slice(0,-1)):(g=e?encodeURIComponent(d):d,_=`${f}=${g}`),`${s}&${_}`},"").substr(1):null,lw=(r,e={})=>{const i=Object.assign({method:r.method||"GET",headers:r.headers},e),o=rw(r.headers)["content-type"]||"";if(typeof r.data=="string")i.body=r.data;else if(o.includes("application/x-www-form-urlencoded")){const f=new URLSearchParams;for(const[d,g]of Object.entries(r.data||{}))f.set(d,g);i.body=f.toString()}else if(o.includes("multipart/form-data")||r.data instanceof FormData){const f=new FormData;if(r.data instanceof FormData)r.data.forEach((g,_)=>{f.append(_,g)});else for(const g of Object.keys(r.data))f.append(g,r.data[g]);i.body=f;const d=new Headers(i.headers);d.delete("content-type"),i.headers=d}else(o.includes("application/json")||typeof r.data=="object")&&(i.body=JSON.stringify(r.data));return i};class ow extends l0{async request(e){const i=lw(e,e.webFetchExtra),s=sw(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,f=await fetch(o,i),d=f.headers.get("content-type")||"";let{responseType:g="text"}=f.ok?e:{};d.includes("application/json")&&(g="json");let _,v;switch(g){case"arraybuffer":case"blob":v=await f.blob(),_=await aw(v);break;case"json":_=await f.json();break;case"document":case"text":default:_=await f.text()}const S={};return f.headers.forEach((R,x)=>{S[x]=R}),{data:_,headers:S,status:f.status,url:f.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}s0("CapacitorHttp",{web:()=>new ow});const uw=async()=>{if($l.isNativePlatform())try{await ku.initialize(),console.log("AdMob inicializado correctamente")}catch(r){console.error("Error inicializando AdMob:",r)}};uw().then(()=>{QE.createRoot(document.getElementById("root")).render(nt.jsx(PE.StrictMode,{children:nt.jsx(Z1,{})}))}).catch(r=>console.error("Error al iniciar la app:",r));export{y_ as A,d_ as B,$l as C,_w as P,a0 as W,ku as a,ad as b,dw as g};
//# sourceMappingURL=index-DZs6SycE.js.map
